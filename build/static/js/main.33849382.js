/*! For license information please see main.33849382.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,s)=>{e.exports=s(202)},153:(e,t,s)=>{var a=s(43),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var a,l={},c=null,d=null;for(a in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!o.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:n,type:e,key:c,ref:d,props:l,_owner:i.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},202:(e,t)=>{var s=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),x=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function f(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||h}function b(){}function j(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||h}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=f.prototype;var v=j.prototype=new b;v.constructor=j,p(v,f.prototype),v.isPureReactComponent=!0;var y=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,a){var n,l={},r=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(r=""+t.key),t)N.call(t,n)&&!k.hasOwnProperty(n)&&(l[n]=t[n]);var o=arguments.length-2;if(1===o)l.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===l[n]&&(l[n]=o[n]);return{$$typeof:s,type:e,key:r,ref:i,props:l,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var S=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,n,l,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case a:o=!0}}if(o)return r=r(o=e),e=""===l?"."+A(o,0):l,y(r)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),E(r,t,n,"",function(e){return e})):null!=r&&(C(r)&&(r=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(S,"$&/")+"/")+e)),t.push(r)),1;if(o=0,l=""===l?".":l+":",y(e))for(var c=0;c<e.length;c++){var d=l+A(i=e[c],c);o+=E(i,t,n,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=x&&e[x]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=E(i=i.value,t,n,d=l+A(i,c++),r);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function M(e,t,s){if(null==e)return e;var a=[],n=0;return E(e,a,"","",function(e){return t.call(s,e,n++)}),a}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},L={transition:null},T={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:L,ReactCurrentOwner:w};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,s){M(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=n,t.Profiler=r,t.PureComponent=j,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=R,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p({},e.props),l=e.key,r=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,i=w.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:s,type:e.type,key:l,ref:r,props:n,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,s){return P.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,s){return P.current.useReducer(e,t,s)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return P.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var a=s-1>>>1,n=e[a];if(!(0<l(n,t)))break e;e[a]=t,e[s]=n,s=a}}function a(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var a=0,n=e.length,r=n>>>1;a<r;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>l(o,s))c<n&&0>l(d,o)?(e[a]=d,e[c]=s,a=c):(e[a]=o,e[i]=s,a=i);else{if(!(c<n&&0>l(d,s)))break e;e[a]=d,e[c]=s,a=c}}}return t}function l(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],m=1,u=null,x=3,h=!1,p=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,j="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=a(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,s(c,t)}t=a(d)}}function y(e){if(g=!1,v(e),!p)if(null!==a(c))p=!0,L(N);else{var t=a(d);null!==t&&T(y,t.startTime-e)}}function N(e,s){p=!1,g&&(g=!1,b(C),C=-1),h=!0;var l=x;try{for(v(s),u=a(c);null!==u&&(!(u.expirationTime>s)||e&&!E());){var r=u.callback;if("function"===typeof r){u.callback=null,x=u.priorityLevel;var i=r(u.expirationTime<=s);s=t.unstable_now(),"function"===typeof i?u.callback=i:u===a(c)&&n(c),v(s)}else n(c);u=a(c)}if(null!==u)var o=!0;else{var m=a(d);null!==m&&T(y,m.startTime-s),o=!1}return o}finally{u=null,x=l,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,_=null,C=-1,S=5,A=-1;function E(){return!(t.unstable_now()-A<S)}function M(){if(null!==_){var e=t.unstable_now();A=e;var s=!0;try{s=_(!0,e)}finally{s?w():(k=!1,_=null)}}else k=!1}if("function"===typeof j)w=function(){j(M)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=M,w=function(){P.postMessage(null)}}else w=function(){f(M,0)};function L(e){_=e,k||(k=!0,w())}function T(e,s){C=f(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,L(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(x){case 1:case 2:case 3:var t=3;break;default:t=x}var s=x;x=t;try{return e()}finally{x=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=x;x=e;try{return t()}finally{x=s}},t.unstable_scheduleCallback=function(e,n,l){var r=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?r+l:r:l=r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:m++,callback:n,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>r?(e.sortIndex=l,s(d,e),null===a(c)&&e===a(d)&&(g?(b(C),C=-1):g=!0,T(y,l-r))):(e.sortIndex=i,s(c,e),p||h||(p=!0,L(N))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=x;return function(){var s=x;x=t;try{return e.apply(this,arguments)}finally{x=s}}}},391:(e,t,s)=>{var a=s(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,s)=>{e.exports=s(153)},730:(e,t,s)=>{var a=s(43),n=s(853);function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),m=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},h={};function p(e,t,s,a,n,l,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=r}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function j(e,t,s,a){var n=g.hasOwnProperty(t)?g[t]:null;(null!==n?0!==n.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,a){if(null===t||"undefined"===typeof t||function(e,t,s,a){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,a))return!0;if(a)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,n,a)&&(s=null),a||null===n?function(e){return!!m.call(h,e)||!m.call(x,e)&&(u.test(e)?h[e]=!0:(x[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):n.mustUseProperty?e[n.propertyName]=null===s?3!==n.type&&"":s:(t=n.attributeName,a=n.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(n=n.type)||4===n&&!0===s?"":""+s,a?e.setAttributeNS(a,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,b);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,b);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var D,O=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var n=c.stack.split("\n"),l=a.stack.split("\n"),r=n.length-1,i=l.length-1;1<=r&&0<=i&&n[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(n[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||n[r]!==l[i]){var o="\n"+n[r].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=r&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case _:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(s){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var n=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==s&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var s=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function K(e,t){var s=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;s=W(null!=t.value?t.value:s),e._wrapperState={initialChecked:a,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&j(e,"checked",t,!1)}function X(e,t){Q(e,t);var s=W(t.value),a=t.type;if(null!=s)"number"===a?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&$(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,a){if(e=e.options,t){t={};for(var n=0;n<s.length;n++)t["$"+s[n]]=!0;for(s=0;s<e.length;s++)n=t.hasOwnProperty("$"+e[s].value),e[s].selected!==n&&(e[s].selected=n),n&&a&&(e[s].defaultSelected=!0)}else{for(s=""+W(s),t=null,n=0;n<e.length;n++){if(e[n].value===s)return e[n].selected=!0,void(a&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(l(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ne(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(l(92));if(te(s)){if(1<s.length)throw Error(l(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:W(s)}}function le(e,t){var s=W(t.value),a=W(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=a&&(e.defaultValue=""+a)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,me=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function ue(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||xe.hasOwnProperty(e)&&xe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var a=0===s.indexOf("--"),n=pe(s,t[s],a);"float"===s&&(s="cssFloat"),a?e.setProperty(s,n):e[s]=n}}Object.keys(xe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xe[t]=xe[e]})});var fe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(l(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(l(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(l(62))}}function je(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function _e(e){if(e=jn(e)){if("function"!==typeof Ne)throw Error(l(280));var t=e.stateNode;t&&(t=yn(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function Se(){if(we){var e=we,t=ke;if(ke=we=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ae(e,t){return e(t)}function Ee(){}var Me=!1;function Ie(e,t,s){if(Me)return e(t,s);Me=!0;try{return Ae(e,t,s)}finally{Me=!1,(null!==we||null!==ke)&&(Ee(),Se())}}function Pe(e,t){var s=e.stateNode;if(null===s)return null;var a=yn(s);if(null===a)return null;s=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(l(231,t,typeof s));return s}var Le=!1;if(d)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(de){Le=!1}function Re(e,t,s,a,n,l,r,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var De=!1,Oe=null,Fe=!1,ze=null,Be={onError:function(e){De=!0,Oe=e}};function Ue(e,t,s,a,n,l,r,i,o){De=!1,Oe=null,Re.apply(Be,arguments)}function He(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(l(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(l(188));return t!==e?null:e}for(var s=e,a=t;;){var n=s.return;if(null===n)break;var r=n.alternate;if(null===r){if(null!==(a=n.return)){s=a;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===s)return We(n),e;if(r===a)return We(n),t;r=r.sibling}throw Error(l(188))}if(s.return!==a.return)s=n,a=r;else{for(var i=!1,o=n.child;o;){if(o===s){i=!0,s=n,a=r;break}if(o===a){i=!0,a=n,s=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===s){i=!0,s=r,a=n;break}if(o===a){i=!0,a=r,s=n;break}o=o.sibling}if(!i)throw Error(l(189))}}if(s.alternate!==a)throw Error(l(190))}if(3!==s.tag)throw Error(l(188));return s.stateNode.current===s?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=n.unstable_scheduleCallback,$e=n.unstable_cancelCallback,Je=n.unstable_shouldYield,Ke=n.unstable_requestPaint,Qe=n.unstable_now,Xe=n.unstable_getCurrentPriorityLevel,Ze=n.unstable_ImmediatePriority,et=n.unstable_UserBlockingPriority,tt=n.unstable_NormalPriority,st=n.unstable_LowPriority,at=n.unstable_IdlePriority,nt=null,lt=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var s=e.pendingLanes;if(0===s)return 0;var a=0,n=e.suspendedLanes,l=e.pingedLanes,r=268435455&s;if(0!==r){var i=r&~n;0!==i?a=mt(i):0!==(l&=r)&&(a=mt(l))}else 0!==(r=s&~n)?a=mt(r):0!==l&&(a=mt(l));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&n)&&((n=a&-a)>=(l=t&-t)||16===n&&0!==(4194240&l)))return t;if(0!==(4&a)&&(a|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)n=1<<(s=31-rt(t)),a|=e[s],t&=~n;return a}function xt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ft(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=s}function bt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var a=31-rt(s),n=1<<a;n&t|e[a]&t&&(e[a]|=t),s&=~n}}var jt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,Nt,wt,kt,_t,Ct=!1,St=[],At=null,Et=null,Mt=null,It=new Map,Pt=new Map,Lt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,s,a,n,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},null!==t&&(null!==(t=jn(t))&&Nt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function Ot(e){var t=bn(e.target);if(null!==t){var s=He(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=Ve(s)))return e.blockedOn=t,void _t(e.priority,function(){wt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=jn(s))&&Nt(t),e.blockedOn=s,!1;var a=new(s=e.nativeEvent).constructor(s.type,s);ve=a,s.target.dispatchEvent(a),ve=null,t.shift()}return!0}function zt(e,t,s){Ft(e)&&s.delete(t)}function Bt(){Ct=!1,null!==At&&Ft(At)&&(At=null),null!==Et&&Ft(Et)&&(Et=null),null!==Mt&&Ft(Mt)&&(Mt=null),It.forEach(zt),Pt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<St.length){Ut(St[0],e);for(var s=1;s<St.length;s++){var a=St[s];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Et&&Ut(Et,e),null!==Mt&&Ut(Mt,e),It.forEach(t),Pt.forEach(t),s=0;s<Lt.length;s++)(a=Lt[s]).blockedOn===e&&(a.blockedOn=null);for(;0<Lt.length&&null===(s=Lt[0]).blockedOn;)Ot(s),null===s.blockedOn&&Lt.shift()}var Vt=v.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,s,a){var n=jt,l=Vt.transition;Vt.transition=null;try{jt=1,Yt(e,t,s,a)}finally{jt=n,Vt.transition=l}}function qt(e,t,s,a){var n=jt,l=Vt.transition;Vt.transition=null;try{jt=4,Yt(e,t,s,a)}finally{jt=n,Vt.transition=l}}function Yt(e,t,s,a){if(Wt){var n=Jt(e,t,s,a);if(null===n)Va(e,t,a,$t,s),Rt(e,a);else if(function(e,t,s,a,n){switch(t){case"focusin":return At=Dt(At,e,t,s,a,n),!0;case"dragenter":return Et=Dt(Et,e,t,s,a,n),!0;case"mouseover":return Mt=Dt(Mt,e,t,s,a,n),!0;case"pointerover":var l=n.pointerId;return It.set(l,Dt(It.get(l)||null,e,t,s,a,n)),!0;case"gotpointercapture":return l=n.pointerId,Pt.set(l,Dt(Pt.get(l)||null,e,t,s,a,n)),!0}return!1}(n,e,t,s,a))a.stopPropagation();else if(Rt(e,a),4&t&&-1<Tt.indexOf(e)){for(;null!==n;){var l=jn(n);if(null!==l&&yt(l),null===(l=Jt(e,t,s,a))&&Va(e,t,a,$t,s),l===n)break;n=l}null!==n&&a.stopPropagation()}else Va(e,t,a,null,s)}}var $t=null;function Jt(e,t,s,a){if($t=null,null!==(e=bn(e=ye(a))))if(null===(t=He(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case st:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function es(){if(Zt)return Zt;var e,t,s=Xt,a=s.length,n="value"in Qt?Qt.value:Qt.textContent,l=n.length;for(e=0;e<a&&s[e]===n[e];e++);var r=a-e;for(t=1;t<=r&&s[a-t]===n[l-t];t++);return Zt=n.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function as(){return!1}function ns(e){function t(t,s,a,n,l){for(var r in this._reactName=t,this._targetInst=a,this.type=s,this.nativeEvent=n,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(n):n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ss:as,this.isPropagationStopped=as,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var ls,rs,is,os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=ns(os),ds=O({},os,{view:0,detail:0}),ms=ns(ds),us=O({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&"mousemove"===e.type?(ls=e.screenX-is.screenX,rs=e.screenY-is.screenY):rs=ls=0,is=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:rs}}),xs=ns(us),hs=ns(O({},us,{dataTransfer:0})),ps=ns(O({},ds,{relatedTarget:0})),gs=ns(O({},os,{animationName:0,elapsedTime:0,pseudoElement:0})),fs=O({},os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bs=ns(fs),js=ns(O({},os,{data:0})),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ys={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ns={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ws(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ns[e])&&!!t[e]}function ks(){return ws}var _s=O({},ds,{key:function(e){if(e.key){var t=vs[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ys[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cs=ns(_s),Ss=ns(O({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),As=ns(O({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks})),Es=ns(O({},os,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ms=O({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Is=ns(Ms),Ps=[9,13,27,32],Ls=d&&"CompositionEvent"in window,Ts=null;d&&"documentMode"in document&&(Ts=document.documentMode);var Rs=d&&"TextEvent"in window&&!Ts,Ds=d&&(!Ls||Ts&&8<Ts&&11>=Ts),Os=String.fromCharCode(32),Fs=!1;function zs(e,t){switch(e){case"keyup":return-1!==Ps.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bs(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Us=!1;var Hs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hs[e.type]:"textarea"===t}function Ws(e,t,s,a){Ce(a),0<(t=Ga(t,"onChange")).length&&(s=new cs("onChange","change",null,s,a),e.push({event:s,listeners:t}))}var Gs=null,qs=null;function Ys(e){Oa(e,0)}function $s(e){if(Y(vn(e)))return e}function Js(e,t){if("change"===e)return t}var Ks=!1;if(d){var Qs;if(d){var Xs="oninput"in document;if(!Xs){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),Xs="function"===typeof Zs.oninput}Qs=Xs}else Qs=!1;Ks=Qs&&(!document.documentMode||9<document.documentMode)}function ea(){Gs&&(Gs.detachEvent("onpropertychange",ta),qs=Gs=null)}function ta(e){if("value"===e.propertyName&&$s(qs)){var t=[];Ws(t,qs,e,ye(e)),Ie(Ys,t)}}function sa(e,t,s){"focusin"===e?(ea(),qs=s,(Gs=t).attachEvent("onpropertychange",ta)):"focusout"===e&&ea()}function aa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $s(qs)}function na(e,t){if("click"===e)return $s(t)}function la(e,t){if("input"===e||"change"===e)return $s(t)}var ra="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ia(e,t){if(ra(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var n=s[a];if(!m.call(t,n)||!ra(e[n],t[n]))return!1}return!0}function oa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ca(e,t){var s,a=oa(e);for(e=0;a;){if(3===a.nodeType){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oa(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(a){s=!1}if(!s)break;t=$((e=t.contentWindow).document)}return t}function ua(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function xa(e){var t=ma(),s=e.focusedElem,a=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&da(s.ownerDocument.documentElement,s)){if(null!==a&&ua(s))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=s.textContent.length,l=Math.min(a.start,n);a=void 0===a.end?l:Math.min(a.end,n),!e.extend&&l>a&&(n=a,a=l,l=n),n=ca(s,l);var r=ca(s,a);n&&r&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),l>a?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ha=d&&"documentMode"in document&&11>=document.documentMode,pa=null,ga=null,fa=null,ba=!1;function ja(e,t,s){var a=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;ba||null==pa||pa!==$(a)||("selectionStart"in(a=pa)&&ua(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},fa&&ia(fa,a)||(fa=a,0<(a=Ga(ga,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:a}),t.target=pa)))}function va(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ya={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},Na={},wa={};function ka(e){if(Na[e])return Na[e];if(!ya[e])return e;var t,s=ya[e];for(t in s)if(s.hasOwnProperty(t)&&t in wa)return Na[e]=s[t];return e}d&&(wa=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);var _a=ka("animationend"),Ca=ka("animationiteration"),Sa=ka("animationstart"),Aa=ka("transitionend"),Ea=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ia(e,t){Ea.set(e,t),o(t,[e])}for(var Pa=0;Pa<Ma.length;Pa++){var La=Ma[Pa];Ia(La.toLowerCase(),"on"+(La[0].toUpperCase()+La.slice(1)))}Ia(_a,"onAnimationEnd"),Ia(Ca,"onAnimationIteration"),Ia(Sa,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(Aa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ra=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Da(e,t,s){var a=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,a,n,r,i,o,c){if(Ue.apply(this,arguments),De){if(!De)throw Error(l(198));var d=Oe;De=!1,Oe=null,Fe||(Fe=!0,ze=d)}}(a,t,void 0,e),e.currentTarget=null}function Oa(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var a=e[s],n=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var r=a.length-1;0<=r;r--){var i=a[r],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==l&&n.isPropagationStopped())break e;Da(n,i,c),l=o}else for(r=0;r<a.length;r++){if(o=(i=a[r]).instance,c=i.currentTarget,i=i.listener,o!==l&&n.isPropagationStopped())break e;Da(n,i,c),l=o}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function Fa(e,t){var s=t[pn];void 0===s&&(s=t[pn]=new Set);var a=e+"__bubble";s.has(a)||(Ha(t,e,2,!1),s.add(a))}function za(e,t,s){var a=0;t&&(a|=4),Ha(s,e,a,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[Ba]){e[Ba]=!0,r.forEach(function(t){"selectionchange"!==t&&(Ra.has(t)||za(t,!1,e),za(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ba]||(t[Ba]=!0,za("selectionchange",!1,t))}}function Ha(e,t,s,a){switch(Kt(t)){case 1:var n=Gt;break;case 4:n=qt;break;default:n=Yt}s=n.bind(null,t,s,e),n=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),a?void 0!==n?e.addEventListener(t,s,{capture:!0,passive:n}):e.addEventListener(t,s,!0):void 0!==n?e.addEventListener(t,s,{passive:n}):e.addEventListener(t,s,!1)}function Va(e,t,s,a,n){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var i=a.stateNode.containerInfo;if(i===n||8===i.nodeType&&i.parentNode===n)break;if(4===r)for(r=a.return;null!==r;){var o=r.tag;if((3===o||4===o)&&((o=r.stateNode.containerInfo)===n||8===o.nodeType&&o.parentNode===n))return;r=r.return}for(;null!==i;){if(null===(r=bn(i)))return;if(5===(o=r.tag)||6===o){a=l=r;continue e}i=i.parentNode}}a=a.return}Ie(function(){var a=l,n=ye(s),r=[];e:{var i=Ea.get(e);if(void 0!==i){var o=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":o=Cs;break;case"focusin":c="focus",o=ps;break;case"focusout":c="blur",o=ps;break;case"beforeblur":case"afterblur":o=ps;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=hs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=As;break;case _a:case Ca:case Sa:o=gs;break;case Aa:o=Es;break;case"scroll":o=ms;break;case"wheel":o=Is;break;case"copy":case"cut":case"paste":o=bs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ss}var d=0!==(4&t),m=!d&&"scroll"===e,u=d?null!==i?i+"Capture":null:i;d=[];for(var x,h=a;null!==h;){var p=(x=h).stateNode;if(5===x.tag&&null!==p&&(x=p,null!==u&&(null!=(p=Pe(h,u))&&d.push(Wa(h,p,x)))),m)break;h=h.return}0<d.length&&(i=new o(i,c,null,s,n),r.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||s===ve||!(c=s.relatedTarget||s.fromElement)||!bn(c)&&!c[hn])&&(o||i)&&(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=a,null!==(c=(c=s.relatedTarget||s.toElement)?bn(c):null)&&(c!==(m=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=xs,p="onMouseLeave",u="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ss,p="onPointerLeave",u="onPointerEnter",h="pointer"),m=null==o?i:vn(o),x=null==c?i:vn(c),(i=new d(p,h+"leave",o,s,n)).target=m,i.relatedTarget=x,p=null,bn(n)===a&&((d=new d(u,h+"enter",c,s,n)).target=x,d.relatedTarget=m,p=d),m=p,o&&c)e:{for(u=c,h=0,x=d=o;x;x=qa(x))h++;for(x=0,p=u;p;p=qa(p))x++;for(;0<h-x;)d=qa(d),h--;for(;0<x-h;)u=qa(u),x--;for(;h--;){if(d===u||null!==u&&d===u.alternate)break e;d=qa(d),u=qa(u)}d=null}else d=null;null!==o&&Ya(r,i,o,d,!1),null!==c&&null!==m&&Ya(r,m,c,d,!0)}if("select"===(o=(i=a?vn(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var g=Js;else if(Vs(i))if(Ks)g=la;else{g=aa;var f=sa}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=na);switch(g&&(g=g(e,a))?Ws(r,g,s,n):(f&&f(e,i,a),"focusout"===e&&(f=i._wrapperState)&&f.controlled&&"number"===i.type&&ee(i,"number",i.value)),f=a?vn(a):window,e){case"focusin":(Vs(f)||"true"===f.contentEditable)&&(pa=f,ga=a,fa=null);break;case"focusout":fa=ga=pa=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ja(r,s,n);break;case"selectionchange":if(ha)break;case"keydown":case"keyup":ja(r,s,n)}var b;if(Ls)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Us?zs(e,s)&&(j="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(j="onCompositionStart");j&&(Ds&&"ko"!==s.locale&&(Us||"onCompositionStart"!==j?"onCompositionEnd"===j&&Us&&(b=es()):(Xt="value"in(Qt=n)?Qt.value:Qt.textContent,Us=!0)),0<(f=Ga(a,j)).length&&(j=new js(j,e,null,s,n),r.push({event:j,listeners:f}),b?j.data=b:null!==(b=Bs(s))&&(j.data=b))),(b=Rs?function(e,t){switch(e){case"compositionend":return Bs(t);case"keypress":return 32!==t.which?null:(Fs=!0,Os);case"textInput":return(e=t.data)===Os&&Fs?null:e;default:return null}}(e,s):function(e,t){if(Us)return"compositionend"===e||!Ls&&zs(e,t)?(e=es(),Zt=Xt=Qt=null,Us=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ds&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(a=Ga(a,"onBeforeInput")).length&&(n=new js("onBeforeInput","beforeinput",null,s,n),r.push({event:n,listeners:a}),n.data=b))}Oa(r,t)})}function Wa(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ga(e,t){for(var s=t+"Capture",a=[];null!==e;){var n=e,l=n.stateNode;5===n.tag&&null!==l&&(n=l,null!=(l=Pe(e,s))&&a.unshift(Wa(e,l,n)),null!=(l=Pe(e,t))&&a.push(Wa(e,l,n))),e=e.return}return a}function qa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ya(e,t,s,a,n){for(var l=t._reactName,r=[];null!==s&&s!==a;){var i=s,o=i.alternate,c=i.stateNode;if(null!==o&&o===a)break;5===i.tag&&null!==c&&(i=c,n?null!=(o=Pe(s,l))&&r.unshift(Wa(s,o,i)):n||null!=(o=Pe(s,l))&&r.push(Wa(s,o,i))),s=s.return}0!==r.length&&e.push({event:t,listeners:r})}var $a=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Ka(e){return("string"===typeof e?e:""+e).replace($a,"\n").replace(Ja,"")}function Qa(e,t,s){if(t=Ka(t),Ka(e)!==t&&s)throw Error(l(425))}function Xa(){}var Za=null,en=null;function tn(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,an="function"===typeof clearTimeout?clearTimeout:void 0,nn="function"===typeof Promise?Promise:void 0,ln="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof nn?function(e){return nn.resolve(null).then(e).catch(rn)}:sn;function rn(e){setTimeout(function(){throw e})}function on(e,t){var s=t,a=0;do{var n=s.nextSibling;if(e.removeChild(s),n&&8===n.nodeType)if("/$"===(s=n.data)){if(0===a)return e.removeChild(n),void Ht(t);a--}else"$"!==s&&"$?"!==s&&"$!"!==s||a++;s=n}while(s);Ht(t)}function cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),un="__reactFiber$"+mn,xn="__reactProps$"+mn,hn="__reactContainer$"+mn,pn="__reactEvents$"+mn,gn="__reactListeners$"+mn,fn="__reactHandles$"+mn;function bn(e){var t=e[un];if(t)return t;for(var s=e.parentNode;s;){if(t=s[hn]||s[un]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=dn(e);null!==e;){if(s=e[un])return s;e=dn(e)}return t}s=(e=s).parentNode}return null}function jn(e){return!(e=e[un]||e[hn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(l(33))}function yn(e){return e[xn]||null}var Nn=[],wn=-1;function kn(e){return{current:e}}function _n(e){0>wn||(e.current=Nn[wn],Nn[wn]=null,wn--)}function Cn(e,t){wn++,Nn[wn]=e.current,e.current=t}var Sn={},An=kn(Sn),En=kn(!1),Mn=Sn;function In(e,t){var s=e.type.contextTypes;if(!s)return Sn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var n,l={};for(n in s)l[n]=t[n];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Pn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ln(){_n(En),_n(An)}function Tn(e,t,s){if(An.current!==Sn)throw Error(l(168));Cn(An,t),Cn(En,s)}function Rn(e,t,s){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return s;for(var n in a=a.getChildContext())if(!(n in t))throw Error(l(108,V(e)||"Unknown",n));return O({},s,a)}function Dn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Mn=An.current,Cn(An,e),Cn(En,En.current),!0}function On(e,t,s){var a=e.stateNode;if(!a)throw Error(l(169));s?(e=Rn(e,t,Mn),a.__reactInternalMemoizedMergedChildContext=e,_n(En),_n(An),Cn(An,e)):_n(En),Cn(En,s)}var Fn=null,zn=!1,Bn=!1;function Un(e){null===Fn?Fn=[e]:Fn.push(e)}function Hn(){if(!Bn&&null!==Fn){Bn=!0;var e=0,t=jt;try{var s=Fn;for(jt=1;e<s.length;e++){var a=s[e];do{a=a(!0)}while(null!==a)}Fn=null,zn=!1}catch(n){throw null!==Fn&&(Fn=Fn.slice(e+1)),Ye(Ze,Hn),n}finally{jt=t,Bn=!1}}return null}var Vn=[],Wn=0,Gn=null,qn=0,Yn=[],$n=0,Jn=null,Kn=1,Qn="";function Xn(e,t){Vn[Wn++]=qn,Vn[Wn++]=Gn,Gn=e,qn=t}function Zn(e,t,s){Yn[$n++]=Kn,Yn[$n++]=Qn,Yn[$n++]=Jn,Jn=e;var a=Kn;e=Qn;var n=32-rt(a)-1;a&=~(1<<n),s+=1;var l=32-rt(t)+n;if(30<l){var r=n-n%5;l=(a&(1<<r)-1).toString(32),a>>=r,n-=r,Kn=1<<32-rt(t)+n|s<<n|a,Qn=l+e}else Kn=1<<l|s<<n|a,Qn=e}function el(e){null!==e.return&&(Xn(e,1),Zn(e,1,0))}function tl(e){for(;e===Gn;)Gn=Vn[--Wn],Vn[Wn]=null,qn=Vn[--Wn],Vn[Wn]=null;for(;e===Jn;)Jn=Yn[--$n],Yn[$n]=null,Qn=Yn[--$n],Yn[$n]=null,Kn=Yn[--$n],Yn[$n]=null}var sl=null,al=null,nl=!1,ll=null;function rl(e,t){var s=Ic(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function il(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sl=e,al=cn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sl=e,al=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Jn?{id:Kn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Ic(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sl=e,al=null,!0);default:return!1}}function ol(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cl(e){if(nl){var t=al;if(t){var s=t;if(!il(e,t)){if(ol(e))throw Error(l(418));t=cn(s.nextSibling);var a=sl;t&&il(e,t)?rl(a,s):(e.flags=-4097&e.flags|2,nl=!1,sl=e)}}else{if(ol(e))throw Error(l(418));e.flags=-4097&e.flags|2,nl=!1,sl=e}}}function dl(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sl=e}function ml(e){if(e!==sl)return!1;if(!nl)return dl(e),nl=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!tn(e.type,e.memoizedProps)),t&&(t=al)){if(ol(e))throw ul(),Error(l(418));for(;t;)rl(e,t),t=cn(t.nextSibling)}if(dl(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){al=cn(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}al=null}}else al=sl?cn(e.stateNode.nextSibling):null;return!0}function ul(){for(var e=al;e;)e=cn(e.nextSibling)}function xl(){al=sl=null,nl=!1}function hl(e){null===ll?ll=[e]:ll.push(e)}var pl=v.ReactCurrentBatchConfig;function gl(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(l(309));var a=s.stateNode}if(!a)throw Error(l(147,e));var n=a,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=n.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(l(284));if(!s._owner)throw Error(l(290,e))}return e}function fl(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bl(e){return(0,e._init)(e._payload)}function jl(e){function t(t,s){if(e){var a=t.deletions;null===a?(t.deletions=[s],t.flags|=16):a.push(s)}}function s(s,a){if(!e)return null;for(;null!==a;)t(s,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function r(t,s,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<s?(t.flags|=2,s):a:(t.flags|=2,s):(t.flags|=1048576,s)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,s,a){return null===t||6!==t.tag?((t=Oc(s,e.mode,a)).return=e,t):((t=n(t,s)).return=e,t)}function c(e,t,s,a){var l=s.type;return l===w?m(e,t,s.props.children,a,s.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&bl(l)===t.type)?((a=n(t,s.props)).ref=gl(e,t,s),a.return=e,a):((a=Tc(s.type,s.key,s.props,null,e.mode,a)).ref=gl(e,t,s),a.return=e,a)}function d(e,t,s,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Fc(s,e.mode,a)).return=e,t):((t=n(t,s.children||[])).return=e,t)}function m(e,t,s,a,l){return null===t||7!==t.tag?((t=Rc(s,e.mode,a,l)).return=e,t):((t=n(t,s)).return=e,t)}function u(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(s=Tc(t.type,t.key,t.props,null,e.mode,s)).ref=gl(e,null,t),s.return=e,s;case N:return(t=Fc(t,e.mode,s)).return=e,t;case P:return u(e,(0,t._init)(t._payload),s)}if(te(t)||R(t))return(t=Rc(t,e.mode,s,null)).return=e,t;fl(e,t)}return null}function x(e,t,s,a){var n=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==n?null:o(e,t,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case y:return s.key===n?c(e,t,s,a):null;case N:return s.key===n?d(e,t,s,a):null;case P:return x(e,t,(n=s._init)(s._payload),a)}if(te(s)||R(s))return null!==n?null:m(e,t,s,a,null);fl(e,s)}return null}function h(e,t,s,a,n){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(s)||null,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case y:return c(t,e=e.get(null===a.key?s:a.key)||null,a,n);case N:return d(t,e=e.get(null===a.key?s:a.key)||null,a,n);case P:return h(e,t,s,(0,a._init)(a._payload),n)}if(te(a)||R(a))return m(t,e=e.get(s)||null,a,n,null);fl(t,a)}return null}function p(n,l,i,o){for(var c=null,d=null,m=l,p=l=0,g=null;null!==m&&p<i.length;p++){m.index>p?(g=m,m=null):g=m.sibling;var f=x(n,m,i[p],o);if(null===f){null===m&&(m=g);break}e&&m&&null===f.alternate&&t(n,m),l=r(f,l,p),null===d?c=f:d.sibling=f,d=f,m=g}if(p===i.length)return s(n,m),nl&&Xn(n,p),c;if(null===m){for(;p<i.length;p++)null!==(m=u(n,i[p],o))&&(l=r(m,l,p),null===d?c=m:d.sibling=m,d=m);return nl&&Xn(n,p),c}for(m=a(n,m);p<i.length;p++)null!==(g=h(m,n,p,i[p],o))&&(e&&null!==g.alternate&&m.delete(null===g.key?p:g.key),l=r(g,l,p),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach(function(e){return t(n,e)}),nl&&Xn(n,p),c}function g(n,i,o,c){var d=R(o);if("function"!==typeof d)throw Error(l(150));if(null==(o=d.call(o)))throw Error(l(151));for(var m=d=null,p=i,g=i=0,f=null,b=o.next();null!==p&&!b.done;g++,b=o.next()){p.index>g?(f=p,p=null):f=p.sibling;var j=x(n,p,b.value,c);if(null===j){null===p&&(p=f);break}e&&p&&null===j.alternate&&t(n,p),i=r(j,i,g),null===m?d=j:m.sibling=j,m=j,p=f}if(b.done)return s(n,p),nl&&Xn(n,g),d;if(null===p){for(;!b.done;g++,b=o.next())null!==(b=u(n,b.value,c))&&(i=r(b,i,g),null===m?d=b:m.sibling=b,m=b);return nl&&Xn(n,g),d}for(p=a(n,p);!b.done;g++,b=o.next())null!==(b=h(p,n,g,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?g:b.key),i=r(b,i,g),null===m?d=b:m.sibling=b,m=b);return e&&p.forEach(function(e){return t(n,e)}),nl&&Xn(n,g),d}return function e(a,l,r,o){if("object"===typeof r&&null!==r&&r.type===w&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case y:e:{for(var c=r.key,d=l;null!==d;){if(d.key===c){if((c=r.type)===w){if(7===d.tag){s(a,d.sibling),(l=n(d,r.props.children)).return=a,a=l;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bl(c)===d.type){s(a,d.sibling),(l=n(d,r.props)).ref=gl(a,d,r),l.return=a,a=l;break e}s(a,d);break}t(a,d),d=d.sibling}r.type===w?((l=Rc(r.props.children,a.mode,o,r.key)).return=a,a=l):((o=Tc(r.type,r.key,r.props,null,a.mode,o)).ref=gl(a,l,r),o.return=a,a=o)}return i(a);case N:e:{for(d=r.key;null!==l;){if(l.key===d){if(4===l.tag&&l.stateNode.containerInfo===r.containerInfo&&l.stateNode.implementation===r.implementation){s(a,l.sibling),(l=n(l,r.children||[])).return=a,a=l;break e}s(a,l);break}t(a,l),l=l.sibling}(l=Fc(r,a.mode,o)).return=a,a=l}return i(a);case P:return e(a,l,(d=r._init)(r._payload),o)}if(te(r))return p(a,l,r,o);if(R(r))return g(a,l,r,o);fl(a,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==l&&6===l.tag?(s(a,l.sibling),(l=n(l,r)).return=a,a=l):(s(a,l),(l=Oc(r,a.mode,o)).return=a,a=l),i(a)):s(a,l)}}var vl=jl(!0),yl=jl(!1),Nl=kn(null),wl=null,kl=null,_l=null;function Cl(){_l=kl=wl=null}function Sl(e){var t=Nl.current;_n(Nl),e._currentValue=t}function Al(e,t,s){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===s)break;e=e.return}}function El(e,t){wl=e,_l=kl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Ml(e){var t=e._currentValue;if(_l!==e)if(e={context:e,memoizedValue:t,next:null},null===kl){if(null===wl)throw Error(l(308));kl=e,wl.dependencies={lanes:0,firstContext:e}}else kl=kl.next=e;return t}var Il=null;function Pl(e){null===Il?Il=[e]:Il.push(e)}function Ll(e,t,s,a){var n=t.interleaved;return null===n?(s.next=s,Pl(t)):(s.next=n.next,n.next=s),t.interleaved=s,Tl(e,a)}function Tl(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Rl=!1;function Dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ol(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zl(e,t,s){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Ao)){var n=a.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),a.pending=t,Tl(e,s)}return null===(n=a.interleaved)?(t.next=t,Pl(a)):(t.next=n.next,n.next=t),a.interleaved=t,Tl(e,s)}function Bl(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,bt(e,s)}}function Ul(e,t){var s=e.updateQueue,a=e.alternate;if(null!==a&&s===(a=a.updateQueue)){var n=null,l=null;if(null!==(s=s.firstBaseUpdate)){do{var r={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===l?n=l=r:l=l.next=r,s=s.next}while(null!==s);null===l?n=l=t:l=l.next=t}else n=l=t;return s={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Hl(e,t,s,a){var n=e.updateQueue;Rl=!1;var l=n.firstBaseUpdate,r=n.lastBaseUpdate,i=n.shared.pending;if(null!==i){n.shared.pending=null;var o=i,c=o.next;o.next=null,null===r?l=c:r.next=c,r=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==l){var m=n.baseState;for(r=0,d=c=o=null,i=l;;){var u=i.lane,x=i.eventTime;if((a&u)===u){null!==d&&(d=d.next={eventTime:x,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,p=i;switch(u=t,x=s,p.tag){case 1:if("function"===typeof(h=p.payload)){m=h.call(x,m,u);break e}m=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(u="function"===typeof(h=p.payload)?h.call(x,m,u):h)||void 0===u)break e;m=O({},m,u);break e;case 2:Rl=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(u=n.effects)?n.effects=[i]:u.push(i))}else x={eventTime:x,lane:u,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=x,o=m):d=d.next=x,r|=u;if(null===(i=i.next)){if(null===(i=n.shared.pending))break;i=(u=i).next,u.next=null,n.lastBaseUpdate=u,n.shared.pending=null}}if(null===d&&(o=m),n.baseState=o,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null!==(t=n.shared.interleaved)){n=t;do{r|=n.lane,n=n.next}while(n!==t)}else null===l&&(n.shared.lanes=0);Do|=r,e.lanes=r,e.memoizedState=m}}function Vl(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],n=a.callback;if(null!==n){if(a.callback=null,a=s,"function"!==typeof n)throw Error(l(191,n));n.call(a)}}}var Wl={},Gl=kn(Wl),ql=kn(Wl),Yl=kn(Wl);function $l(e){if(e===Wl)throw Error(l(174));return e}function Jl(e,t){switch(Cn(Yl,t),Cn(ql,e),Cn(Gl,Wl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_n(Gl),Cn(Gl,t)}function Kl(){_n(Gl),_n(ql),_n(Yl)}function Ql(e){$l(Yl.current);var t=$l(Gl.current),s=oe(t,e.type);t!==s&&(Cn(ql,e),Cn(Gl,s))}function Xl(e){ql.current===e&&(_n(Gl),_n(ql))}var Zl=kn(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function sr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ar=v.ReactCurrentDispatcher,nr=v.ReactCurrentBatchConfig,lr=0,rr=null,ir=null,or=null,cr=!1,dr=!1,mr=0,ur=0;function xr(){throw Error(l(321))}function hr(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!ra(e[s],t[s]))return!1;return!0}function pr(e,t,s,a,n,r){if(lr=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ar.current=null===e||null===e.memoizedState?Xr:Zr,e=s(a,n),dr){r=0;do{if(dr=!1,mr=0,25<=r)throw Error(l(301));r+=1,or=ir=null,t.updateQueue=null,ar.current=ei,e=s(a,n)}while(dr)}if(ar.current=Qr,t=null!==ir&&null!==ir.next,lr=0,or=ir=rr=null,cr=!1,t)throw Error(l(300));return e}function gr(){var e=0!==mr;return mr=0,e}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===or?rr.memoizedState=or=e:or=or.next=e,or}function br(){if(null===ir){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=ir.next;var t=null===or?rr.memoizedState:or.next;if(null!==t)or=t,ir=e;else{if(null===e)throw Error(l(310));e={memoizedState:(ir=e).memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},null===or?rr.memoizedState=or=e:or=or.next=e}return or}function jr(e,t){return"function"===typeof t?t(e):t}function vr(e){var t=br(),s=t.queue;if(null===s)throw Error(l(311));s.lastRenderedReducer=e;var a=ir,n=a.baseQueue,r=s.pending;if(null!==r){if(null!==n){var i=n.next;n.next=r.next,r.next=i}a.baseQueue=n=r,s.pending=null}if(null!==n){r=n.next,a=a.baseState;var o=i=null,c=null,d=r;do{var m=d.lane;if((lr&m)===m)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=u,i=a):c=c.next=u,rr.lanes|=m,Do|=m}d=d.next}while(null!==d&&d!==r);null===c?i=a:c.next=o,ra(a,t.memoizedState)||(bi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,s.lastRenderedState=a}if(null!==(e=s.interleaved)){n=e;do{r=n.lane,rr.lanes|=r,Do|=r,n=n.next}while(n!==e)}else null===n&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function yr(e){var t=br(),s=t.queue;if(null===s)throw Error(l(311));s.lastRenderedReducer=e;var a=s.dispatch,n=s.pending,r=t.memoizedState;if(null!==n){s.pending=null;var i=n=n.next;do{r=e(r,i.action),i=i.next}while(i!==n);ra(r,t.memoizedState)||(bi=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),s.lastRenderedState=r}return[r,a]}function Nr(){}function wr(e,t){var s=rr,a=br(),n=t(),r=!ra(a.memoizedState,n);if(r&&(a.memoizedState=n,bi=!0),a=a.queue,Rr(Cr.bind(null,s,a,e),[e]),a.getSnapshot!==t||r||null!==or&&1&or.memoizedState.tag){if(s.flags|=2048,Mr(9,_r.bind(null,s,a,n,t),void 0,null),null===Eo)throw Error(l(349));0!==(30&lr)||kr(s,t,n)}return n}function kr(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function _r(e,t,s,a){t.value=s,t.getSnapshot=a,Sr(t)&&Ar(e)}function Cr(e,t,s){return s(function(){Sr(t)&&Ar(e)})}function Sr(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!ra(e,s)}catch(a){return!0}}function Ar(e){var t=Tl(e,1);null!==t&&sc(t,e,1,-1)}function Er(e){var t=fr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:e},t.queue=e,e=e.dispatch=Yr.bind(null,rr,e),[t.memoizedState,e]}function Mr(e,t,s,a){return e={tag:e,create:t,destroy:s,deps:a,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(a=s.next,s.next=e,e.next=a,t.lastEffect=e),e}function Ir(){return br().memoizedState}function Pr(e,t,s,a){var n=fr();rr.flags|=e,n.memoizedState=Mr(1|t,s,void 0,void 0===a?null:a)}function Lr(e,t,s,a){var n=br();a=void 0===a?null:a;var l=void 0;if(null!==ir){var r=ir.memoizedState;if(l=r.destroy,null!==a&&hr(a,r.deps))return void(n.memoizedState=Mr(t,s,l,a))}rr.flags|=e,n.memoizedState=Mr(1|t,s,l,a)}function Tr(e,t){return Pr(8390656,8,e,t)}function Rr(e,t){return Lr(2048,8,e,t)}function Dr(e,t){return Lr(4,2,e,t)}function Or(e,t){return Lr(4,4,e,t)}function Fr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zr(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Lr(4,4,Fr.bind(null,t,e),s)}function Br(){}function Ur(e,t){var s=br();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&hr(t,a[1])?a[0]:(s.memoizedState=[e,t],e)}function Hr(e,t){var s=br();t=void 0===t?null:t;var a=s.memoizedState;return null!==a&&null!==t&&hr(t,a[1])?a[0]:(e=e(),s.memoizedState=[e,t],e)}function Vr(e,t,s){return 0===(21&lr)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=s):(ra(s,t)||(s=pt(),rr.lanes|=s,Do|=s,e.baseState=!0),t)}function Wr(e,t){var s=jt;jt=0!==s&&4>s?s:4,e(!0);var a=nr.transition;nr.transition={};try{e(!1),t()}finally{jt=s,nr.transition=a}}function Gr(){return br().memoizedState}function qr(e,t,s){var a=tc(e);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},$r(e))Jr(t,s);else if(null!==(s=Ll(e,t,s,a))){sc(s,e,a,ec()),Kr(s,t,a)}}function Yr(e,t,s){var a=tc(e),n={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if($r(e))Jr(t,n);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var r=t.lastRenderedState,i=l(r,s);if(n.hasEagerState=!0,n.eagerState=i,ra(i,r)){var o=t.interleaved;return null===o?(n.next=n,Pl(t)):(n.next=o.next,o.next=n),void(t.interleaved=n)}}catch(c){}null!==(s=Ll(e,t,n,a))&&(sc(s,e,a,n=ec()),Kr(s,t,a))}}function $r(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Jr(e,t){dr=cr=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Kr(e,t,s){if(0!==(4194240&s)){var a=t.lanes;s|=a&=e.pendingLanes,t.lanes=s,bt(e,s)}}var Qr={readContext:Ml,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},Xr={readContext:Ml,useCallback:function(e,t){return fr().memoizedState=[e,void 0===t?null:t],e},useContext:Ml,useEffect:Tr,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Pr(4194308,4,Fr.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Pr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pr(4,2,e,t)},useMemo:function(e,t){var s=fr();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var a=fr();return t=void 0!==s?s(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=qr.bind(null,rr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},fr().memoizedState=e},useState:Er,useDebugValue:Br,useDeferredValue:function(e){return fr().memoizedState=e},useTransition:function(){var e=Er(!1),t=e[0];return e=Wr.bind(null,e[1]),fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var a=rr,n=fr();if(nl){if(void 0===s)throw Error(l(407));s=s()}else{if(s=t(),null===Eo)throw Error(l(349));0!==(30&lr)||kr(a,t,s)}n.memoizedState=s;var r={value:s,getSnapshot:t};return n.queue=r,Tr(Cr.bind(null,a,r,e),[e]),a.flags|=2048,Mr(9,_r.bind(null,a,r,s,t),void 0,null),s},useId:function(){var e=fr(),t=Eo.identifierPrefix;if(nl){var s=Qn;t=":"+t+"R"+(s=(Kn&~(1<<32-rt(Kn)-1)).toString(32)+s),0<(s=mr++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=ur++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zr={readContext:Ml,useCallback:Ur,useContext:Ml,useEffect:Rr,useImperativeHandle:zr,useInsertionEffect:Dr,useLayoutEffect:Or,useMemo:Hr,useReducer:vr,useRef:Ir,useState:function(){return vr(jr)},useDebugValue:Br,useDeferredValue:function(e){return Vr(br(),ir.memoizedState,e)},useTransition:function(){return[vr(jr)[0],br().memoizedState]},useMutableSource:Nr,useSyncExternalStore:wr,useId:Gr,unstable_isNewReconciler:!1},ei={readContext:Ml,useCallback:Ur,useContext:Ml,useEffect:Rr,useImperativeHandle:zr,useInsertionEffect:Dr,useLayoutEffect:Or,useMemo:Hr,useReducer:yr,useRef:Ir,useState:function(){return yr(jr)},useDebugValue:Br,useDeferredValue:function(e){var t=br();return null===ir?t.memoizedState=e:Vr(t,ir.memoizedState,e)},useTransition:function(){return[yr(jr)[0],br().memoizedState]},useMutableSource:Nr,useSyncExternalStore:wr,useId:Gr,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var s in t=O({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function si(e,t,s,a){s=null===(s=s(a,t=e.memoizedState))||void 0===s?t:O({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var a=ec(),n=tc(e),l=Fl(a,n);l.payload=t,void 0!==s&&null!==s&&(l.callback=s),null!==(t=zl(e,l,n))&&(sc(t,e,n,a),Bl(t,e,n))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var a=ec(),n=tc(e),l=Fl(a,n);l.tag=1,l.payload=t,void 0!==s&&null!==s&&(l.callback=s),null!==(t=zl(e,l,n))&&(sc(t,e,n,a),Bl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),a=tc(e),n=Fl(s,a);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=zl(e,n,a))&&(sc(t,e,a,s),Bl(t,e,a))}};function ni(e,t,s,a,n,l,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,r):!t.prototype||!t.prototype.isPureReactComponent||(!ia(s,a)||!ia(n,l))}function li(e,t,s){var a=!1,n=Sn,l=t.contextType;return"object"===typeof l&&null!==l?l=Ml(l):(n=Pn(t)?Mn:An.current,l=(a=null!==(a=t.contextTypes)&&void 0!==a)?In(e,n):Sn),t=new t(s,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),t}function ri(e,t,s,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,a),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ii(e,t,s,a){var n=e.stateNode;n.props=s,n.state=e.memoizedState,n.refs={},Dl(e);var l=t.contextType;"object"===typeof l&&null!==l?n.context=Ml(l):(l=Pn(t)?Mn:An.current,n.context=In(e,l)),n.state=e.memoizedState,"function"===typeof(l=t.getDerivedStateFromProps)&&(si(e,t,l,s),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&ai.enqueueReplaceState(n,n.state,null),Hl(e,s,n,a),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var s="",a=t;do{s+=U(a),a=a.return}while(a);var n=s}catch(l){n="\nError generating stack: "+l.message+"\n"+l.stack}return{value:e,source:t,stack:n,digest:null}}function ci(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var mi="function"===typeof WeakMap?WeakMap:Map;function ui(e,t,s){(s=Fl(-1,s)).tag=3,s.payload={element:null};var a=t.value;return s.callback=function(){Wo||(Wo=!0,Go=a),di(0,t)},s}function xi(e,t,s){(s=Fl(-1,s)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var n=t.value;s.payload=function(){return a(n)},s.callback=function(){di(0,t)}}var l=e.stateNode;return null!==l&&"function"===typeof l.componentDidCatch&&(s.callback=function(){di(0,t),"function"!==typeof a&&(null===qo?qo=new Set([this]):qo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function hi(e,t,s){var a=e.pingCache;if(null===a){a=e.pingCache=new mi;var n=new Set;a.set(t,n)}else void 0===(n=a.get(t))&&(n=new Set,a.set(t,n));n.has(s)||(n.add(s),e=_c.bind(null,e,t,s),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,s,a,n){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Fl(-1,1)).tag=2,zl(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var fi=v.ReactCurrentOwner,bi=!1;function ji(e,t,s,a){t.child=null===e?yl(t,null,s,a):vl(t,e.child,s,a)}function vi(e,t,s,a,n){s=s.render;var l=t.ref;return El(t,n),a=pr(e,t,s,a,l,n),s=gr(),null===e||bi?(nl&&s&&el(t),t.flags|=1,ji(e,t,a,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vi(e,t,n))}function yi(e,t,s,a,n){if(null===e){var l=s.type;return"function"!==typeof l||Pc(l)||void 0!==l.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Tc(s.type,null,a,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Ni(e,t,l,a,n))}if(l=e.child,0===(e.lanes&n)){var r=l.memoizedProps;if((s=null!==(s=s.compare)?s:ia)(r,a)&&e.ref===t.ref)return Vi(e,t,n)}return t.flags|=1,(e=Lc(l,a)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,s,a,n){if(null!==e){var l=e.memoizedProps;if(ia(l,a)&&e.ref===t.ref){if(bi=!1,t.pendingProps=a=l,0===(e.lanes&n))return t.lanes=e.lanes,Vi(e,t,n);0!==(131072&e.flags)&&(bi=!0)}}return _i(e,t,s,a,n)}function wi(e,t,s){var a=t.pendingProps,n=a.children,l=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Lo,Po),Po|=s;else{if(0===(1073741824&s))return e=null!==l?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cn(Lo,Po),Po|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==l?l.baseLanes:s,Cn(Lo,Po),Po|=a}else null!==l?(a=l.baseLanes|s,t.memoizedState=null):a=s,Cn(Lo,Po),Po|=a;return ji(e,t,n,s),t.child}function ki(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function _i(e,t,s,a,n){var l=Pn(s)?Mn:An.current;return l=In(t,l),El(t,n),s=pr(e,t,s,a,l,n),a=gr(),null===e||bi?(nl&&a&&el(t),t.flags|=1,ji(e,t,s,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Vi(e,t,n))}function Ci(e,t,s,a,n){if(Pn(s)){var l=!0;Dn(t)}else l=!1;if(El(t,n),null===t.stateNode)Hi(e,t),li(t,s,a),ii(t,s,a,n),a=!0;else if(null===e){var r=t.stateNode,i=t.memoizedProps;r.props=i;var o=r.context,c=s.contextType;"object"===typeof c&&null!==c?c=Ml(c):c=In(t,c=Pn(s)?Mn:An.current);var d=s.getDerivedStateFromProps,m="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;m||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==a||o!==c)&&ri(t,r,a,c),Rl=!1;var u=t.memoizedState;r.state=u,Hl(t,a,r,n),o=t.memoizedState,i!==a||u!==o||En.current||Rl?("function"===typeof d&&(si(t,s,d,a),o=t.memoizedState),(i=Rl||ni(t,s,i,a,u,o,c))?(m||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),r.props=a,r.state=o,r.context=c,a=i):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Ol(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),r.props=c,m=t.pendingProps,u=r.context,"object"===typeof(o=s.contextType)&&null!==o?o=Ml(o):o=In(t,o=Pn(s)?Mn:An.current);var x=s.getDerivedStateFromProps;(d="function"===typeof x||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==m||u!==o)&&ri(t,r,a,o),Rl=!1,u=t.memoizedState,r.state=u,Hl(t,a,r,n);var h=t.memoizedState;i!==m||u!==h||En.current||Rl?("function"===typeof x&&(si(t,s,x,a),h=t.memoizedState),(c=Rl||ni(t,s,c,a,u,h,o)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,h,o),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,h,o)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),r.props=a,r.state=h,r.context=o,a=c):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),a=!1)}return Si(e,t,s,a,l,n)}function Si(e,t,s,a,n,l){ki(e,t);var r=0!==(128&t.flags);if(!a&&!r)return n&&On(t,s,!1),Vi(e,t,l);a=t.stateNode,fi.current=t;var i=r&&"function"!==typeof s.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&r?(t.child=vl(t,e.child,null,l),t.child=vl(t,null,i,l)):ji(e,t,i,l),t.memoizedState=a.state,n&&On(t,s,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Tn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Tn(0,t.context,!1),Jl(e,t.containerInfo)}function Ei(e,t,s,a,n){return xl(),hl(n),t.flags|=256,ji(e,t,s,a),t.child}var Mi,Ii,Pi,Li,Ti={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function Di(e,t,s){var a,n=t.pendingProps,r=Zl.current,i=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&r)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Cn(Zl,1&r),null===e)return cl(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&n)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Dc(o,n,0,null),e=Rc(e,n,s,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(s),t.memoizedState=Ti,e):Oi(t,o));if(null!==(r=e.memoizedState)&&null!==(a=r.dehydrated))return function(e,t,s,a,n,r,i){if(s)return 256&t.flags?(t.flags&=-257,Fi(e,t,i,a=ci(Error(l(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=a.fallback,n=t.mode,a=Dc({mode:"visible",children:a.children},n,0,null),(r=Rc(r,n,i,null)).flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,0!==(1&t.mode)&&vl(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Ti,r);if(0===(1&t.mode))return Fi(e,t,i,null);if("$!"===n.data){if(a=n.nextSibling&&n.nextSibling.dataset)var o=a.dgst;return a=o,Fi(e,t,i,a=ci(r=Error(l(419)),a,void 0))}if(o=0!==(i&e.childLanes),bi||o){if(null!==(a=Eo)){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(a.suspendedLanes|i))?0:n)&&n!==r.retryLane&&(r.retryLane=n,Tl(e,n),sc(a,e,n,-1))}return pc(),Fi(e,t,i,a=ci(Error(l(421))))}return"$?"===n.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),n._reactRetry=t,null):(e=r.treeContext,al=cn(n.nextSibling),sl=t,nl=!0,ll=null,null!==e&&(Yn[$n++]=Kn,Yn[$n++]=Qn,Yn[$n++]=Jn,Kn=e.id,Qn=e.overflow,Jn=t),t=Oi(t,a.children),t.flags|=4096,t)}(e,t,o,n,a,r,s);if(i){i=n.fallback,o=t.mode,a=(r=e.child).sibling;var c={mode:"hidden",children:n.children};return 0===(1&o)&&t.child!==r?((n=t.child).childLanes=0,n.pendingProps=c,t.deletions=null):(n=Lc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==a?i=Lc(a,i):(i=Rc(i,o,s,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=null===(o=e.child.memoizedState)?Ri(s):{baseLanes:o.baseLanes|s,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~s,t.memoizedState=Ti,n}return e=(i=e.child).sibling,n=Lc(i,{mode:"visible",children:n.children}),0===(1&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n}function Oi(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fi(e,t,s,a){return null!==a&&hl(a),vl(t,e.child,null,s),(e=Oi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,s){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Al(e.return,t,s)}function Bi(e,t,s,a,n){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:n}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=s,l.tailMode=n)}function Ui(e,t,s){var a=t.pendingProps,n=a.revealOrder,l=a.tail;if(ji(e,t,a.children,s),0!==(2&(a=Zl.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,s,t);else if(19===e.tag)zi(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cn(Zl,a),0===(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(s=t.child,n=null;null!==s;)null!==(e=s.alternate)&&null===er(e)&&(n=s),s=s.sibling;null===(s=n)?(n=t.child,t.child=null):(n=s.sibling,s.sibling=null),Bi(t,!1,n,s,l);break;case"backwards":for(s=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===er(e)){t.child=n;break}e=n.sibling,n.sibling=s,s=n,n=e}Bi(t,!0,s,null,l);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(s=Lc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Lc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Wi(e,t){if(!nl)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var a=null;null!==s;)null!==s.alternate&&(a=s),s=s.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gi(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,a=0;if(t)for(var n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=14680064&n.subtreeFlags,a|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)s|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=s,t}function qi(e,t,s){var a=t.pendingProps;switch(tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gi(t),null;case 1:case 17:return Pn(t.type)&&Ln(),Gi(t),null;case 3:return a=t.stateNode,Kl(),_n(En),_n(An),sr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ml(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ll&&(rc(ll),ll=null))),Ii(e,t),Gi(t),null;case 5:Xl(t);var n=$l(Yl.current);if(s=t.type,null!==e&&null!=t.stateNode)Pi(e,t,s,a,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(l(166));return Gi(t),null}if(e=$l(Gl.current),ml(t)){a=t.stateNode,s=t.type;var r=t.memoizedProps;switch(a[un]=t,a[xn]=r,e=0!==(1&t.mode),s){case"dialog":Fa("cancel",a),Fa("close",a);break;case"iframe":case"object":case"embed":Fa("load",a);break;case"video":case"audio":for(n=0;n<Ta.length;n++)Fa(Ta[n],a);break;case"source":Fa("error",a);break;case"img":case"image":case"link":Fa("error",a),Fa("load",a);break;case"details":Fa("toggle",a);break;case"input":K(a,r),Fa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!r.multiple},Fa("invalid",a);break;case"textarea":ne(a,r),Fa("invalid",a)}for(var o in be(s,r),n=null,r)if(r.hasOwnProperty(o)){var c=r[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==r.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Qa(a.textContent,c,e),n=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Fa("scroll",a)}switch(s){case"input":q(a),Z(a,r,!0);break;case"textarea":q(a),re(a);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(a.onclick=Xa)}a=n,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(s,{is:a.is}):(e=o.createElement(s),"select"===s&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,s),e[un]=t,e[xn]=a,Mi(e,t,!1,!1),t.stateNode=e;e:{switch(o=je(s,a),s){case"dialog":Fa("cancel",e),Fa("close",e),n=a;break;case"iframe":case"object":case"embed":Fa("load",e),n=a;break;case"video":case"audio":for(n=0;n<Ta.length;n++)Fa(Ta[n],e);n=a;break;case"source":Fa("error",e),n=a;break;case"img":case"image":case"link":Fa("error",e),Fa("load",e),n=a;break;case"details":Fa("toggle",e),n=a;break;case"input":K(e,a),n=J(e,a),Fa("invalid",e);break;case"option":default:n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=O({},a,{value:void 0}),Fa("invalid",e);break;case"textarea":ne(e,a),n=ae(e,a),Fa("invalid",e)}for(r in be(s,n),c=n)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?ge(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&me(e,d):"children"===r?"string"===typeof d?("textarea"!==s||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(i.hasOwnProperty(r)?null!=d&&"onScroll"===r&&Fa("scroll",e):null!=d&&j(e,r,d,o))}switch(s){case"input":q(e),Z(e,a,!1);break;case"textarea":q(e),re(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(r=a.value)?se(e,!!a.multiple,r,!1):null!=a.defaultValue&&se(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof n.onClick&&(e.onclick=Xa)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gi(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(l(166));if(s=$l(Yl.current),$l(Gl.current),ml(t)){if(a=t.stateNode,s=t.memoizedProps,a[un]=t,(r=a.nodeValue!==s)&&null!==(e=sl))switch(e.tag){case 3:Qa(a.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qa(a.nodeValue,s,0!==(1&e.mode))}r&&(t.flags|=4)}else(a=(9===s.nodeType?s:s.ownerDocument).createTextNode(a))[un]=t,t.stateNode=a}return Gi(t),null;case 13:if(_n(Zl),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(nl&&null!==al&&0!==(1&t.mode)&&0===(128&t.flags))ul(),xl(),t.flags|=98560,r=!1;else if(r=ml(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[un]=t}else xl(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gi(t),r=!1}else null!==ll&&(rc(ll),ll=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zl.current)?0===To&&(To=3):pc())),null!==t.updateQueue&&(t.flags|=4),Gi(t),null);case 4:return Kl(),Ii(e,t),null===e&&Ua(t.stateNode.containerInfo),Gi(t),null;case 10:return Sl(t.type._context),Gi(t),null;case 19:if(_n(Zl),null===(r=t.memoizedState))return Gi(t),null;if(a=0!==(128&t.flags),null===(o=r.rendering))if(a)Wi(r,!1);else{if(0!==To||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=er(e))){for(t.flags|=128,Wi(r,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=s,s=t.child;null!==s;)e=a,(r=s).flags&=14680066,null===(o=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Cn(Zl,1&Zl.current|2),t.child}e=e.sibling}null!==r.tail&&Qe()>Ho&&(t.flags|=128,a=!0,Wi(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=er(o))){if(t.flags|=128,a=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Wi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!nl)return Gi(t),null}else 2*Qe()-r.renderingStartTime>Ho&&1073741824!==s&&(t.flags|=128,a=!0,Wi(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(s=r.last)?s.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Qe(),t.sibling=null,s=Zl.current,Cn(Zl,a?1&s|2:1&s),t):(Gi(t),null);case 22:case 23:return mc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Po)&&(Gi(t),6&t.subtreeFlags&&(t.flags|=8192)):Gi(t),null;case 24:case 25:return null}throw Error(l(156,t.tag))}function Yi(e,t){switch(tl(t),t.tag){case 1:return Pn(t.type)&&Ln(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Kl(),_n(En),_n(An),sr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xl(t),null;case 13:if(_n(Zl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));xl()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _n(Zl),null;case 4:return Kl(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Mi=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ii=function(){},Pi=function(e,t,s,a){var n=e.memoizedProps;if(n!==a){e=t.stateNode,$l(Gl.current);var l,r=null;switch(s){case"input":n=J(e,n),a=J(e,a),r=[];break;case"select":n=O({},n,{value:void 0}),a=O({},a,{value:void 0}),r=[];break;case"textarea":n=ae(e,n),a=ae(e,a),r=[];break;default:"function"!==typeof n.onClick&&"function"===typeof a.onClick&&(e.onclick=Xa)}for(d in be(s,a),s=null,n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&null!=n[d])if("style"===d){var o=n[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=n?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(r||(r=[]),r.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fa("scroll",e),r||o===c||(r=[])):(r=r||[]).push(d,c))}s&&(r=r||[]).push("style",s);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Li=function(e,t,s,a){s!==a&&(t.flags|=4)};var $i=!1,Ji=!1,Ki="function"===typeof WeakSet?WeakSet:Set,Qi=null;function Xi(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(a){kc(e,t,a)}else s.current=null}function Zi(e,t,s){try{s()}catch(a){kc(e,t,a)}}var eo=!1;function to(e,t,s){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var n=a=a.next;do{if((n.tag&e)===e){var l=n.destroy;n.destroy=void 0,void 0!==l&&Zi(t,s,l)}n=n.next}while(n!==a)}}function so(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var a=s.create;s.destroy=a()}s=s.next}while(s!==t)}}function ao(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function no(e){var t=e.alternate;null!==t&&(e.alternate=null,no(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[un],delete t[xn],delete t[pn],delete t[gn],delete t[fn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lo(e){return 5===e.tag||3===e.tag||4===e.tag}function ro(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Xa));else if(4!==a&&null!==(e=e.child))for(io(e,t,s),e=e.sibling;null!==e;)io(e,t,s),e=e.sibling}function oo(e,t,s){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,s),e=e.sibling;null!==e;)oo(e,t,s),e=e.sibling}var co=null,mo=!1;function uo(e,t,s){for(s=s.child;null!==s;)xo(e,t,s),s=s.sibling}function xo(e,t,s){if(lt&&"function"===typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(nt,s)}catch(i){}switch(s.tag){case 5:Ji||Xi(s,t);case 6:var a=co,n=mo;co=null,uo(e,t,s),mo=n,null!==(co=a)&&(mo?(e=co,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):co.removeChild(s.stateNode));break;case 18:null!==co&&(mo?(e=co,s=s.stateNode,8===e.nodeType?on(e.parentNode,s):1===e.nodeType&&on(e,s),Ht(e)):on(co,s.stateNode));break;case 4:a=co,n=mo,co=s.stateNode.containerInfo,mo=!0,uo(e,t,s),co=a,mo=n;break;case 0:case 11:case 14:case 15:if(!Ji&&(null!==(a=s.updateQueue)&&null!==(a=a.lastEffect))){n=a=a.next;do{var l=n,r=l.destroy;l=l.tag,void 0!==r&&(0!==(2&l)||0!==(4&l))&&Zi(s,t,r),n=n.next}while(n!==a)}uo(e,t,s);break;case 1:if(!Ji&&(Xi(s,t),"function"===typeof(a=s.stateNode).componentWillUnmount))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(i){kc(s,t,i)}uo(e,t,s);break;case 21:uo(e,t,s);break;case 22:1&s.mode?(Ji=(a=Ji)||null!==s.memoizedState,uo(e,t,s),Ji=a):uo(e,t,s);break;default:uo(e,t,s)}}function ho(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Ki),t.forEach(function(t){var a=Ac.bind(null,e,t);s.has(t)||(s.add(t),t.then(a,a))})}}function po(e,t){var s=t.deletions;if(null!==s)for(var a=0;a<s.length;a++){var n=s[a];try{var r=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,mo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,mo=!0;break e}o=o.return}if(null===co)throw Error(l(160));xo(r,i,n),co=null,mo=!1;var c=n.alternate;null!==c&&(c.return=null),n.return=null}catch(d){kc(n,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var s=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),fo(e),4&a){try{to(3,e,e.return),so(3,e)}catch(g){kc(e,e.return,g)}try{to(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:po(t,e),fo(e),512&a&&null!==s&&Xi(s,s.return);break;case 5:if(po(t,e),fo(e),512&a&&null!==s&&Xi(s,s.return),32&e.flags){var n=e.stateNode;try{ue(n,"")}catch(g){kc(e,e.return,g)}}if(4&a&&null!=(n=e.stateNode)){var r=e.memoizedProps,i=null!==s?s.memoizedProps:r,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===r.type&&null!=r.name&&Q(n,r),je(o,i);var d=je(o,r);for(i=0;i<c.length;i+=2){var m=c[i],u=c[i+1];"style"===m?ge(n,u):"dangerouslySetInnerHTML"===m?me(n,u):"children"===m?ue(n,u):j(n,m,u,d)}switch(o){case"input":X(n,r);break;case"textarea":le(n,r);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!r.multiple;var h=r.value;null!=h?se(n,!!r.multiple,h,!1):x!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}n[xn]=r}catch(g){kc(e,e.return,g)}}break;case 6:if(po(t,e),fo(e),4&a){if(null===e.stateNode)throw Error(l(162));n=e.stateNode,r=e.memoizedProps;try{n.nodeValue=r}catch(g){kc(e,e.return,g)}}break;case 3:if(po(t,e),fo(e),4&a&&null!==s&&s.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:po(t,e),fo(e);break;case 13:po(t,e),fo(e),8192&(n=e.child).flags&&(r=null!==n.memoizedState,n.stateNode.isHidden=r,!r||null!==n.alternate&&null!==n.alternate.memoizedState||(Uo=Qe())),4&a&&ho(e);break;case 22:if(m=null!==s&&null!==s.memoizedState,1&e.mode?(Ji=(d=Ji)||m,po(t,e),Ji=d):po(t,e),fo(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!m&&0!==(1&e.mode))for(Qi=e,m=e.child;null!==m;){for(u=Qi=m;null!==Qi;){switch(h=(x=Qi).child,x.tag){case 0:case 11:case 14:case 15:to(4,x,x.return);break;case 1:Xi(x,x.return);var p=x.stateNode;if("function"===typeof p.componentWillUnmount){a=x,s=x.return;try{t=a,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){kc(a,s,g)}}break;case 5:Xi(x,x.return);break;case 22:if(null!==x.memoizedState){yo(u);continue}}null!==h?(h.return=x,Qi=h):yo(u)}m=m.sibling}e:for(m=null,u=e;;){if(5===u.tag){if(null===m){m=u;try{n=u.stateNode,d?"function"===typeof(r=n.style).setProperty?r.setProperty("display","none","important"):r.display="none":(o=u.stateNode,i=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(g){kc(e,e.return,g)}}}else if(6===u.tag){if(null===m)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:po(t,e),fo(e),4&a&&ho(e);case 21:}}function fo(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(lo(s)){var a=s;break e}s=s.return}throw Error(l(160))}switch(a.tag){case 5:var n=a.stateNode;32&a.flags&&(ue(n,""),a.flags&=-33),oo(e,ro(e),n);break;case 3:case 4:var r=a.stateNode.containerInfo;io(e,ro(e),r);break;default:throw Error(l(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,s){Qi=e,jo(e,t,s)}function jo(e,t,s){for(var a=0!==(1&e.mode);null!==Qi;){var n=Qi,l=n.child;if(22===n.tag&&a){var r=null!==n.memoizedState||$i;if(!r){var i=n.alternate,o=null!==i&&null!==i.memoizedState||Ji;i=$i;var c=Ji;if($i=r,(Ji=o)&&!c)for(Qi=n;null!==Qi;)o=(r=Qi).child,22===r.tag&&null!==r.memoizedState?No(n):null!==o?(o.return=r,Qi=o):No(n);for(;null!==l;)Qi=l,jo(l,t,s),l=l.sibling;Qi=n,$i=i,Ji=c}vo(e)}else 0!==(8772&n.subtreeFlags)&&null!==l?(l.return=n,Qi=l):vo(e)}}function vo(e){for(;null!==Qi;){var t=Qi;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ji||so(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Ji)if(null===s)a.componentDidMount();else{var n=t.elementType===t.type?s.memoizedProps:ti(t.type,s.memoizedProps);a.componentDidUpdate(n,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Vl(t,r,a);break;case 3:var i=t.updateQueue;if(null!==i){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Vl(t,i,s)}break;case 5:var o=t.stateNode;if(null===s&&4&t.flags){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var m=d.memoizedState;if(null!==m){var u=m.dehydrated;null!==u&&Ht(u)}}}break;default:throw Error(l(163))}Ji||512&t.flags&&ao(t)}catch(x){kc(t,t.return,x)}}if(t===e){Qi=null;break}if(null!==(s=t.sibling)){s.return=t.return,Qi=s;break}Qi=t.return}}function yo(e){for(;null!==Qi;){var t=Qi;if(t===e){Qi=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qi=s;break}Qi=t.return}}function No(e){for(;null!==Qi;){var t=Qi;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{so(4,t)}catch(o){kc(t,s,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var n=t.return;try{a.componentDidMount()}catch(o){kc(t,n,o)}}var l=t.return;try{ao(t)}catch(o){kc(t,l,o)}break;case 5:var r=t.return;try{ao(t)}catch(o){kc(t,r,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qi=i;break}Qi=t.return}}var wo,ko=Math.ceil,_o=v.ReactCurrentDispatcher,Co=v.ReactCurrentOwner,So=v.ReactCurrentBatchConfig,Ao=0,Eo=null,Mo=null,Io=0,Po=0,Lo=kn(0),To=0,Ro=null,Do=0,Oo=0,Fo=0,zo=null,Bo=null,Uo=0,Ho=1/0,Vo=null,Wo=!1,Go=null,qo=null,Yo=!1,$o=null,Jo=0,Ko=0,Qo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&Ao)?Qe():-1!==Xo?Xo:Xo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ao)&&0!==Io?Io&-Io:null!==pl.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=jt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function sc(e,t,s,a){if(50<Ko)throw Ko=0,Qo=null,Error(l(185));ft(e,s,a),0!==(2&Ao)&&e===Eo||(e===Eo&&(0===(2&Ao)&&(Oo|=s),4===To&&ic(e,Io)),ac(e,a),1===s&&0===Ao&&0===(1&t.mode)&&(Ho=Qe()+500,zn&&Hn()))}function ac(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes;0<l;){var r=31-rt(l),i=1<<r,o=n[r];-1===o?0!==(i&s)&&0===(i&a)||(n[r]=xt(i,t)):o<=t&&(e.expiredLanes|=i),l&=~i}}(e,t);var a=ut(e,e===Eo?Io:0);if(0===a)null!==s&&$e(s),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=s&&$e(s),1===t)0===e.tag?function(e){zn=!0,Un(e)}(oc.bind(null,e)):Un(oc.bind(null,e)),ln(function(){0===(6&Ao)&&Hn()}),s=null;else{switch(vt(a)){case 1:s=Ze;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=at}s=Ec(s,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function nc(e,t){if(Xo=-1,Zo=0,0!==(6&Ao))throw Error(l(327));var s=e.callbackNode;if(Nc()&&e.callbackNode!==s)return null;var a=ut(e,e===Eo?Io:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=gc(e,a);else{t=a;var n=Ao;Ao|=2;var r=hc();for(Eo===e&&Io===t||(Vo=null,Ho=Qe()+500,uc(e,t));;)try{bc();break}catch(o){xc(e,o)}Cl(),_o.current=r,Ao=n,null!==Mo?t=0:(Eo=null,Io=0,t=To)}if(0!==t){if(2===t&&(0!==(n=ht(e))&&(a=n,t=lc(e,n))),1===t)throw s=Ro,uc(e,0),ic(e,a),ac(e,Qe()),s;if(6===t)ic(e,a);else{if(n=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var a=0;a<s.length;a++){var n=s[a],l=n.getSnapshot;n=n.value;try{if(!ra(l(),n))return!1}catch(i){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=gc(e,a))&&(0!==(r=ht(e))&&(a=r,t=lc(e,r))),1===t))throw s=Ro,uc(e,0),ic(e,a),ac(e,Qe()),s;switch(e.finishedWork=n,e.finishedLanes=a,t){case 0:case 1:throw Error(l(345));case 2:case 5:yc(e,Bo,Vo);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=Uo+500-Qe())){if(0!==ut(e,0))break;if(((n=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=sn(yc.bind(null,e,Bo,Vo),t);break}yc(e,Bo,Vo);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,n=-1;0<a;){var i=31-rt(a);r=1<<i,(i=t[i])>n&&(n=i),a&=~r}if(a=n,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ko(a/1960))-a)){e.timeoutHandle=sn(yc.bind(null,e,Bo,Vo),a);break}yc(e,Bo,Vo);break;default:throw Error(l(329))}}}return ac(e,Qe()),e.callbackNode===s?nc.bind(null,e):null}function lc(e,t){var s=zo;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bo,Bo=s,null!==t&&rc(t)),e}function rc(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function ic(e,t){for(t&=~Fo,t&=~Oo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-rt(t),a=1<<s;e[s]=-1,t&=~a}}function oc(e){if(0!==(6&Ao))throw Error(l(327));Nc();var t=ut(e,0);if(0===(1&t))return ac(e,Qe()),null;var s=gc(e,t);if(0!==e.tag&&2===s){var a=ht(e);0!==a&&(t=a,s=lc(e,a))}if(1===s)throw s=Ro,uc(e,0),ic(e,t),ac(e,Qe()),s;if(6===s)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Bo,Vo),ac(e,Qe()),null}function cc(e,t){var s=Ao;Ao|=1;try{return e(t)}finally{0===(Ao=s)&&(Ho=Qe()+500,zn&&Hn())}}function dc(e){null!==$o&&0===$o.tag&&0===(6&Ao)&&Nc();var t=Ao;Ao|=1;var s=So.transition,a=jt;try{if(So.transition=null,jt=1,e)return e()}finally{jt=a,So.transition=s,0===(6&(Ao=t))&&Hn()}}function mc(){Po=Lo.current,_n(Lo)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,an(s)),null!==Mo)for(s=Mo.return;null!==s;){var a=s;switch(tl(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Ln();break;case 3:Kl(),_n(En),_n(An),sr();break;case 5:Xl(a);break;case 4:Kl();break;case 13:case 19:_n(Zl);break;case 10:Sl(a.type._context);break;case 22:case 23:mc()}s=s.return}if(Eo=e,Mo=e=Lc(e.current,null),Io=Po=t,To=0,Ro=null,Fo=Oo=Do=0,Bo=zo=null,null!==Il){for(t=0;t<Il.length;t++)if(null!==(a=(s=Il[t]).interleaved)){s.interleaved=null;var n=a.next,l=s.pending;if(null!==l){var r=l.next;l.next=n,a.next=r}s.pending=a}Il=null}return e}function xc(e,t){for(;;){var s=Mo;try{if(Cl(),ar.current=Qr,cr){for(var a=rr.memoizedState;null!==a;){var n=a.queue;null!==n&&(n.pending=null),a=a.next}cr=!1}if(lr=0,or=ir=rr=null,dr=!1,mr=0,Co.current=null,null===s||null===s.return){To=1,Ro=t,Mo=null;break}e:{var r=e,i=s.return,o=s,c=t;if(t=Io,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,m=o,u=m.tag;if(0===(1&m.mode)&&(0===u||11===u||15===u)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var h=pi(i);if(null!==h){h.flags&=-257,gi(h,i,o,0,t),1&h.mode&&hi(r,d,t),c=d;var p=(t=h).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){hi(r,d,t),pc();break e}c=Error(l(426))}else if(nl&&1&o.mode){var f=pi(i);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),gi(f,i,o,0,t),hl(oi(c,o));break e}}r=c=oi(c,o),4!==To&&(To=2),null===zo?zo=[r]:zo.push(r),r=i;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Ul(r,ui(0,c,t));break e;case 1:o=c;var b=r.type,j=r.stateNode;if(0===(128&r.flags)&&("function"===typeof b.getDerivedStateFromError||null!==j&&"function"===typeof j.componentDidCatch&&(null===qo||!qo.has(j)))){r.flags|=65536,t&=-t,r.lanes|=t,Ul(r,xi(r,o,t));break e}}r=r.return}while(null!==r)}vc(s)}catch(v){t=v,Mo===s&&null!==s&&(Mo=s=s.return);continue}break}}function hc(){var e=_o.current;return _o.current=Qr,null===e?Qr:e}function pc(){0!==To&&3!==To&&2!==To||(To=4),null===Eo||0===(268435455&Do)&&0===(268435455&Oo)||ic(Eo,Io)}function gc(e,t){var s=Ao;Ao|=2;var a=hc();for(Eo===e&&Io===t||(Vo=null,uc(e,t));;)try{fc();break}catch(n){xc(e,n)}if(Cl(),Ao=s,_o.current=a,null!==Mo)throw Error(l(261));return Eo=null,Io=0,To}function fc(){for(;null!==Mo;)jc(Mo)}function bc(){for(;null!==Mo&&!Je();)jc(Mo)}function jc(e){var t=wo(e.alternate,e,Po);e.memoizedProps=e.pendingProps,null===t?vc(e):Mo=t,Co.current=null}function vc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=qi(s,t,Po)))return void(Mo=s)}else{if(null!==(s=Yi(s,t)))return s.flags&=32767,void(Mo=s);if(null===e)return To=6,void(Mo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Mo=t);Mo=t=e}while(null!==t);0===To&&(To=5)}function yc(e,t,s){var a=jt,n=So.transition;try{So.transition=null,jt=1,function(e,t,s,a){do{Nc()}while(null!==$o);if(0!==(6&Ao))throw Error(l(327));s=e.finishedWork;var n=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var r=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<s;){var n=31-rt(s),l=1<<n;t[n]=0,a[n]=-1,e[n]=-1,s&=~l}}(e,r),e===Eo&&(Mo=Eo=null,Io=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||Yo||(Yo=!0,Ec(tt,function(){return Nc(),null})),r=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||r){r=So.transition,So.transition=null;var i=jt;jt=1;var o=Ao;Ao|=4,Co.current=null,function(e,t){if(Za=Wt,ua(e=ma())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var n=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{s.nodeType,r.nodeType}catch(y){s=null;break e}var i=0,o=-1,c=-1,d=0,m=0,u=e,x=null;t:for(;;){for(var h;u!==s||0!==n&&3!==u.nodeType||(o=i+n),u!==r||0!==a&&3!==u.nodeType||(c=i+a),3===u.nodeType&&(i+=u.nodeValue.length),null!==(h=u.firstChild);)x=u,u=h;for(;;){if(u===e)break t;if(x===s&&++d===n&&(o=i),x===r&&++m===a&&(c=i),null!==(h=u.nextSibling))break;x=(u=x).parentNode}u=h}s=-1===o||-1===c?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(en={focusedElem:e,selectionRange:s},Wt=!1,Qi=t;null!==Qi;)if(e=(t=Qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qi=e;else for(;null!==Qi;){t=Qi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,f=p.memoizedState,b=t.stateNode,j=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ti(t.type,g),f);b.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(l(163))}}catch(y){kc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,Qi=e;break}Qi=t.return}p=eo,eo=!1}(e,s),go(s,e),xa(en),Wt=!!Za,en=Za=null,e.current=s,bo(s,e,n),Ke(),Ao=o,jt=i,So.transition=r}else e.current=s;if(Yo&&(Yo=!1,$o=e,Jo=n),r=e.pendingLanes,0===r&&(qo=null),function(e){if(lt&&"function"===typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,s=0;s<t.length;s++)n=t[s],a(n.value,{componentStack:n.stack,digest:n.digest});if(Wo)throw Wo=!1,e=Go,Go=null,e;0!==(1&Jo)&&0!==e.tag&&Nc(),r=e.pendingLanes,0!==(1&r)?e===Qo?Ko++:(Ko=0,Qo=e):Ko=0,Hn()}(e,t,s,a)}finally{So.transition=n,jt=a}return null}function Nc(){if(null!==$o){var e=vt(Jo),t=So.transition,s=jt;try{if(So.transition=null,jt=16>e?16:e,null===$o)var a=!1;else{if(e=$o,$o=null,Jo=0,0!==(6&Ao))throw Error(l(331));var n=Ao;for(Ao|=4,Qi=e.current;null!==Qi;){var r=Qi,i=r.child;if(0!==(16&Qi.flags)){var o=r.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Qi=d;null!==Qi;){var m=Qi;switch(m.tag){case 0:case 11:case 15:to(8,m,r)}var u=m.child;if(null!==u)u.return=m,Qi=u;else for(;null!==Qi;){var x=(m=Qi).sibling,h=m.return;if(no(m),m===d){Qi=null;break}if(null!==x){x.return=h,Qi=x;break}Qi=h}}}var p=r.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(null!==g)}}Qi=r}}if(0!==(2064&r.subtreeFlags)&&null!==i)i.return=r,Qi=i;else e:for(;null!==Qi;){if(0!==(2048&(r=Qi).flags))switch(r.tag){case 0:case 11:case 15:to(9,r,r.return)}var b=r.sibling;if(null!==b){b.return=r.return,Qi=b;break e}Qi=r.return}}var j=e.current;for(Qi=j;null!==Qi;){var v=(i=Qi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Qi=v;else e:for(i=j;null!==Qi;){if(0!==(2048&(o=Qi).flags))try{switch(o.tag){case 0:case 11:case 15:so(9,o)}}catch(N){kc(o,o.return,N)}if(o===i){Qi=null;break e}var y=o.sibling;if(null!==y){y.return=o.return,Qi=y;break e}Qi=o.return}}if(Ao=n,Hn(),lt&&"function"===typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(nt,e)}catch(N){}a=!0}return a}finally{jt=s,So.transition=t}}return!1}function wc(e,t,s){e=zl(e,t=ui(0,t=oi(s,t),1),1),t=ec(),null!==e&&(ft(e,1,t),ac(e,t))}function kc(e,t,s){if(3===e.tag)wc(e,e,s);else for(;null!==t;){if(3===t.tag){wc(t,e,s);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===qo||!qo.has(a))){t=zl(t,e=xi(t,e=oi(s,e),1),1),e=ec(),null!==t&&(ft(t,1,e),ac(t,e));break}}t=t.return}}function _c(e,t,s){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,Eo===e&&(Io&s)===s&&(4===To||3===To&&(130023424&Io)===Io&&500>Qe()-Uo?uc(e,0):Fo|=s),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Tl(e,t))&&(ft(e,t,s),ac(e,s))}function Sc(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Cc(e,s)}function Ac(e,t){var s=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;null!==n&&(s=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(l(314))}null!==a&&a.delete(t),Cc(e,s)}function Ec(e,t){return Ye(e,t)}function Mc(e,t,s,a){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,s,a){return new Mc(e,t,s,a)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var s=e.alternate;return null===s?((s=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Tc(e,t,s,a,n,r){var i=2;if(a=e,"function"===typeof e)Pc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Rc(s.children,n,r,t);case k:i=8,n|=8;break;case _:return(e=Ic(12,s,t,2|n)).elementType=_,e.lanes=r,e;case E:return(e=Ic(13,s,t,n)).elementType=E,e.lanes=r,e;case M:return(e=Ic(19,s,t,n)).elementType=M,e.lanes=r,e;case L:return Dc(s,n,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case S:i=9;break e;case A:i=11;break e;case I:i=14;break e;case P:i=16,a=null;break e}throw Error(l(130,null==e?e:typeof e,""))}return(t=Ic(i,s,t,n)).elementType=e,t.type=a,t.lanes=r,t}function Rc(e,t,s,a){return(e=Ic(7,e,a,t)).lanes=s,e}function Dc(e,t,s,a){return(e=Ic(22,e,a,t)).elementType=L,e.lanes=s,e.stateNode={isHidden:!1},e}function Oc(e,t,s){return(e=Ic(6,e,null,t)).lanes=s,e}function Fc(e,t,s){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,s,a,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Bc(e,t,s,a,n,l,r,i,o){return e=new zc(e,t,s,i,o),1===t?(t=1,!0===l&&(t|=8)):t=0,l=Ic(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dl(l),e}function Uc(e){if(!e)return Sn;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(l(171))}if(1===e.tag){var s=e.type;if(Pn(s))return Rn(e,s,t)}return t}function Hc(e,t,s,a,n,l,r,i,o){return(e=Bc(s,a,!0,e,0,l,0,i,o)).context=Uc(null),s=e.current,(l=Fl(a=ec(),n=tc(s))).callback=void 0!==t&&null!==t?t:null,zl(s,l,n),e.current.lanes=n,ft(e,n,a),ac(e,a),e}function Vc(e,t,s,a){var n=t.current,l=ec(),r=tc(n);return s=Uc(s),null===t.context?t.context=s:t.pendingContext=s,(t=Fl(l,r)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=zl(n,t,r))&&(sc(e,n,r,l),Bl(e,n,r)),r}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}wo=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||En.current)bi=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return bi=!1,function(e,t,s){switch(t.tag){case 3:Ai(t),xl();break;case 5:Ql(t);break;case 1:Pn(t.type)&&Dn(t);break;case 4:Jl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,n=t.memoizedProps.value;Cn(Nl,a._currentValue),a._currentValue=n;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cn(Zl,1&Zl.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Di(e,t,s):(Cn(Zl,1&Zl.current),null!==(e=Vi(e,t,s))?e.sibling:null);Cn(Zl,1&Zl.current);break;case 19:if(a=0!==(s&t.childLanes),0!==(128&e.flags)){if(a)return Ui(e,t,s);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),Cn(Zl,Zl.current),a)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,s)}return Vi(e,t,s)}(e,t,s);bi=0!==(131072&e.flags)}else bi=!1,nl&&0!==(1048576&t.flags)&&Zn(t,qn,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Hi(e,t),e=t.pendingProps;var n=In(t,An.current);El(t,s),n=pr(null,t,a,e,n,s);var r=gr();return t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pn(a)?(r=!0,Dn(t)):r=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Dl(t),n.updater=ai,t.stateNode=n,n._reactInternals=t,ii(t,a,e,s),t=Si(null,t,a,!0,r,s)):(t.tag=0,nl&&r&&el(t),ji(null,t,n,s),t=t.child),t;case 16:a=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,a=(n=a._init)(a._payload),t.type=a,n=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===I)return 14}return 2}(a),e=ti(a,e),n){case 0:t=_i(null,t,a,e,s);break e;case 1:t=Ci(null,t,a,e,s);break e;case 11:t=vi(null,t,a,e,s);break e;case 14:t=yi(null,t,a,ti(a.type,e),s);break e}throw Error(l(306,a,""))}return t;case 0:return a=t.type,n=t.pendingProps,_i(e,t,a,n=t.elementType===a?n:ti(a,n),s);case 1:return a=t.type,n=t.pendingProps,Ci(e,t,a,n=t.elementType===a?n:ti(a,n),s);case 3:e:{if(Ai(t),null===e)throw Error(l(387));a=t.pendingProps,n=(r=t.memoizedState).element,Ol(e,t),Hl(t,a,null,s);var i=t.memoizedState;if(a=i.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Ei(e,t,a,s,n=oi(Error(l(423)),t));break e}if(a!==n){t=Ei(e,t,a,s,n=oi(Error(l(424)),t));break e}for(al=cn(t.stateNode.containerInfo.firstChild),sl=t,nl=!0,ll=null,s=yl(t,null,a,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(xl(),a===n){t=Vi(e,t,s);break e}ji(e,t,a,s)}t=t.child}return t;case 5:return Ql(t),null===e&&cl(t),a=t.type,n=t.pendingProps,r=null!==e?e.memoizedProps:null,i=n.children,tn(a,n)?i=null:null!==r&&tn(a,r)&&(t.flags|=32),ki(e,t),ji(e,t,i,s),t.child;case 6:return null===e&&cl(t),null;case 13:return Di(e,t,s);case 4:return Jl(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=vl(t,null,a,s):ji(e,t,a,s),t.child;case 11:return a=t.type,n=t.pendingProps,vi(e,t,a,n=t.elementType===a?n:ti(a,n),s);case 7:return ji(e,t,t.pendingProps,s),t.child;case 8:case 12:return ji(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(a=t.type._context,n=t.pendingProps,r=t.memoizedProps,i=n.value,Cn(Nl,a._currentValue),a._currentValue=i,null!==r)if(ra(r.value,i)){if(r.children===n.children&&!En.current){t=Vi(e,t,s);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var o=r.dependencies;if(null!==o){i=r.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===r.tag){(c=Fl(-1,s&-s)).tag=2;var d=r.updateQueue;if(null!==d){var m=(d=d.shared).pending;null===m?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}r.lanes|=s,null!==(c=r.alternate)&&(c.lanes|=s),Al(r.return,s,t),o.lanes|=s;break}c=c.next}}else if(10===r.tag)i=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(i=r.return))throw Error(l(341));i.lanes|=s,null!==(o=i.alternate)&&(o.lanes|=s),Al(i,s,t),i=r.sibling}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===t){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}ji(e,t,n.children,s),t=t.child}return t;case 9:return n=t.type,a=t.pendingProps.children,El(t,s),a=a(n=Ml(n)),t.flags|=1,ji(e,t,a,s),t.child;case 14:return n=ti(a=t.type,t.pendingProps),yi(e,t,a,n=ti(a.type,n),s);case 15:return Ni(e,t,t.type,t.pendingProps,s);case 17:return a=t.type,n=t.pendingProps,n=t.elementType===a?n:ti(a,n),Hi(e,t),t.tag=1,Pn(a)?(e=!0,Dn(t)):e=!1,El(t,s),li(t,a,n),ii(t,a,n,s),Si(null,t,a,!0,e,s);case 19:return Ui(e,t,s);case 22:return wi(e,t,s)}throw Error(l(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,s,a,n){var l=s._reactRootContainer;if(l){var r=l;if("function"===typeof n){var i=n;n=function(){var e=Wc(r);i.call(e)}}Vc(t,r,e,n)}else r=function(e,t,s,a,n){if(n){if("function"===typeof a){var l=a;a=function(){var e=Wc(r);l.call(e)}}var r=Hc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=r,e[hn]=r.current,Ua(8===e.nodeType?e.parentNode:e),dc(),r}for(;n=e.lastChild;)e.removeChild(n);if("function"===typeof a){var i=a;a=function(){var e=Wc(o);i.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[hn]=o.current,Ua(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,o,s,a)}),o}(s,t,e,n,a);return Wc(r)}Jc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Vc(e,t,null,null)},Jc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[hn]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Lt.length&&0!==t&&t<Lt[s].priority;s++);Lt.splice(s,0,e),0===s&&Ot(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=mt(t.pendingLanes);0!==s&&(bt(t,1|s),ac(t,Qe()),0===(6&Ao)&&(Ho=Qe()+500,Hn()))}break;case 13:dc(function(){var t=Tl(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),qc(e,1)}},Nt=function(e){if(13===e.tag){var t=Tl(e,134217728);if(null!==t)sc(t,e,134217728,ec());qc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),s=Tl(e,t);if(null!==s)sc(s,e,t,ec());qc(e,t)}},kt=function(){return jt},_t=function(e,t){var s=jt;try{return jt=e,t()}finally{jt=s}},Ne=function(e,t,s){switch(t){case"input":if(X(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var a=s[t];if(a!==e&&a.form===e.form){var n=yn(a);if(!n)throw Error(l(90));Y(a),X(a,n)}}}break;case"textarea":le(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ae=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[jn,vn,yn,Ce,Se,cc]},td={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{nt=ad.inject(sd),lt=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(l(200));return function(e,t,s){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==a?null:""+a,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Kc(e))throw Error(l(299));var s=!1,a="",n=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=Bc(e,1,!1,null,0,s,0,a,n),e[hn]=t.current,Ua(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Qc(t))throw Error(l(200));return Zc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Kc(e))throw Error(l(405));var a=null!=s&&s.hydratedSources||null,n=!1,r="",i=Yc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(n=!0),void 0!==s.identifierPrefix&&(r=s.identifierPrefix),void 0!==s.onRecoverableError&&(i=s.onRecoverableError)),t=Hc(t,null,e,1,null!=s?s:null,n,0,r,i),e[hn]=t.current,Ua(e),a)for(e=0;e<a.length;e++)n=(n=(s=a[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,n]:t.mutableSourceEagerHydrationData.push(s,n);return new Jc(t)},t.render=function(e,t,s){if(!Qc(t))throw Error(l(200));return Zc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(l(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,a){if(!Qc(s))throw Error(l(200));if(null==e||void 0===e._reactInternals)throw Error(l(38));return Zc(e,t,s,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,s)=>{e.exports=s(234)},950:(e,t,s)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(730)}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,s),l.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(a,n){if(1&n&&(a=this(a)),8&n)return a;if("object"===typeof a&&a){if(4&n&&a.__esModule)return a;if(16&n&&"function"===typeof a.then)return a}var l=Object.create(null);s.r(l);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&a;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>r[e]=()=>a[e]);return r.default=()=>a,s.d(l,r),l}})(),s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a,n=s(43),l=s.t(n,2),r=s(391),i=s(950),o=s.t(i,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const d="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function x(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,s,a){return void 0===s&&(s=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:s,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function g(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,t,s,n){void 0===n&&(n={});let{window:l=document.defaultView,v5Compat:r=!1}=n,i=l.history,o=a.Pop,u=null,g=f();function f(){return(i.state||{idx:null}).idx}function b(){o=a.Pop;let e=f(),t=null==e?null:e-g;g=e,u&&u({action:o,location:v.location,delta:t})}function j(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,s="string"===typeof e?e:p(e);return s=s.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==g&&(g=0,i.replaceState(c({},i.state,{idx:g}),""));let v={get action(){return o},get location(){return e(l,i)},listen(e){if(u)throw new Error("A history only accepts one active listener");return l.addEventListener(d,b),u=e,()=>{l.removeEventListener(d,b),u=null}},createHref:e=>t(l,e),createURL:j,encodeLocation(e){let t=j(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=a.Push;let n=h(v.location,e,t);s&&s(n,e),g=f()+1;let c=x(n,g),d=v.createHref(n);try{i.pushState(c,"",d)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;l.location.assign(d)}r&&u&&u({action:o,location:v.location,delta:1})},replace:function(e,t){o=a.Replace;let n=h(v.location,e,t);s&&s(n,e),g=f();let l=x(n,g),c=v.createHref(n);i.replaceState(l,"",c),r&&u&&u({action:o,location:v.location,delta:0})},go:e=>i.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function j(e,t,s){return void 0===s&&(s="/"),v(e,t,s,!1)}function v(e,t,s,a){let n=T(("string"===typeof t?g(t):t).pathname||"/",s);if(null==n)return null;let l=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(l);let r=null;for(let i=0;null==r&&i<l.length;++i){let e=L(n);r=I(l[i],e,a)}return r}function y(e,t,s,a){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===a&&(a="");let n=(e,n,l)=>{let r={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};r.relativePath.startsWith("/")&&(m(r.relativePath.startsWith(a),'Absolute route path "'+r.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(a.length));let i=z([a,r.relativePath]),o=s.concat(r);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),y(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:M(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let a of N(e.path))n(e,t,a);else n(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[s,...a]=t,n=s.endsWith("?"),l=s.replace(/\?$/,"");if(0===a.length)return n?[l,""]:[l];let r=N(a.join("/")),i=[];return i.push(...r.map(e=>""===e?l:[l,e].join("/"))),n&&i.push(...r),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,k=3,_=2,C=1,S=10,A=-2,E=e=>"*"===e;function M(e,t){let s=e.split("/"),a=s.length;return s.some(E)&&(a+=A),t&&(a+=_),s.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?k:""===t?C:S),a)}function I(e,t,s){void 0===s&&(s=!1);let{routesMeta:a}=e,n={},l="/",r=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===l?t:t.slice(l.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),m=e.route;if(!d&&o&&s&&!a[a.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),r.push({params:n,pathname:z([l,d.pathname]),pathnameBase:B(z([l,d.pathnameBase])),route:m}),"/"!==d.pathnameBase&&(l=z([l,d.pathnameBase]))}return r}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(a.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))");let l=new RegExp(n,t?void 0:"i");return[l,a]}(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let l=n[0],r=l.replace(/(.)\/+$/,"$1"),i=n.slice(1),o=a.reduce((e,t,s)=>{let{paramName:a,isOptional:n}=t;if("*"===a){let e=i[s]||"";r=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[s];return e[a]=n&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:l,pathnameBase:r,pattern:e}}function L(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&"/"!==a?null:e.slice(s)||"/"}function R(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function O(e,t){let s=D(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function F(e,t,s,a){let n;void 0===a&&(a=!1),"string"===typeof e?n=g(e):(n=c({},e),m(!n.pathname||!n.pathname.includes("?"),R("?","pathname","search",n)),m(!n.pathname||!n.pathname.includes("#"),R("#","pathname","hash",n)),m(!n.search||!n.search.includes("#"),R("#","search","hash",n)));let l,r=""===e||""===n.pathname,i=r?"/":n.pathname;if(null==i)l=s;else{let e=t.length-1;if(!a&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}l=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:s,search:a="",hash:n=""}="string"===typeof e?g(e):e,l=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:l,search:U(a),hash:H(n)}}(n,l),d=i&&"/"!==i&&i.endsWith("/"),u=(r||"."===i)&&s.endsWith("/");return o.pathname.endsWith("/")||!d&&!u||(o.pathname+="/"),o}const z=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",H=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],G=(new Set(W),["get",...W]);new Set(G),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},q.apply(this,arguments)}const Y=n.createContext(null);const $=n.createContext(null);const J=n.createContext(null);const K=n.createContext(null);const Q=n.createContext({outlet:null,matches:[],isDataRoute:!1});const X=n.createContext(null);function Z(){return null!=n.useContext(K)}function ee(){return Z()||m(!1),n.useContext(K).location}function te(e){n.useContext(J).static||n.useLayoutEffect(e)}function se(){let{isDataRoute:e}=n.useContext(Q);return e?function(){let{router:e}=xe(me.UseNavigateStable),t=pe(ue.UseNavigateStable),s=n.useRef(!1);te(()=>{s.current=!0});let a=n.useCallback(function(a,n){void 0===n&&(n={}),s.current&&("number"===typeof a?e.navigate(a):e.navigate(a,q({fromRouteId:t},n)))},[e,t]);return a}():function(){Z()||m(!1);let e=n.useContext(Y),{basename:t,future:s,navigator:a}=n.useContext(J),{matches:l}=n.useContext(Q),{pathname:r}=ee(),i=JSON.stringify(O(l,s.v7_relativeSplatPath)),o=n.useRef(!1);te(()=>{o.current=!0});let c=n.useCallback(function(s,n){if(void 0===n&&(n={}),!o.current)return;if("number"===typeof s)return void a.go(s);let l=F(s,JSON.parse(i),r,"path"===n.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:z([t,l.pathname])),(n.replace?a.replace:a.push)(l,n.state,n)},[t,a,i,r,e]);return c}()}function ae(){let{matches:e}=n.useContext(Q),t=e[e.length-1];return t?t.params:{}}function ne(e,t){let{relative:s}=void 0===t?{}:t,{future:a}=n.useContext(J),{matches:l}=n.useContext(Q),{pathname:r}=ee(),i=JSON.stringify(O(l,a.v7_relativeSplatPath));return n.useMemo(()=>F(e,JSON.parse(i),r,"path"===s),[e,i,r,s])}function le(e,t,s,l){Z()||m(!1);let{navigator:r}=n.useContext(J),{matches:i}=n.useContext(Q),o=i[i.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,x=ee();if(t){var h;let e="string"===typeof t?g(t):t;"/"===d||(null==(h=e.pathname)?void 0:h.startsWith(d))||m(!1),u=e}else u=x;let p=u.pathname||"/",f=p;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=j(e,{pathname:f});let v=de(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([d,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:z([d,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,s,l);return t&&v?n.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},v):v}function re(){let e=function(){var e;let t=n.useContext(X),s=he(ue.UseRouteError),a=pe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[a]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),s?n.createElement("pre",{style:l},s):null,null)}const ie=n.createElement(re,null);class oe extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(Q.Provider,{value:this.props.routeContext},n.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:s,children:a}=e,l=n.useContext(Y);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),n.createElement(Q.Provider,{value:t},a)}function de(e,t,s,a){var l;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===a&&(a=null),null==e){var r;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(r=a)&&r.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let i=e,o=null==(l=s)?void 0:l.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||m(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(s&&a&&a.v7_partialHydration)for(let n=0;n<i.length;n++){let e=i[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=n),e.route.id){let{loaderData:t,errors:a}=s,n=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||n){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,a,l)=>{let r,m=!1,u=null,x=null;var h;s&&(r=o&&a.route.id?o[a.route.id]:void 0,u=a.route.errorElement||ie,c&&(d<0&&0===l?(h="route-fallback",!1||ge[h]||(ge[h]=!0),m=!0,x=null):d===l&&(m=!0,x=a.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,l+1)),g=()=>{let t;return t=r?u:m?x:a.route.Component?n.createElement(a.route.Component,null):a.route.element?a.route.element:e,n.createElement(ce,{match:a,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:t})};return s&&(a.route.ErrorBoundary||a.route.errorElement||0===l)?n.createElement(oe,{location:s.location,revalidation:s.revalidation,component:u,error:r,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function xe(e){let t=n.useContext(Y);return t||m(!1),t}function he(e){let t=n.useContext($);return t||m(!1),t}function pe(e){let t=function(){let e=n.useContext(Q);return e||m(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||m(!1),s.route.id}const ge={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function be(e){m(!1)}function je(e){let{basename:t="/",children:s=null,location:l,navigationType:r=a.Pop,navigator:i,static:o=!1,future:c}=e;Z()&&m(!1);let d=t.replace(/^\/*/,"/"),u=n.useMemo(()=>({basename:d,navigator:i,static:o,future:q({v7_relativeSplatPath:!1},c)}),[d,c,i,o]);"string"===typeof l&&(l=g(l));let{pathname:x="/",search:h="",hash:p="",state:f=null,key:b="default"}=l,j=n.useMemo(()=>{let e=T(x,d);return null==e?null:{location:{pathname:e,search:h,hash:p,state:f,key:b},navigationType:r}},[d,x,h,p,f,b,r]);return null==j?null:n.createElement(J.Provider,{value:u},n.createElement(K.Provider,{children:s,value:j}))}function ve(e){let{children:t,location:s}=e;return le(ye(t),s)}new Promise(()=>{});n.Component;function ye(e,t){void 0===t&&(t=[]);let s=[];return n.Children.forEach(e,(e,a)=>{if(!n.isValidElement(e))return;let l=[...t,a];if(e.type===n.Fragment)return void s.push.apply(s,ye(e.props.children,l));e.type!==be&&m(!1),e.props.index&&e.props.children&&m(!1);let r={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=ye(e.props.children,l)),s.push(r)}),s}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Ne.apply(this,arguments)}function we(e,t){if(null==e)return{};var s,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)s=l[a],t.indexOf(s)>=0||(n[s]=e[s]);return n}function ke(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let a=e[s];return t.concat(Array.isArray(a)?a.map(e=>[s,e]):[[s,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(cm){}new Map;const Ce=l.startTransition;o.flushSync,l.useId;function Se(e){let{basename:t,children:s,future:a,window:l}=e,r=n.useRef();var i;null==r.current&&(r.current=(void 0===(i={window:l,v5Compat:!0})&&(i={}),f(function(e,t){let{pathname:s,search:a,hash:n}=e.location;return h("",{pathname:s,search:a,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,i)));let o=r.current,[c,d]=n.useState({action:o.action,location:o.location}),{v7_startTransition:m}=a||{},u=n.useCallback(e=>{m&&Ce?Ce(()=>d(e)):d(e)},[d,m]);return n.useLayoutEffect(()=>o.listen(u),[o,u]),n.useEffect(()=>fe(a),[a]),n.createElement(je,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:a})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=n.forwardRef(function(e,t){let s,{onClick:a,relative:l,reloadDocument:r,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:x}=e,h=we(e,_e),{basename:g}=n.useContext(J),f=!1;if("string"===typeof d&&Ee.test(d)&&(s=d,Ae))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),s=T(t.pathname,g);t.origin===e.origin&&null!=s?d=s+t.search+t.hash:f=!0}catch(cm){}let b=function(e,t){let{relative:s}=void 0===t?{}:t;Z()||m(!1);let{basename:a,navigator:l}=n.useContext(J),{hash:r,pathname:i,search:o}=ne(e,{relative:s}),c=i;return"/"!==a&&(c="/"===i?a:z([a,i])),l.createHref({pathname:c,search:o,hash:r})}(d,{relative:l}),j=function(e,t){let{target:s,replace:a,state:l,preventScrollReset:r,relative:i,viewTransition:o}=void 0===t?{}:t,c=se(),d=ee(),m=ne(e,{relative:i});return n.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==a?a:p(d)===p(m);c(e,{replace:s,state:l,preventScrollReset:r,relative:i,viewTransition:o})}},[d,c,m,a,l,s,e,r,i,o])}(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:l,viewTransition:x});return n.createElement("a",Ne({},h,{href:s||b,onClick:f||r?a:function(e){a&&a(e),e.defaultPrevented||j(e)},ref:t,target:c}))});var Ie,Pe;function Le(e){let t=n.useRef(ke(e)),s=n.useRef(!1),a=ee(),l=n.useMemo(()=>function(e,t){let s=ke(e);return t&&t.forEach((e,a)=>{s.has(a)||t.getAll(a).forEach(e=>{s.append(a,e)})}),s}(a.search,s.current?null:t.current),[a.search]),r=se(),i=n.useCallback((e,t)=>{const a=ke("function"===typeof e?e(l):e);s.current=!0,r("?"+a,t)},[r,l]);return[l,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Te=s(579);const Re=(0,n.createContext)(),De=e=>{let{children:t}=e;const[s,a]=(0,n.useState)(()=>{const e=localStorage.getItem("theme");return!e||"light"!==e&&"dark"!==e?window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}),l=(0,n.useCallback)(e=>{document.documentElement.classList.remove("light","dark"),document.body.classList.remove("light","dark"),document.documentElement.classList.add(e),document.body.classList.add(e),document.documentElement.setAttribute("data-theme",e);let t=document.querySelector('meta[name="theme-color"]');t||(t=document.createElement("meta"),t.name="theme-color",document.head.appendChild(t)),t.setAttribute("content","dark"===e?"#1e293b":"#ffffff"),document.documentElement.offsetHeight},[]);(0,n.useEffect)(()=>{localStorage.setItem("theme",s),l(s),window.dispatchEvent(new CustomEvent("themeChanged",{detail:{theme:s,isDark:"dark"===s}}))},[s,l]);const r=(0,n.useCallback)(()=>{a(e=>"light"===e?"dark":"light")},[]),i={theme:s,toggleTheme:r,isDark:"dark"===s,isLight:"light"===s};return(0,Te.jsx)(Re.Provider,{value:i,children:t})};function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Fe(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=Oe(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}function ze(e,t,s){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Be(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function Ue(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(s),!0).forEach(function(t){ze(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Be(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function He(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)s=l[a],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var Ve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const We=["color","size","strokeWidth","absoluteStrokeWidth","children"];var Ge=(e,t)=>{const s=(0,n.forwardRef)((s,a)=>{let{color:l="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:c}=s,d=He(s,We);return(0,n.createElement)("svg",Ue(Ue({ref:a},Ve),{},{width:r,height:r,stroke:l,strokeWidth:o?24*Number(i)/Number(r):i,className:"lucide lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},d),[...t.map(e=>{let[t,s]=e;return(0,n.createElement)(t,s)}),...(Array.isArray(c)?c:[c])||[]]);var m});return s.displayName="".concat(e),s};const qe=Ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Ye=Ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$e=Ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Je=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ke=Ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Qe=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Xe=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ze=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),et=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),tt=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),st=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),at=Ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),nt=Ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),lt=e=>{let{className:t=""}=e;const{theme:s,toggleTheme:a,isDark:l}=(()=>{const e=(0,n.useContext)(Re);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return(0,Te.jsx)("button",{onClick:()=>{console.log("Theme toggle clicked, current theme:",s),a()},className:"\n        relative inline-flex items-center justify-center w-10 h-10 rounded-lg\n        transition-all duration-200 ease-in-out\n        ".concat(l?"bg-slate-800 hover:bg-slate-700 text-yellow-400":"bg-slate-100 hover:bg-slate-200 text-slate-600","\n        hover:scale-105 active:scale-95\n        focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n        ").concat(t,"\n      "),title:"Switch to ".concat(l?"light":"dark"," theme"),"aria-label":"Switch to ".concat(l?"light":"dark"," theme"),children:(0,Te.jsxs)("div",{className:"relative w-5 h-5",children:[(0,Te.jsx)(at,{className:"\n            absolute inset-0 w-5 h-5 transition-all duration-300 ease-in-out\n            ".concat(l?"opacity-0 rotate-90 scale-75":"opacity-100 rotate-0 scale-100","\n          ")}),(0,Te.jsx)(nt,{className:"\n            absolute inset-0 w-5 h-5 transition-all duration-300 ease-in-out\n            ".concat(l?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-75","\n          ")})]})})},rt=()=>{const[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[m,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(""),[p,g]=(0,n.useState)(""),[f,b]=(0,n.useState)([]),[j,v]=(0,n.useState)(0),y=ee(),N=se();(0,n.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("isAuthenticated"),t=localStorage.getItem("isAdmin"),s=localStorage.getItem("userEmail"),a=localStorage.getItem("userName"),n=localStorage.getItem("authProvider"),l=JSON.parse(localStorage.getItem("userData")||"{}");o("true"===e),d("true"===t),u(s||""),h(a||""),g(l.profile_picture||""),n&&console.log("User authenticated via:",n)};e();const t=()=>{e()},s=()=>{const e=JSON.parse(localStorage.getItem("userData")||"{}");g(e.profile_picture||"")};return window.addEventListener("authStateChanged",t),window.addEventListener("profileUpdated",s),window.addEventListener("storage",t),()=>{window.removeEventListener("authStateChanged",t),window.removeEventListener("profileUpdated",s),window.removeEventListener("storage",t)}},[]);const w=async()=>{if(i)try{const e=localStorage.getItem("accessToken");if(!e)return;const t=await fetch("http://localhost:8000/api/notifications/stats",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();v(e.unread||0)}}catch(e){console.error("Error loading notification stats:",e)}},k=async()=>{if(i)try{const t=localStorage.getItem("accessToken");if(!t)return;const s=await fetch("http://localhost:8000/api/notifications/?limit=10",{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(s.ok){var e;const t=await s.json();b(t.notifications||[]),v((null===(e=t.notifications)||void 0===e?void 0:e.filter(e=>"unread"===e.status).length)||0)}}catch(t){console.error("Error loading notifications:",t)}};(0,n.useEffect)(()=>{i?(w(),k()):(b([]),v(0))},[i]),(0,n.useEffect)(()=>{if(!i)return;const e=setInterval(()=>{w()},3e4);return()=>clearInterval(e)},[i]),(0,n.useEffect)(()=>{const e=e=>{s&&!e.target.closest(".user-menu")&&a(!1),l&&!e.target.closest(".notifications-menu")&&r(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[s,l]);const _=()=>{if(x)return x.split(" ").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2);if(m){return m.split("@")[0].split(".").map(e=>e.charAt(0)).join("").toUpperCase().slice(0,2)}return"U"},C=async()=>{try{const e=localStorage.getItem("accessToken");if(!e)return;const t=JSON.parse(localStorage.getItem("userData")||"{}").id;if(!t)return;(await fetch("http://localhost:8000/api/notifications/mark-all-read?user_id=".concat(t),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})).ok&&(b(e=>e.map(e=>Ue(Ue({},e),{},{status:"read"}))),v(0),setTimeout(()=>{w(),k()},500))}catch(e){console.error("Error marking all notifications as read:",e)}},S=e=>{if(!e)return"Unknown time";const t=new Date,s=new Date(e),a=Math.floor((t-s)/6e4);if(a<1)return"Just now";if(a<60)return"".concat(a," minute").concat(a>1?"s":""," ago");const n=Math.floor(a/60);if(n<24)return"".concat(n," hour").concat(n>1?"s":""," ago");const l=Math.floor(n/24);return l<7?"".concat(l," day").concat(l>1?"s":""," ago"):s.toLocaleDateString()},A=[{name:"Home",href:"/"},{name:"About",href:"/about"},{name:"Services",href:"/services"},{name:"Contact",href:"/contact"},{name:"People",href:"/people"},{name:"Banks",href:"/banks"},{name:"Insurance",href:"/insurance"},{name:"Companies",href:"/companies"},{name:"Courts",href:"/justice-locator"},{name:"Subscribe",href:"/subscribe"},...c?[{name:"Admin",href:"/admin"}]:[]],E=e=>y.pathname===e;return(0,Te.jsxs)("header",{className:"sticky top-0 z-50 w-full bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm border-b border-slate-200 dark:border-slate-700 shadow-sm",children:[(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"flex h-20 items-center justify-between",children:[(0,Te.jsxs)(Me,{to:"/",className:"flex items-center gap-3 group",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("div",{className:"h-8 w-8 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:(0,Te.jsx)("span",{className:"text-white font-bold text-sm",children:"D"})}),(0,Te.jsx)("div",{className:"absolute -top-1 -right-1 h-3 w-3 bg-green-500 rounded-full border-2 border-white dark:border-slate-900"})]}),(0,Te.jsxs)("div",{className:"flex flex-col",children:[(0,Te.jsx)("span",{className:"font-bold text-slate-900 dark:text-white text-lg leading-none",children:"Dennislaw"}),(0,Te.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium",children:"SVD"})]})]}),(0,Te.jsx)("nav",{className:"hidden lg:flex items-center space-x-2 flex-1 justify-center max-w-4xl",children:A.map(e=>(0,Te.jsx)(Me,{to:e.href,className:"px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap ".concat(E(e.href)?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-800"),children:e.name},e.name))}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("button",{className:"p-2 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:(0,Te.jsx)(Je,{className:"h-5 w-5"})}),(0,Te.jsx)(lt,{}),i?(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsxs)("div",{className:"relative notifications-menu",children:[(0,Te.jsxs)("button",{onClick:()=>r(!l),className:"relative p-2 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:[(0,Te.jsx)(Ke,{className:"h-5 w-5"}),j>0&&(0,Te.jsx)("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:j>9?"9+":j})]}),l&&(0,Te.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 z-50",children:[(0,Te.jsxs)("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[(0,Te.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Notifications"}),j>0&&(0,Te.jsx)("button",{onClick:C,className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",children:"Mark all as read"})]}),(0,Te.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===f.length?(0,Te.jsxs)("div",{className:"px-4 py-8 text-center text-slate-500 dark:text-slate-400",children:[(0,Te.jsx)(Ke,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),(0,Te.jsx)("p",{children:"No notifications"})]}):f.map(e=>{const t=(e=>{switch(e){case"SUBSCRIPTION":return qe;case"PAYMENT":case"SECURITY":return Ye;default:return $e}})(e.type),s=(e=>{switch(e){case"SUBSCRIPTION":return"text-green-600 dark:text-green-400";case"PAYMENT":return"text-yellow-600 dark:text-yellow-400";case"SYSTEM":default:return"text-blue-600 dark:text-blue-400";case"CASE_UPDATE":return"text-purple-600 dark:text-purple-400";case"SECURITY":return"text-red-600 dark:text-red-400";case"SEARCH":return"text-indigo-600 dark:text-indigo-400";case"GENERAL":return"text-gray-600 dark:text-gray-400"}})(e.type);return(0,Te.jsx)("div",{onClick:()=>(async e=>{try{const t=localStorage.getItem("accessToken");if(!t)return;(await fetch("http://localhost:8000/api/notifications/".concat(e,"/read"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})).ok&&(b(t=>t.map(t=>t.id===e?Ue(Ue({},t),{},{status:"read"}):t)),v(e=>Math.max(0,e-1)),setTimeout(()=>{w(),k()},500))}catch(t){console.error("Error marking notification as read:",t)}})(e.id),className:"px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700 cursor-pointer transition-colors border-b border-slate-100 dark:border-slate-700 last:border-b-0 ".concat("unread"===e.status?"bg-blue-50/50 dark:bg-blue-900/20":""),children:(0,Te.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0 ".concat(s),children:(0,Te.jsx)(t,{className:"h-5 w-5"})}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("p",{className:"text-sm font-medium ".concat("unread"===e.status?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300"),children:e.title}),"unread"===e.status&&(0,Te.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1 line-clamp-2",children:e.message}),(0,Te.jsxs)("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1 flex items-center gap-1",children:[(0,Te.jsx)(Qe,{className:"h-3 w-3"}),S(e.created_at)]})]})]})},e.id)})}),f.length>0&&(0,Te.jsx)("div",{className:"px-4 py-3 border-t border-slate-200 dark:border-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("button",{onClick:C,className:"text-sm text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 font-medium",children:"Mark all as read"}),(0,Te.jsx)(Me,{to:"/notifications",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium",onClick:()=>r(!1),children:"View all notifications"})]})})]})]}),(0,Te.jsxs)("div",{className:"relative user-menu",children:[(0,Te.jsxs)("button",{onClick:()=>a(!s),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[p?(0,Te.jsx)("img",{src:p.startsWith("http")?p:"http://localhost:8000".concat(p),alt:x||"User",className:"w-8 h-8 rounded-full object-cover border-2 border-slate-200 dark:border-slate-600 shadow-lg",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Te.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-sm font-semibold shadow-lg ".concat(p?"hidden":"flex"),children:_()}),(0,Te.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:x||m.split("@")[0]}),(0,Te.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:m})]}),(0,Te.jsx)(Xe,{className:"h-4 w-4 text-slate-500 dark:text-slate-400 transition-transform ".concat(s?"rotate-180":"")})]}),s&&(0,Te.jsxs)("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 py-2 z-50",children:[(0,Te.jsx)("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold",children:_()}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium text-slate-900 dark:text-white",children:x||"User"}),(0,Te.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:m})]})]})}),(0,Te.jsxs)("div",{className:"py-2",children:[(0,Te.jsxs)(Me,{to:"/settings",className:"flex items-center gap-3 px-4 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",onClick:()=>a(!1),children:[(0,Te.jsx)(Ze,{className:"h-4 w-4"}),"Settings"]}),(0,Te.jsx)("div",{className:"border-t border-slate-200 dark:border-slate-700 my-2"}),(0,Te.jsxs)("button",{onClick:()=>{var e,t;localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userPicture"),localStorage.removeItem("authProvider"),localStorage.removeItem("accessToken"),localStorage.removeItem("userData"),null!==(e=window.google)&&void 0!==e&&null!==(t=e.accounts)&&void 0!==t&&t.id&&window.google.accounts.id.disableAutoSelect(),window.dispatchEvent(new CustomEvent("authStateChanged")),o(!1),u(""),h(""),g(""),a(!1),N("/")},className:"flex items-center gap-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors w-full text-left",children:[(0,Te.jsx)(et,{className:"h-4 w-4"}),"Sign Out"]})]})]})]})]}):(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(Me,{to:"/login",className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors whitespace-nowrap",children:"Login"}),(0,Te.jsx)(Me,{to:"/signup",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors shadow-sm hover:shadow-md whitespace-nowrap",children:"Get Started"})]}),(0,Te.jsx)("button",{className:"lg:hidden p-2 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",onClick:()=>t(!e),children:e?(0,Te.jsx)(tt,{className:"h-6 w-6"}):(0,Te.jsx)(st,{className:"h-6 w-6"})})]})]})}),e&&(0,Te.jsx)("div",{className:"lg:hidden border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",children:(0,Te.jsxs)("div",{className:"px-4 py-4 space-y-1",children:[A.map(e=>(0,Te.jsx)(Me,{to:e.href,className:"block px-4 py-3 rounded-lg text-base font-medium transition-colors ".concat(E(e.href)?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-800"),onClick:()=>t(!1),children:e.name},e.name)),!i&&(0,Te.jsxs)("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4 space-y-2",children:[(0,Te.jsx)(Me,{to:"/login",className:"block px-4 py-3 text-base font-medium text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-800 rounded-lg transition-colors whitespace-nowrap",onClick:()=>t(!1),children:"Login"}),(0,Te.jsx)(Me,{to:"/signup",className:"block px-4 py-3 text-base font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-center whitespace-nowrap",onClick:()=>t(!1),children:"Get Started"})]})]})})]})},it=()=>(0,Te.jsx)("footer",{className:"bg-slate-900 dark:bg-slate-800 text-white transition-colors duration-200",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Te.jsx)("span",{className:"h-2.5 w-2.5 rounded-full bg-sky-400 ring-4 ring-white/10"}),(0,Te.jsx)("span",{className:"font-semibold",children:"Dennislaw SVD"})]}),(0,Te.jsx)("p",{className:"text-slate-300 text-sm",children:"Your trusted partner for comprehensive people search and case history discovery."})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-semibold mb-4",children:"Quick Links"}),(0,Te.jsxs)("ul",{className:"space-y-2 text-sm text-slate-300",children:[(0,Te.jsx)("li",{children:(0,Te.jsx)(Me,{to:"/",className:"hover:text-white",children:"Home"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)(Me,{to:"/people",className:"hover:text-white",children:"People"})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-semibold mb-4",children:"Support"}),(0,Te.jsxs)("ul",{className:"space-y-2 text-sm text-slate-300",children:[(0,Te.jsx)("li",{children:(0,Te.jsx)("a",{href:"#",className:"hover:text-white",children:"Help Center"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)(Me,{to:"/contact",className:"hover:text-white",children:"Contact Support"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)("a",{href:"#",className:"hover:text-white",children:"Training Resources"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)("a",{href:"#",className:"hover:text-white",children:"FAQ"})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-semibold mb-4",children:"Connect"}),(0,Te.jsxs)("ul",{className:"space-y-2 text-sm text-slate-300",children:[(0,Te.jsx)("li",{children:(0,Te.jsx)("a",{href:"#",className:"hover:text-white",children:"Twitter"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)("a",{href:"#",className:"hover:text-white",children:"LinkedIn"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)("a",{href:"#",className:"hover:text-white",children:"Facebook"})}),(0,Te.jsx)("li",{children:(0,Te.jsx)(Me,{to:"/contact",className:"hover:text-white",children:"Email"})})]})]})]}),(0,Te.jsx)("div",{className:"mt-8 pt-8 border-t border-slate-700 text-center text-sm text-slate-400",children:(0,Te.jsx)("p",{children:"\xa9 2025 Dennislaw SVD. All rights reserved. | Privacy Policy | Terms of Service"})})]})}),ot=Ge("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),ct=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),dt=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),mt=()=>{const[e,t]=(0,n.useState)(""),[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),m=(0,n.useRef)(null),u=se();(0,n.useEffect)(()=>{const e="true"===localStorage.getItem("isAuthenticated"),t=localStorage.getItem("accessToken");d(e&&!!t)},[]);(0,n.useEffect)(()=>{const t=setTimeout(()=>{e.trim()?(async e=>{if(console.log("loadSuggestions called with query:",e),e.length<2)return console.log("Query too short, clearing suggestions"),void r([]);console.log("Starting to load suggestions..."),o(!0);try{const t=localStorage.getItem("accessToken")||"test-token-123";console.log("Using token:",t);const s="http://localhost:8000/api/people/search?query=".concat(encodeURIComponent(e),"&limit=8");console.log("Making request to:",s);const a=await fetch(s,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});console.log("Response status:",a.status),console.log("Response ok:",a.ok);let n=[];if(a.ok){const e=await a.json();console.log("People data received:",e),n=[...(e.people||[]).map(e=>({name:e.full_name,text:e.full_name,type:"person",category:"Person",id:e.id,city:e.city,occupation:e.occupation}))],console.log("Mapped suggestions:",n)}else console.error("API response not ok:",a.status,a.statusText);r(n)}catch(t){console.error("Error loading suggestions:",t),r([])}finally{o(!1)}})(e):r([])},300);return()=>clearTimeout(t)},[e]);(0,n.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const x=[{icon:(0,Te.jsx)(Je,{className:"h-6 w-6 text-sky-600"}),title:"People Name Search",description:"Search people by name with detailed profiles and comprehensive information from our legal database."},{icon:(0,Te.jsx)(ot,{className:"h-6 w-6 text-sky-600"}),title:"Legal History",description:"Get instant access to legal history and case information for any person in our database."},{icon:(0,Te.jsx)(Qe,{className:"h-6 w-6 text-sky-600"}),title:"Real-time Updates",description:"Our database is updated daily with the latest information on people and their legal records."},{icon:(0,Te.jsx)(ot,{className:"h-6 w-6 text-sky-600"}),title:"Secure & Private",description:"Your searches are secure and private. We use industry-standard encryption to protect your data."},{icon:(0,Te.jsx)(ct,{className:"h-6 w-6 text-sky-600"}),title:"Easy to Use",description:"Intuitive interface designed for both legal professionals and general users."},{icon:(0,Te.jsx)(dt,{className:"h-6 w-6 text-sky-600"}),title:"24/7 Access",description:"Access our database anytime, anywhere with our reliable and fast platform."}];return(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-900 transition-colors duration-200",children:[(0,Te.jsx)("section",{className:"bg-white dark:bg-slate-900",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-slate-900 dark:text-white mb-6",children:"Search People Names"}),(0,Te.jsx)("p",{className:"text-xl text-slate-600 dark:text-slate-300 mb-8 max-w-3xl mx-auto",children:"Search our comprehensive database of people by name. Get instant access to detailed profiles, legal history, and case information."}),!c&&(0,Te.jsx)("div",{className:"mb-6 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 max-w-2xl mx-auto",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Te.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Authentication Required"}),(0,Te.jsx)("div",{className:"mt-2 text-sm text-amber-700 dark:text-amber-300",children:(0,Te.jsxs)("p",{children:["Please ",(0,Te.jsx)("a",{href:"/login",className:"font-medium underline text-amber-800 dark:text-amber-200 hover:text-amber-900 dark:hover:text-amber-100",children:"login"})," to use the search functionality."]})})]})]})}),(0,Te.jsx)("div",{className:"max-w-2xl mx-auto mb-12",children:(0,Te.jsx)("div",{className:"relative",ref:m,children:(0,Te.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),e.trim()){if(a(!1),!c)return void u("/login");u("/people-results?search=".concat(encodeURIComponent(e)))}},className:"flex gap-2",children:[(0,Te.jsxs)("div",{className:"flex-1 relative",children:[(0,Te.jsx)("input",{type:"text",placeholder:c?"Search for people by name...":"Please login to search...",value:e,onChange:e=>{const s=e.target.value;t(s),a(s.length>0)},onFocus:()=>e.length>0&&a(!0),disabled:!c,className:"w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-900 dark:text-white px-4 py-3 text-sm focus:border-sky-500 focus:ring-1 focus:ring-sky-500 ".concat(c?"":"bg-slate-100 dark:bg-slate-700 cursor-not-allowed")}),s&&(0,Te.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-600 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto",children:i?(0,Te.jsx)("div",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-center",children:"Loading suggestions..."}):l.length>0?l.map((e,s)=>(0,Te.jsx)("button",{type:"button",onClick:()=>(e=>{t(e.text||e.name||e),a(!1),u("/people-results?search=".concat(encodeURIComponent(e.name)))})(e),className:"w-full text-left px-4 py-3 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 border-b border-slate-100 dark:border-slate-600 last:border-b-0 transition-colors",children:(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)(ct,{className:"h-4 w-4 text-blue-500"}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("div",{className:"font-medium",children:e.text||e.name}),e.category&&(0,Te.jsx)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.category}),e.city&&(0,Te.jsxs)("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[e.city," \u2022 ",e.occupation]})]})]})},s)):e.length>1?(0,Te.jsx)("div",{className:"px-4 py-3 text-sm text-slate-500 dark:text-slate-400 text-center",children:"No suggestions found"}):null})]}),(0,Te.jsx)("button",{type:"submit",className:"rounded-lg bg-sky-600 px-6 py-3 text-sm font-medium text-white hover:bg-sky-700 transition-colors",children:"Search"})]})})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3 max-w-2xl mx-auto",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"464"}),(0,Te.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Courts Connected"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"16"}),(0,Te.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Regions Covered"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Daily"}),(0,Te.jsx)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Updated"})]})]})]})})}),(0,Te.jsx)("section",{className:"bg-slate-50 dark:bg-slate-800",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:[(0,Te.jsxs)("div",{className:"text-center mb-12",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Why Choose Dennislaw SVD?"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600 dark:text-slate-300",children:"Advanced features designed for legal professionals and researchers"})]}),(0,Te.jsx)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3",children:x.map((e,t)=>(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-700 rounded-xl p-6 shadow-sm border border-slate-200 dark:border-slate-600 transition-colors duration-200",children:[(0,Te.jsx)("div",{className:"h-12 w-12 rounded-lg bg-sky-100 dark:bg-sky-900/30 flex items-center justify-center mb-4",children:e.icon}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:e.title}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:e.description})]},t))})]})}),(0,Te.jsx)("section",{className:"bg-sky-600",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-16",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Get Started?"}),(0,Te.jsx)("p",{className:"text-xl text-sky-100 mb-8",children:"Join thousands of legal professionals who trust Dennislaw SVD for their research needs."}),(0,Te.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,Te.jsx)("button",{onClick:()=>u("/results"),className:"inline-flex items-center gap-2 rounded-lg bg-white px-6 py-3 text-sm font-medium text-sky-600 hover:bg-slate-50 transition-colors",children:"Start Searching"}),(0,Te.jsx)("button",{onClick:()=>u("/about"),className:"inline-flex items-center gap-2 rounded-lg border border-white px-6 py-3 text-sm font-medium text-white hover:bg-white/10 transition-colors",children:"Learn More"})]})]})})})]})},ut=Ge("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),xt=Ge("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ht=Ge("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),pt=Ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),gt=Ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ft=Ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),bt=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),jt=()=>(0,Te.jsxs)("div",{children:[(0,Te.jsx)("section",{className:"bg-slate-900 text-white py-20",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center",children:[(0,Te.jsx)("h1",{className:"text-5xl md:text-6xl font-extrabold tracking-tight mb-6",children:"Your Trusted Partner for Court Searches, Verification of Document & Document Request"}),(0,Te.jsx)("p",{className:"text-2xl text-slate-300 max-w-4xl mx-auto mb-8",children:"COURT DUE DILIGENCE SIMPLIFIED!"}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Te.jsx)("button",{className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-6 py-3 text-lg font-medium text-white hover:bg-sky-700 transition-colors",children:"Request For Service"}),(0,Te.jsx)("button",{className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-6 py-3 text-lg font-medium text-white hover:bg-slate-800 transition-colors",children:"View Pricing"})]})]})}),(0,Te.jsx)("section",{className:"py-16 bg-slate-50",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-12",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Our Services"}),(0,Te.jsx)("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"We offer a Subscription-Based and On-Demand Due Diligence Search at the Ghanaian courts, Document Verification, and Document Request services to enable corporations and individuals access, verify, and request for documents and cases efficiently in Ghana."})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(Je,{className:"h-8 w-8 text-sky-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Court Search"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Comprehensive search across Ghanaian courts for case information and legal records."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(ut,{className:"h-8 w-8 text-sky-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Verify of Court Documents"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Authenticate and verify the validity of court documents and legal papers."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(xt,{className:"h-8 w-8 text-sky-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Request for Court Documents"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Request and obtain official court documents and legal records efficiently."})]})]})]})}),(0,Te.jsx)("section",{className:"py-16",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Te.jsx)("div",{className:"text-center mb-12",children:(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Why Choose DL SVD"})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(Qe,{className:"h-8 w-8 text-emerald-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Efficiency"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"We simplify the process of searching, verifying, and retrieving court documents, saving you time."})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(ot,{className:"h-8 w-8 text-emerald-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Accuracy"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Our direct access to court records ensures reliable and verified information."})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(ht,{className:"h-8 w-8 text-emerald-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Convenience"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Request services via WhatsApp, email, phone call, or SMS."})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(ot,{className:"h-8 w-8 text-emerald-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Secure Digital Access"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Easily track and receive documents via our secured online portal."})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(pt,{className:"h-8 w-8 text-emerald-600"})}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Flexible Payment Options"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Choose between subscription plans, pay-as-you-go, and expedited processing."})]})]})]})}),(0,Te.jsx)("section",{className:"py-16 bg-slate-50",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Te.jsx)("div",{className:"text-center mb-12",children:(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"How It Works"})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"1"}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Make a Request"}),(0,Te.jsxs)("ul",{className:"text-slate-600 text-sm space-y-1",children:[(0,Te.jsx)("li",{children:"\u2022 Contact us via WhatsApp, phone call, email, or SMS."}),(0,Te.jsx)("li",{children:"\u2022 Provide details of your search, document request, or verification need."})]})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"2"}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Evaluation & Invoice Generation"}),(0,Te.jsx)("p",{className:"text-slate-600 text-sm",children:"Our team will assess your request and provide an invoice for payment."})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"3"}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Payment & Processing"}),(0,Te.jsx)("p",{className:"text-slate-600 text-sm",children:"Complete payment and our team processes your request efficiently."})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:"4"}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Receive Your Results"}),(0,Te.jsx)("p",{className:"text-slate-600 text-sm",children:"Get your verified court documents or search results via email, WhatsApp, or our online platform."})]})]})]})}),(0,Te.jsx)("section",{className:"py-16",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-12",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Who Can Benefit?"}),(0,Te.jsx)("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto",children:"We offer a Subscription-Based and On-Demand Search, Document, and Verification (SVD) service to help businesses, individuals, law firms, litigators, banks and corporations to access, verify, and request court-related documents efficiently."})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 text-center",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Banks & Financial Institutions"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Due diligence and background verification for loans and financial services."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 text-center",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Law Firms & Legal Department"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Access to comprehensive legal research and case information."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 text-center",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Insurance Companies"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Risk assessment and claims verification through court records."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 text-center",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-3",children:"Researchers & Academics"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Access to legal data for research and academic purposes."})]})]})]})}),(0,Te.jsx)("section",{className:"py-16 bg-slate-50",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Te.jsx)("div",{className:"text-center mb-12",children:(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Our Commitment to Excellence"})}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Direct Court Access & Legal Expertise"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"We work closely with the court registrars and the judicial service of Ghana, ensuring legitimate and certified access to court-related information."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Fast Turnaround & Priority Processing"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"We understand urgency in legal matters\u2014which is why we prioritize timely delivery and provide same-day service for urgent requests."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Technology-Driven Efficiency"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Our digital-first approach ensures seamless, lightning-fast processes, allowing companies to request, access, and manage court documents efficiently."})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Data Security & Confidentiality"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"All requests and documents are securely processed to guarantee confidentiality and data protection laws."})]})]})]})}),(0,Te.jsx)("section",{className:"py-16 bg-slate-900 text-white",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-12",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Contact Us"}),(0,Te.jsx)("p",{className:"text-slate-300 max-w-2xl mx-auto",children:"Dennislaw SVD Services - Your trusted partner for comprehensive court search, document verification, and document request across Ghana."})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(gt,{className:"h-8 w-8 text-white"})}),(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Address"}),(0,Te.jsxs)("p",{className:"text-slate-300",children:["No. 15 Netflix Street,",(0,Te.jsx)("br",{}),"Madina Estate, Off-UPSA Road"]})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(ft,{className:"h-8 w-8 text-white"})}),(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Phone"}),(0,Te.jsx)("p",{className:"text-slate-300",children:"+233 596 252 127"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-sky-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Te.jsx)(bt,{className:"h-8 w-8 text-white"})}),(0,Te.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Email"}),(0,Te.jsx)("p",{className:"text-slate-300",children:"dlservices@dennislawgh.com"})]})]}),(0,Te.jsx)("div",{className:"text-center mt-8",children:(0,Te.jsx)("p",{className:"text-slate-300",children:"Mon - Fri: 9:00 AM - 5:00 PM"})})]})})]}),vt=Ge("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),yt=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Nt=()=>{const[e,t]=(0,n.useState)({firstName:"",lastName:"",email:"",phone:"",organization:"",message:""}),s=e=>{const{name:s,value:a}=e.target;t(e=>Ue(Ue({},e),{},{[s]:a}))};return(0,Te.jsxs)("div",{children:[(0,Te.jsx)("section",{className:"bg-slate-900 text-white py-20",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center",children:[(0,Te.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold tracking-tight mb-6",children:"Ready to Streamline Your Legal Document Process More Effectively?"}),(0,Te.jsx)("p",{className:"text-xl text-slate-300 max-w-4xl mx-auto mb-8",children:"Access Ghana's court system with ease. Our comprehensive document search, verification, and request services helps law firms, litigators, banks, businesses as well as individuals and corporations navigate legal documentation efficiently."}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-8 justify-center items-center mt-12",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-600 rounded-full flex items-center justify-center",children:(0,Te.jsx)(vt,{className:"h-6 w-6 text-white"})}),(0,Te.jsx)("span",{className:"text-lg font-semibold",children:"Fast & Reliable Service"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-600 rounded-full flex items-center justify-center",children:(0,Te.jsx)(ot,{className:"h-6 w-6 text-white"})}),(0,Te.jsx)("span",{className:"text-lg font-semibold",children:"Secure & Confidential"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-600 rounded-full flex items-center justify-center",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-white"})}),(0,Te.jsx)("span",{className:"text-lg font-semibold",children:"Professional legal team ready to help"})]})]})]})}),(0,Te.jsx)("section",{className:"py-16 bg-slate-50",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Expert Legal Document Team"}),(0,Te.jsx)("p",{className:"text-lg text-slate-600 max-w-3xl mx-auto mb-8",children:"Our dedicated professionals provide reliable court document services across Ghana"})]})}),(0,Te.jsx)("section",{className:"py-16",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-12",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Get in Touch"}),(0,Te.jsx)("p",{className:"text-lg text-slate-600",children:"Contact us for court document services, consultations, or inquiries"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-8 shadow-sm",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Send us a Message"}),(0,Te.jsxs)("form",{onSubmit:s=>{s.preventDefault(),console.log("Form submitted:",e),alert("Message sent successfully!"),t({firstName:"",lastName:"",email:"",phone:"",organization:"",message:""})},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"First Name"}),(0,Te.jsx)("input",{type:"text",name:"firstName",value:e.firstName,onChange:s,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-100",placeholder:"Enter your first name",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Last Name"}),(0,Te.jsx)("input",{type:"text",name:"lastName",value:e.lastName,onChange:s,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-100",placeholder:"Enter your last name",required:!0})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Email Address"}),(0,Te.jsx)("input",{type:"email",name:"email",value:e.email,onChange:s,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-100",placeholder:"john.doe@company.com",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Phone Number"}),(0,Te.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:s,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-100",placeholder:"+233 XXX XXX XXX",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Organization/Company"}),(0,Te.jsx)("input",{type:"text",name:"organization",value:e.organization,onChange:s,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-100",placeholder:"Your Company",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Tell us about your needs"}),(0,Te.jsx)("textarea",{name:"message",value:e.message,onChange:s,rows:"4",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 outline-none focus:border-sky-400 focus:ring-2 focus:ring-sky-100",placeholder:"Describe the type of court document service you need (search, verification, or request)...",required:!0})]}),(0,Te.jsxs)("button",{type:"submit",className:"w-full inline-flex items-center justify-center gap-2 rounded-lg bg-sky-600 px-4 py-2.5 font-semibold text-white hover:bg-sky-700 transition",children:[(0,Te.jsx)(yt,{className:"h-5 w-5"}),"Send Message"]})]})]}),(0,Te.jsxs)("div",{className:"space-y-8",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Get in Touch with DL SVD"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-6",children:"We are strategically positioned to serve clients across the country. Reach out for consultations, urgent requests, or to learn more about our court document services."}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Te.jsx)(ft,{className:"h-6 w-6 text-sky-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:"Phone & WhatsApp"}),(0,Te.jsx)("p",{className:"text-slate-600 text-sm mb-2",children:"Available 24/7 for urgent requests"}),(0,Te.jsx)("p",{className:"text-slate-900 font-medium",children:"+233 596 252 127"})]})]}),(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Te.jsx)(bt,{className:"h-6 w-6 text-sky-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:"Email"}),(0,Te.jsx)("p",{className:"text-slate-600 text-sm mb-2",children:"For detailed inquiries and follow-ups"}),(0,Te.jsx)("p",{className:"text-slate-900 font-medium",children:"dlservices@dennislawgh.com"})]})]}),(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Te.jsx)(ht,{className:"h-6 w-6 text-sky-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:"Instant Support"}),(0,Te.jsx)("p",{className:"text-slate-600 text-sm mb-2",children:"Instant support during business hours"}),(0,Te.jsx)("p",{className:"text-slate-900 font-medium",children:"Available on website"})]})]}),(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Te.jsx)(gt,{className:"h-6 w-6 text-sky-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:"Dennislaw SVD Services Headquarters"}),(0,Te.jsxs)("p",{className:"text-slate-900 font-medium",children:["No. 15 Netflix Street,",(0,Te.jsx)("br",{}),"Madina Estate, Off-UPSA Road"]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Business Hours"}),(0,Te.jsx)("div",{className:"space-y-2 text-sm",children:(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Monday - Friday"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:"9:00 AM - 5:00 PM"})]})})]})]})]})]})})]})},wt=Ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),kt=Ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),_t=()=>{const e=[{icon:(0,Te.jsx)(Je,{className:"h-8 w-8 text-blue-600"}),title:"People Search",description:"Comprehensive search across Ghana's legal database to find individuals involved in legal cases.",features:["Advanced search filters","Case history tracking","Risk assessment profiles","Real-time data updates"]},{icon:(0,Te.jsx)(wt,{className:"h-8 w-8 text-green-600"}),title:"Company Database",description:"Access detailed information about companies, their legal standing, and case involvement.",features:["Company profiles & details","Legal case history","Financial standing analysis","Compliance tracking"]},{icon:(0,Te.jsx)(ot,{className:"h-8 w-8 text-purple-600"}),title:"Insurance Records",description:"Search and analyze insurance companies and their legal case involvement.",features:["Insurance company profiles","Claim history analysis","Policy coverage details","Legal dispute tracking"]},{icon:(0,Te.jsx)(dt,{className:"h-8 w-8 text-orange-600"}),title:"Bank Records",description:"Comprehensive banking sector database with legal case information.",features:["Bank profiles & details","Financial case history","Regulatory compliance","Risk assessment"]},{icon:(0,Te.jsx)(gt,{className:"h-8 w-8 text-red-600"}),title:"Court Locator",description:"Find and locate courts and legal institutions across Ghana with interactive maps.",features:["Interactive court maps","Location-based search","Court type filtering","Contact information"]},{icon:(0,Te.jsx)(xt,{className:"h-8 w-8 text-indigo-600"}),title:"Case Management",description:"Comprehensive case tracking and management system for legal professionals.",features:["Case timeline tracking","Document management","Hearing schedules","Status updates"]}],t=[{icon:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-500"}),title:"Real-time Data",description:"Access the most up-to-date legal information with real-time database updates."},{icon:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-500"}),title:"Advanced Search",description:"Powerful search capabilities with multiple filters and criteria options."},{icon:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-500"}),title:"Secure Access",description:"Enterprise-grade security with role-based access control and data encryption."},{icon:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-500"}),title:"Mobile Responsive",description:"Access your data anywhere with our fully responsive mobile interface."}];return(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[(0,Te.jsxs)("div",{className:"text-center mb-16",children:[(0,Te.jsx)("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"Our Services"}),(0,Te.jsx)("p",{className:"text-xl text-slate-600 dark:text-slate-300 max-w-3xl mx-auto",children:"Comprehensive legal database solutions designed to help legal professionals, researchers, and organizations access critical legal information across Ghana."})]}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:e.map((e,t)=>(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-6 hover:shadow-md transition-shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[e.icon,(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white ml-3",children:e.title})]}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:e.description}),(0,Te.jsx)("ul",{className:"space-y-2",children:e.features.map((e,t)=>(0,Te.jsxs)("li",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400",children:[(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),e]},t))})]},t))}),(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-8 mb-16",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-8 text-center",children:"Why Choose Dennislaw SVD?"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,t)=>(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex justify-center mb-4",children:e.icon}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:e.title}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-300 text-sm",children:e.description})]},t))})]}),(0,Te.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-8 text-center text-white",children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),(0,Te.jsx)("p",{className:"text-xl mb-6 opacity-90",children:"Join thousands of legal professionals who trust Dennislaw SVD for their research needs."}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Te.jsxs)("button",{className:"bg-white text-blue-600 px-6 py-3 rounded-lg font-semibold hover:bg-slate-100 transition-colors flex items-center justify-center",children:["Start Free Trial",(0,Te.jsx)(kt,{className:"h-4 w-4 ml-2"})]}),(0,Te.jsx)("button",{className:"border-2 border-white text-white px-6 py-3 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors",children:"Contact Sales"})]})]})]})})},Ct=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),St=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),At=Ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Et=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Mt=Ge("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),It=Ge("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Pt=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Lt=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Tt=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Rt=Ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Dt=Ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ot=e=>{let{children:t}=e;const[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!0),i=se(),o=ee();(0,n.useEffect)(()=>{const e=()=>{const e="true"===localStorage.getItem("isAuthenticated");a(e),r(!1),e||localStorage.setItem("redirectAfterLogin",o.pathname)};e();const t=()=>{e()};return window.addEventListener("authStateChanged",t),window.addEventListener("storage",t),()=>{window.removeEventListener("authStateChanged",t),window.removeEventListener("storage",t)}},[o.pathname]);const c=()=>{i("/login")};return l?(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Checking authentication..."})]})}):s?t:(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Te.jsx)("div",{className:"flex justify-center",children:(0,Te.jsx)("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Rt,{className:"h-6 w-6 text-red-600"})})}),(0,Te.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-slate-900",children:"Authentication Required"}),(0,Te.jsx)("p",{className:"mt-2 text-center text-sm text-slate-600",children:"You need to be logged in to access this page."})]}),(0,Te.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Te.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("p",{className:"text-slate-600 mb-6",children:"Please log in to your account to continue."}),(0,Te.jsxs)("button",{onClick:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 transition-colors",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4 mr-2"}),"Go to Login"]})]})})})]})},Ft=()=>{var e;const t=se(),[s]=Le(),[a,l]=(0,n.useState)("search"),[r,i]=(0,n.useState)("grid"),[o,c]=(0,n.useState)(""),[d,m]=(0,n.useState)([]),[u,x]=(0,n.useState)([]),[h,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)("name"),[b,j]=(0,n.useState)({riskLevel:"all",location:"all",caseCount:"all"}),[v,y]=(0,n.useState)(1),[N]=(0,n.useState)(20),[w,k]=(0,n.useState)(!1),[_,C]=(0,n.useState)([]),[S,A]=(0,n.useState)(!1),[E,M]=(0,n.useState)(!1),[I,P]=(0,n.useState)(0),[L,T]=(0,n.useState)(0),[R,D]=(0,n.useState)(!1),[O,F]=(0,n.useState)(null),[z,B]=(0,n.useState)(0),[U,H]=(0,n.useState)(""),[V,W]=(0,n.useState)(!1),[G,q]=(0,n.useState)({firstName:"",lastName:"",idNumber:"",phone:"",email:"",address:"",caseType:"",court:"",caseStatus:"",dateRange:"",region:"",city:""});(0,n.useEffect)(()=>{const e=s.get("search");e&&(c(e),l("search"))},[s]);(0,n.useEffect)(()=>{console.log("Component mounted, loading all people..."),(async()=>{try{console.log("Loading all people for alphabet grouping..."),W(!0),B(0),H("Connecting to database...");const t=localStorage.getItem("accessToken"),s={"Content-Type":"application/json"};t&&(s.Authorization="Bearer ".concat(t)),console.log("Getting total count..."),H("Getting total count..."),B(5);const a=await fetch("http://localhost:8000/api/people/search?page=1&limit=1",{headers:s});if(!a.ok)throw new Error("Count API failed: ".concat(a.status));const n=(await a.json()).total||0;console.log("Total people in database:",n);const l=[],r=100,i=Math.ceil(n/r);console.log("Loading ".concat(n," people in ").concat(i," batches of ").concat(r,"...")),H("Loading ".concat(n," people in ").concat(i," batches...")),B(10);for(let c=1;c<=i;c++){console.log("Loading batch ".concat(c,"/").concat(i,"...")),H("Loading batch ".concat(c," of ").concat(i,"..."));const t=await fetch("http://localhost:8000/api/people/search?page=".concat(c,"&limit=").concat(r),{headers:s});if(t.ok){var e;const s=await t.json();l.push(...s.people||[]),console.log("Batch ".concat(c," loaded: ").concat((null===(e=s.people)||void 0===e?void 0:e.length)||0," people"));const a=10+c/i*80;B(Math.round(a))}else console.error("Batch ".concat(c," failed:"),t.status,t.statusText)}console.log("Total people loaded: ".concat(l.length)),H("Processing data..."),B(90);const o=l.map(e=>({id:e.id,name:e.full_name||"".concat(e.first_name," ").concat(e.last_name),idNumber:e.id_number||"N/A",riskLevel:e.risk_level||"Low",riskScore:e.risk_score||0,cases:e.case_count||0,caseTypes:e.case_types||[],location:e.region||"N/A"}));console.log("Transformed results sample:",o.slice(0,3)),x(o),H("Complete!"),B(100),console.log("All people set successfully"),setTimeout(()=>{W(!1),B(0),H("")},1e3)}catch(t){console.error("Error loading all people for alphabet:",t),H("Error loading data, using fallback..."),B(0),console.log("Using fallback sample data due to error..."),x([{id:1,name:"AARON KWESI KAITOO",idNumber:"N/A",riskLevel:"Low",riskScore:0,cases:0,caseTypes:[],location:"UER"},{id:2,name:"AARON MFARFO",idNumber:"N/A",riskLevel:"Low",riskScore:0,cases:0,caseTypes:[],location:"WR"},{id:3,name:"AARON MORNY GODWIN",idNumber:"N/A",riskLevel:"Low",riskScore:0,cases:0,caseTypes:[],location:"GAR"},{id:4,name:"BENJAMIN ADJEI",idNumber:"N/A",riskLevel:"Medium",riskScore:50,cases:2,caseTypes:["Civil"],location:"ASR"},{id:5,name:"CHARLES OWUSU",idNumber:"N/A",riskLevel:"High",riskScore:80,cases:5,caseTypes:["Criminal"],location:"GAR"},{id:6,name:"DAVID MENSAH",idNumber:"N/A",riskLevel:"Low",riskScore:20,cases:1,caseTypes:["Civil"],location:"WR"},{id:7,name:"EMMANUEL ASANTE",idNumber:"N/A",riskLevel:"Medium",riskScore:60,cases:3,caseTypes:["Commercial"],location:"ER"},{id:8,name:"FRANCIS GYASI",idNumber:"N/A",riskLevel:"Low",riskScore:30,cases:1,caseTypes:["Civil"],location:"VR"},{id:9,name:"GEORGE APPIAH",idNumber:"N/A",riskLevel:"High",riskScore:90,cases:7,caseTypes:["Criminal","Fraud"],location:"GAR"},{id:10,name:"HENRY BOATENG",idNumber:"N/A",riskLevel:"Medium",riskScore:55,cases:2,caseTypes:["Civil"],location:"ASR"}]),console.log("Fallback sample data set due to error"),setTimeout(()=>{W(!1),B(0),H("")},2e3)}})()},[]),(0,n.useEffect)(()=>{if(o.trim())le();else{const e=async()=>{try{console.log("Loading people for current page...");const t=localStorage.getItem("accessToken"),s={"Content-Type":"application/json"};t&&(s.Authorization="Bearer ".concat(t)),D(!0),console.log("Making API call for paginated people...");const a=await fetch("http://localhost:8000/api/people/search?page=".concat(v,"&limit=").concat(N),{headers:s});if(console.log("Paginated API response status:",a.status),a.ok){var e;const t=await a.json();console.log("Paginated API response data:",t),console.log("Number of people received:",(null===(e=t.people)||void 0===e?void 0:e.length)||0);const s=(t.people||[]).map(e=>({id:e.id,name:e.full_name||"".concat(e.first_name," ").concat(e.last_name),idNumber:e.id_number||"N/A",riskLevel:e.risk_level||"Low",riskScore:e.risk_score||0,cases:e.case_count||0,caseTypes:e.case_types||[],location:e.region||"N/A"}));console.log("Transformed paginated results:",s.slice(0,3)),m(s),P(t.total||0),T(t.total_pages||0),console.log("Paginated people set successfully")}else console.error("Paginated API response not ok:",a.status,a.statusText)}catch(t){console.error("Error loading people:",t)}finally{D(!1)}};e()}},[o,v,N]);console.log("All people for grouping:",u.length);const Y=(e=>{const t=[...e].sort((e,t)=>{const s=(e.name||"").toLowerCase(),a=(t.name||"").toLowerCase();return s.localeCompare(a)}),s={};return t.forEach(e=>{const t=(e.name||"Unknown").charAt(0).toUpperCase();s[t]||(s[t]=[]),s[t].push(e)}),s})(u);console.log("Grouped results:",Object.keys(Y).map(e=>{var t;return"".concat(e,": ").concat((null===(t=Y[e])||void 0===t?void 0:t.length)||0)}));const $=Array.from({length:26},(e,t)=>String.fromCharCode(65+t)),J=O?{[O]:Y[O]||[]}:Y,K=O?[O]:$.filter(e=>Y[e]&&Y[e].length>0),Q=(v-1)*N,X=Math.min(Q+N,I),Z=O?d.slice(Q,X):d,ee=e=>{y(e),window.scrollTo({top:0,behavior:"smooth"})},te=async()=>{F(null),y(1);try{const e=localStorage.getItem("accessToken"),t={"Content-Type":"application/json"};e&&(t.Authorization="Bearer ".concat(e)),D(!0);const s=await fetch("http://localhost:8000/api/people/search?page=1&limit=".concat(N),{headers:t});if(s.ok){const e=await s.json(),t=(e.people||[]).map(e=>({id:e.id,name:e.full_name||"".concat(e.first_name," ").concat(e.last_name),idNumber:e.id_number||"N/A",riskLevel:e.risk_level||"Low",riskScore:e.risk_score||0,cases:e.case_count||0,caseTypes:e.case_types||[],location:e.region||"N/A"}));m(t),P(e.total||0),T(e.total_pages||0)}}catch(e){console.error("Error loading people:",e)}finally{D(!1)}};(0,n.useEffect)(()=>{y(1)},[b,g,o]);const ae=e=>{const{name:t,value:s}=e.target;q(e=>Ue(Ue({},e),{},{[t]:s}))},ne=e=>{switch(e){case"Low":return"bg-emerald-50 text-emerald-600 ring-emerald-200";case"Medium":return"bg-amber-50 text-amber-600 ring-amber-200";case"High":return"bg-red-50 text-red-600 ring-red-200";default:return"bg-slate-50 text-slate-600 ring-slate-200"}},le=async e=>{if(e&&e.preventDefault(),o.trim())try{D(!0);const e=await fetch("http://localhost:8000/api/people/search?query=".concat(encodeURIComponent(o),"&page=").concat(v,"&limit=").concat(N),{headers:{"Content-Type":"application/json"}});if(e.ok){var t;const s=await e.json();console.log("Search results:",s),console.log("Number of people found:",(null===(t=s.people)||void 0===t?void 0:t.length)||0);const a=(s.people||[]).map(e=>({id:e.id,name:e.full_name||"".concat(e.first_name," ").concat(e.last_name),idNumber:e.id_number||"N/A",riskLevel:e.risk_level||"Low",riskScore:e.risk_score||0,cases:e.case_count||0,caseTypes:e.case_types||[],location:e.region||"N/A"}));console.log("Transformed search results:",a),m(a),P(s.total||0),T(s.total_pages||0)}else console.error("Search failed:",e.status)}catch(s){console.error("Error searching people:",s)}finally{D(!1)}};(0,n.useEffect)(()=>{localStorage.getItem("isAuthenticated"),localStorage.getItem("accessToken");M(!0),console.log("Search functionality available")},[]),(0,n.useEffect)(()=>{E&&(async()=>{try{D(!0);const e=await fetch("http://localhost:8000/api/people/search?page=".concat(v,"&limit=").concat(N),{headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();console.log("All people loaded:",t);const s=(t.people||[]).map(e=>({id:e.id,name:e.full_name||"".concat(e.first_name," ").concat(e.last_name),idNumber:e.id_number||"N/A",riskLevel:e.risk_level||"Low",riskScore:e.risk_score||0,cases:e.case_count||0,caseTypes:e.case_types||[],location:e.region||"N/A"}));m(s),P(t.total||0),T(t.total_pages||0)}else console.error("Failed to load people:",e.status)}catch(e){console.error("Error loading people:",e)}finally{D(!1)}})()},[E,v,N]),(0,n.useEffect)(()=>{const e=setTimeout(()=>{o.trim()?re(o):C([])},300);return()=>clearTimeout(e)},[o]);const re=async e=>{if(e.length<2)C([]);else{A(!0);try{const t=localStorage.getItem("accessToken");if(!t)return void console.log("No authentication token found for suggestions");console.log("Loading suggestions for query:",e);const s=await fetch("http://localhost:8000/api/people/search?query=".concat(encodeURIComponent(e),"&limit=5"),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(console.log("Suggestions response status:",s.status),s.ok){const e=await s.json();console.log("Suggestions data:",e);const t=(e.people||[]).map(e=>e.full_name);C(t)}else{const e=await s.text();console.error("Suggestions API error:",s.status,e)}}catch(t){console.error("Error loading suggestions:",t)}finally{A(!1)}}};return(0,Te.jsx)(Ot,{children:(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"People Database"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Search, filter, and manage people in the legal database"})]}),V&&(0,Te.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Loading People Database"}),(0,Te.jsxs)("span",{className:"text-sm text-slate-600",children:[z,"%"]})]}),(0,Te.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-3 mb-4",children:(0,Te.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(z,"%")}})}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:U}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,Te.jsx)("span",{className:"text-xs text-slate-500",children:"Please wait..."})]})]})]}),(0,Te.jsx)("div",{className:"mb-8",children:(0,Te.jsx)("div",{className:"border-b border-slate-200",children:(0,Te.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"search",name:"Quick Search",icon:Je},{id:"advanced",name:"Advanced Search",icon:Ct},{id:"database",name:"Database View",icon:St}].map(e=>{const t=e.icon;return(0,Te.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ".concat(a===e.id?"border-sky-500 text-sky-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:[(0,Te.jsx)(t,{className:"h-4 w-4"}),e.name]},e.id)})})})}),"search"===a&&(0,Te.jsxs)("div",{className:"mb-8",children:[!E&&(0,Te.jsx)("div",{className:"mb-4 bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)("svg",{className:"h-5 w-5 text-amber-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Te.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-amber-800",children:"Authentication Required"}),(0,Te.jsx)("div",{className:"mt-2 text-sm text-amber-700",children:(0,Te.jsxs)("p",{children:["Please ",(0,Te.jsx)("a",{href:"/login",className:"font-medium underline text-amber-800 hover:text-amber-900",children:"login"})," to use the search functionality."]})})]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:(0,Te.jsxs)("form",{onSubmit:le,className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search for people, banks, or insurance companies...",value:o,onChange:e=>{c(e.target.value),k(e.target.value.length>0)},className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),w&&o&&(0,Te.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:S?(0,Te.jsx)("div",{className:"px-4 py-2 text-slate-500 text-sm",children:"Loading suggestions..."}):_.length>0?_.map((e,t)=>(0,Te.jsx)("button",{type:"button",onClick:()=>(e=>{c(e),k(!1)})(e),className:"w-full px-4 py-2 text-left hover:bg-slate-50 focus:bg-slate-50 focus:outline-none",children:e},t)):(0,Te.jsx)("div",{className:"px-4 py-2 text-slate-500 text-sm",children:"No suggestions found"})})]}),(0,Te.jsx)("div",{className:"flex justify-end",children:(0,Te.jsxs)("button",{type:"submit",className:"inline-flex items-center gap-2 px-6 py-2 bg-sky-600 text-white font-medium rounded-lg hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(Je,{className:"h-4 w-4"}),"Search"]})})]})})]}),"advanced"===a&&(0,Te.jsx)("div",{className:"mb-8",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Advanced Search"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=[];G.firstName&&t.push(G.firstName),G.lastName&&t.push(G.lastName),G.idNumber&&t.push(G.idNumber),c(t.join(" ")),l("search")},className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"First Name"}),(0,Te.jsx)("input",{type:"text",name:"firstName",value:G.firstName,onChange:ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Last Name"}),(0,Te.jsx)("input",{type:"text",name:"lastName",value:G.lastName,onChange:ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ID Number"}),(0,Te.jsx)("input",{type:"text",name:"idNumber",value:G.idNumber,onChange:ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Region"}),(0,Te.jsxs)("select",{name:"region",value:G.region,onChange:ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Regions"}),(0,Te.jsx)("option",{value:"Greater Accra",children:"Greater Accra"}),(0,Te.jsx)("option",{value:"Ashanti",children:"Ashanti"}),(0,Te.jsx)("option",{value:"Western",children:"Western"}),(0,Te.jsx)("option",{value:"Central",children:"Central"}),(0,Te.jsx)("option",{value:"Eastern",children:"Eastern"}),(0,Te.jsx)("option",{value:"Volta",children:"Volta"}),(0,Te.jsx)("option",{value:"Northern",children:"Northern"}),(0,Te.jsx)("option",{value:"Upper East",children:"Upper East"}),(0,Te.jsx)("option",{value:"Upper West",children:"Upper West"}),(0,Te.jsx)("option",{value:"Brong-Ahafo",children:"Brong-Ahafo"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Case Type"}),(0,Te.jsxs)("select",{name:"caseType",value:G.caseType,onChange:ae,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Case Types"}),(0,Te.jsx)("option",{value:"Criminal",children:"Criminal"}),(0,Te.jsx)("option",{value:"Civil",children:"Civil"}),(0,Te.jsx)("option",{value:"Family",children:"Family"}),(0,Te.jsx)("option",{value:"Business",children:"Business"}),(0,Te.jsx)("option",{value:"Property",children:"Property"}),(0,Te.jsx)("option",{value:"Contract",children:"Contract"})]})]})]}),(0,Te.jsxs)("div",{className:"flex gap-3",children:[(0,Te.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 focus:ring-2 focus:ring-sky-500 focus:ring-offset-2",children:[(0,Te.jsx)(Je,{className:"h-4 w-4"}),"Search"]}),(0,Te.jsxs)("button",{type:"button",onClick:()=>{q({firstName:"",lastName:"",dateOfBirth:"",idNumber:"",phone:"",email:"",address:"",caseType:"",court:"",caseStatus:"",dateRange:"",region:"",city:""})},className:"flex items-center gap-2 px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 focus:ring-2 focus:ring-slate-500 focus:ring-offset-2",children:[(0,Te.jsx)(At,{className:"h-4 w-4"}),"Reset"]})]})]})]})}),"database"===a&&(0,Te.jsx)("div",{className:"mb-8",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Database Overview"}),(0,Te.jsx)("div",{className:"flex items-center gap-3",children:(0,Te.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),"Add Person"]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:I}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Total People"})]}),(0,Te.jsxs)("div",{className:"bg-emerald-50 rounded-lg p-4",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-emerald-600",children:d.filter(e=>"Low"===e.riskLevel).length}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Low Risk"})]}),(0,Te.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-amber-600",children:d.filter(e=>"Medium"===e.riskLevel).length}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Medium Risk"})]}),(0,Te.jsxs)("div",{className:"bg-red-50 rounded-lg p-4",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-red-600",children:d.filter(e=>"High"===e.riskLevel).length}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"High Risk"})]})]})]})}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"search"===a?"Search Results":"advanced"===a?"Advanced Search Results":"People Database"}),(0,Te.jsxs)("span",{className:"text-sm text-slate-500",children:[d.length," ",1===d.length?"person":"people"," found"]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsxs)("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",children:[(0,Te.jsx)("button",{onClick:()=>i("grid"),className:"p-2 rounded-md transition-colors ".concat("grid"===r?"bg-white shadow-sm":"hover:bg-slate-200"),children:(0,Te.jsx)(Mt,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>i("list"),className:"p-2 rounded-md transition-colors ".concat("list"===r?"bg-white shadow-sm":"hover:bg-slate-200"),children:(0,Te.jsx)(It,{className:"h-4 w-4"})})]}),(0,Te.jsxs)("button",{onClick:()=>p(!h),className:"flex items-center gap-2 px-3 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[(0,Te.jsx)(Ct,{className:"h-4 w-4"}),"Filter",h?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})]})]})]}),h&&(0,Te.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-200",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),(0,Te.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"name",children:"Name"}),(0,Te.jsx)("option",{value:"risk",children:"Risk Level"}),(0,Te.jsx)("option",{value:"cases",children:"Case Count"}),(0,Te.jsx)("option",{value:"location",children:"Location"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Risk Level"}),(0,Te.jsxs)("select",{value:b.riskLevel,onChange:e=>j(t=>Ue(Ue({},t),{},{riskLevel:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Risk Levels"}),(0,Te.jsx)("option",{value:"Low",children:"Low Risk"}),(0,Te.jsx)("option",{value:"Medium",children:"Medium Risk"}),(0,Te.jsx)("option",{value:"High",children:"High Risk"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),(0,Te.jsxs)("select",{value:b.location,onChange:e=>j(t=>Ue(Ue({},t),{},{location:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Locations"}),(0,Te.jsx)("option",{value:"Greater Accra",children:"Greater Accra"}),(0,Te.jsx)("option",{value:"Ashanti",children:"Ashanti"}),(0,Te.jsx)("option",{value:"Western",children:"Western"}),(0,Te.jsx)("option",{value:"Central",children:"Central"}),(0,Te.jsx)("option",{value:"Eastern",children:"Eastern"}),(0,Te.jsx)("option",{value:"Volta",children:"Volta"}),(0,Te.jsx)("option",{value:"Northern",children:"Northern"}),(0,Te.jsx)("option",{value:"Upper East",children:"Upper East"}),(0,Te.jsx)("option",{value:"Upper West",children:"Upper West"}),(0,Te.jsx)("option",{value:"Brong-Ahafo",children:"Brong-Ahafo"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Case Count"}),(0,Te.jsxs)("select",{value:b.caseCount,onChange:e=>j(t=>Ue(Ue({},t),{},{caseCount:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Cases"}),(0,Te.jsx)("option",{value:"0-2",children:"0-2 Cases"}),(0,Te.jsx)("option",{value:"3-5",children:"3-5 Cases"}),(0,Te.jsx)("option",{value:"6-10",children:"6-10 Cases"}),(0,Te.jsx)("option",{value:"11",children:"11+ Cases"})]})]})]})})]}),!R&&(0,Te.jsx)("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-200",children:(0,Te.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[$.map(e=>{const t=Y[e]&&Y[e].length>0,s=O===e;return(0,Te.jsxs)("button",{onClick:()=>(e=>{if(O===e)F(null);else{F(e);const t=u.filter(t=>(t.name||"").toLowerCase().startsWith(e.toLowerCase()));m(t),P(t.length),T(Math.ceil(t.length/N))}y(1)})(e),className:"px-3 py-2 text-sm font-medium rounded-lg transition-colors border ".concat(s?"bg-blue-600 text-white border-blue-600":t?"text-slate-600 hover:text-blue-600 hover:bg-blue-50 border-slate-200 hover:border-blue-300":"text-slate-500 hover:text-slate-700 hover:bg-slate-100 border-slate-200 hover:border-slate-300"),children:[e,t&&(0,Te.jsxs)("span",{className:"ml-1 text-xs",children:["(",Y[e].length,")"]})]},e)}),O&&(0,Te.jsx)("button",{onClick:te,className:"px-3 py-2 text-sm font-medium text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-slate-200 hover:border-red-300",children:"Clear Filter"})]})}),O&&(0,Te.jsx)("div",{className:"px-6 py-3 bg-blue-50 border-b border-blue-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsxs)("span",{className:"text-sm text-blue-800",children:['Showing people whose names start with "',O,'"']}),(0,Te.jsxs)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:[(null===(e=J[O])||void 0===e?void 0:e.length)||0," people"]})]}),(0,Te.jsx)("button",{onClick:te,className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"Show all people"})]})}),(0,Te.jsxs)("div",{className:"p-6",children:[0!==d.length||O||o?o&&0===d.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(St,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No search results found"}),(0,Te.jsxs)("p",{className:"text-slate-500",children:['No people found for "',o,'". Try a different search term.']})]}):o?(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Te.jsx)("div",{className:"flex items-center justify-between",children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsxs)("span",{className:"text-sm text-blue-800",children:['Search results for "',o,'"']}),(0,Te.jsxs)("span",{className:"text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full",children:[d.length," ",1===d.length?"person":"people"," found"]})]})})}),d.length>0?(0,Te.jsx)("div",{className:"grid"===r?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:d.map(e=>(0,Te.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer ".concat("list"===r?"flex items-center p-4":"p-6"),onClick:()=>t("/person-profile/".concat(e.id,"?source=search")),children:"grid"===r?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(St,{className:"h-6 w-6 text-slate-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:["ID: ",e.idNumber]})]})]}),(0,Te.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ring-1 ".concat(ne(e.riskLevel)),children:[e.riskLevel," Risk"]})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Cases:"}),(0,Te.jsx)("span",{className:"text-slate-900",children:e.cases})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Location:"}),(0,Te.jsx)("span",{className:"text-slate-900",children:e.location})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Risk Score:"}),(0,Te.jsx)("span",{className:"text-slate-900",children:e.riskScore})]})]})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center mr-4",children:(0,Te.jsx)(St,{className:"h-6 w-6 text-slate-600"})}),(0,Te.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:["ID: ",e.idNumber]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:"Cases"}),(0,Te.jsx)("p",{className:"text-slate-900",children:e.cases})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:"Location"}),(0,Te.jsx)("p",{className:"text-slate-900",children:e.location})]}),(0,Te.jsx)("div",{className:"flex items-center justify-between",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:"Risk Level"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ring-1 ".concat(ne(e.riskLevel)),children:e.riskLevel})]})})]})]})},e.id))}):null]}):O?(0,Te.jsx)("div",{className:"space-y-8",children:(0,Te.jsxs)("div",{id:"section-".concat(O),className:"space-y-4",children:[(0,Te.jsx)("div",{className:"sticky top-0 bg-slate-50 border-b border-slate-200 py-3 px-4 rounded-t-lg",children:(0,Te.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[(0,Te.jsx)("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:O}),O,(0,Te.jsxs)("span",{className:"text-sm font-normal text-slate-500",children:["(",Z.length," ",1===Z.length?"person":"people",")"]})]})}),Z.length>0?(0,Te.jsx)("div",{className:"grid"===r?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:Z.map(e=>(0,Te.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer ".concat("list"===r?"flex items-center p-4":"p-6"),onClick:()=>t("/person-profile/".concat(e.id,"?source=search")),children:"grid"===r?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(St,{className:"h-6 w-6 text-slate-600"})}),(0,Te.jsx)("div",{children:(0,Te.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name})})]}),(0,Te.jsx)("div",{className:"text-right",children:(0,Te.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("High"===e.riskLevel?"bg-red-100 text-red-800":"Medium"===e.riskLevel?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.riskLevel," Risk"]})})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Cases:"}),(0,Te.jsx)("span",{className:"font-medium",children:e.cases})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Location:"}),(0,Te.jsx)("span",{className:"font-medium",children:e.location})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Risk Score:"}),(0,Te.jsx)("span",{className:"font-medium",children:e.riskScore})]})]})]}):(0,Te.jsx)(Te.Fragment,{children:(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 bg-slate-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(St,{className:"h-5 w-5 text-slate-600"})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:e.location})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Te.jsxs)("span",{className:"text-slate-500",children:[e.cases," cases"]}),(0,Te.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("High"===e.riskLevel?"bg-red-100 text-red-800":"Medium"===e.riskLevel?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[e.riskLevel," Risk"]})]})]})})},e.id))}):(0,Te.jsx)("div",{className:"text-center py-8 text-slate-500",children:(0,Te.jsxs)("p",{children:['No people found starting with "',O,'"']})})]})}):(0,Te.jsx)("div",{className:"space-y-8",children:K.map(e=>{const s=J[e]||[];return(0,Te.jsxs)("div",{id:"section-".concat(e),className:"space-y-4",children:[(0,Te.jsx)("div",{className:"sticky top-0 bg-slate-50 border-b border-slate-200 py-3 px-4 rounded-t-lg",children:(0,Te.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[(0,Te.jsx)("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:e}),e,(0,Te.jsxs)("span",{className:"text-sm font-normal text-slate-500",children:["(",s.length," ",1===s.length?"person":"people",")"]})]})}),s.length>0?(0,Te.jsx)("div",{className:"grid"===r?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:s.map(e=>(0,Te.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer ".concat("list"===r?"flex items-center p-4":"p-6"),onClick:()=>t("/person-profile/".concat(e.id,"?source=search")),children:"grid"===r?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(St,{className:"h-6 w-6 text-slate-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:["ID: ",e.idNumber]})]})]}),(0,Te.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ring-1 ".concat(ne(e.riskLevel)),children:[e.riskLevel," Risk"]})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Cases:"}),(0,Te.jsx)("span",{className:"text-slate-900",children:e.cases})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Location:"}),(0,Te.jsx)("span",{className:"text-slate-900",children:e.location})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-500",children:"Last Updated:"}),(0,Te.jsx)("span",{className:"text-slate-900",children:e.lastUpdated})]})]})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center mr-4",children:(0,Te.jsx)(St,{className:"h-6 w-6 text-slate-600"})}),(0,Te.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:["ID: ",e.idNumber]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:"Cases"}),(0,Te.jsx)("p",{className:"text-slate-900",children:e.cases})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:"Location"}),(0,Te.jsx)("p",{className:"text-slate-900",children:e.location})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:"Risk Level"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ring-1 ".concat(ne(e.riskLevel)),children:e.riskLevel})]}),(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:e.lastUpdated})]})]})]})},e.id))}):(0,Te.jsx)("div",{className:"text-center py-8 text-slate-500",children:(0,Te.jsxs)("p",{children:['No people found starting with "',e,'"']})})]},e)})}):(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(St,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No people found"}),(0,Te.jsx)("p",{className:"text-slate-500",children:"Try adjusting your search criteria or filters"})]}),L>1&&(0,Te.jsx)("div",{className:"mt-8",children:(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-500",children:["Showing ",Q+1," to ",X," of ",I," results"]}),(0,Te.jsxs)("div",{className:"flex items-center gap-1 overflow-x-auto max-w-full",children:[(0,Te.jsxs)("button",{onClick:()=>ee(v-1),disabled:1===v,className:"flex items-center gap-1 px-3 py-2 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[(0,Te.jsx)(Lt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{className:"hidden sm:inline",children:"Previous"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-1 min-w-0",children:[v>3&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>ee(1),className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:"1"}),v>4&&(0,Te.jsx)("span",{className:"px-2 text-slate-400",children:"..."})]}),Array.from({length:L},(e,t)=>t+1).filter(e=>e>=Math.max(1,v-2)&&e<=Math.min(L,v+2)).map(e=>(0,Te.jsx)("button",{onClick:()=>ee(e),className:"px-3 py-2 text-sm rounded-lg whitespace-nowrap ".concat(e===v?"bg-sky-600 text-white":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"),children:e},e)),v<L-2&&(0,Te.jsxs)(Te.Fragment,{children:[v<L-3&&(0,Te.jsx)("span",{className:"px-2 text-slate-400",children:"..."}),(0,Te.jsx)("button",{onClick:()=>ee(L),className:"px-3 py-2 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:L})]})]}),(0,Te.jsxs)("button",{onClick:()=>ee(v+1),disabled:v===L,className:"flex items-center gap-1 px-3 py-2 text-sm text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:[(0,Te.jsx)("span",{className:"hidden sm:inline",children:"Next"}),(0,Te.jsx)(Tt,{className:"h-4 w-4"})]})]})]})})]})]})]})})})},zt=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Bt=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Ut=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ht=Ge("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Vt=Ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Wt=Ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Gt=e=>{let{isOpen:t,onClose:s,caseData:a,entityType:l,entityName:r,isProfileRequest:i=!1}=e;const[o,c]=(0,n.useState)(i?"profile_information":"case_details"),[d,m]=(0,n.useState)(""),[u,x]=(0,n.useState)(""),[h,p]=(0,n.useState)(""),[g,f]=(0,n.useState)(""),[b,j]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null);if(!t)return null;const N=()=>{c(i?"profile_information":"case_details"),m(""),x(""),p(""),f(""),y(null),s()};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:i?"Request Profile Information":"Request Case Details"}),(0,Te.jsx)("button",{onClick:N,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Te.jsx)(tt,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),j(!0),y(null);try{const e={request_type:o,entity_type:l.toLowerCase(),entity_id:(null===a||void 0===a?void 0:a.id)||null,entity_name:r,case_id:(null===a||void 0===a?void 0:a.id)||null,case_suit_number:(null===a||void 0===a?void 0:a.suit_reference_number)||null,message:d,requester_name:u,requester_email:h,requester_phone:g,priority:"medium",is_urgent:!1};(await fetch("http://localhost:8000/api/request-details/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(y("success"),m(""),x(""),p(""),f(""),setTimeout(()=>{s(),y(null)},2e3)):y("error")}catch(t){console.error("Error submitting request:",t),y("error")}finally{j(!1)}},children:["success"===v&&(0,Te.jsxs)("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[(0,Te.jsx)(qe,{className:"h-5 w-5 text-green-600"}),(0,Te.jsx)("span",{className:"text-green-800 text-sm font-medium",children:"Request submitted successfully! You will be contacted soon."})]}),"error"===v&&(0,Te.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[(0,Te.jsx)(Ye,{className:"h-5 w-5 text-red-600"}),(0,Te.jsx)("span",{className:"text-red-800 text-sm font-medium",children:"Failed to submit request. Please try again."})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Request Type"}),(0,Te.jsx)("select",{value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:b,children:(i?[{value:"profile_information",label:"Profile Information"},{value:"contact_details",label:"Contact Details"},{value:"financial_information",label:"Financial Information"},{value:"legal_history",label:"Legal History"},{value:"management_details",label:"Management Details"},{value:"other",label:"Other"}]:[{value:"case_details",label:"Case Details"},{value:"legal_documents",label:"Legal Documents"},{value:"court_records",label:"Court Records"},{value:"financial_information",label:"Financial Information"},{value:"other",label:"Other"}]).map(e=>(0,Te.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Your Information"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Name *"}),(0,Te.jsx)("input",{type:"text",value:u,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Your full name",required:!0,disabled:b})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Email *"}),(0,Te.jsx)("input",{type:"email",value:h,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"your.email@example.com",required:!0,disabled:b})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"+1234567890",disabled:b})]})]})]}),(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i?"Profile Information":"Case Information"}),(0,Te.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,Te.jsx)("div",{className:"space-y-2 text-sm",children:i?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("span",{className:"font-semibold text-gray-900",children:[l,":"]})," ",r||"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-900",children:"Request Type:"})," ",o]})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-900",children:"Case:"})," ",(null===a||void 0===a?void 0:a.suit_reference_number)||"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-semibold text-gray-900",children:"Title:"})," ",(null===a||void 0===a?void 0:a.title)||"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("span",{className:"font-semibold text-gray-900",children:[l,":"]})," ",r||"N/A"]})]})})})]}),(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Message (Optional)"}),(0,Te.jsx)("textarea",{value:d,onChange:e=>m(e.target.value),placeholder:"Please specify any additional information you need...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Te.jsx)("button",{type:"button",onClick:N,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:b,children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",disabled:b||!u||!h,children:b?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Submitting..."]}):"Submit Request"})]})]})]})})},qt=()=>{const{id:e}=ae(),t=se(),[s]=Le(),a=s.get("search")||"",[l,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(null),[m,u]=(0,n.useState)([]),[x,h]=(0,n.useState)([]),[p,g]=(0,n.useState)(""),[f,b]=(0,n.useState)("date"),[j,v]=(0,n.useState)("desc"),[y,N]=(0,n.useState)(1),[w]=(0,n.useState)(10),[k,_]=(0,n.useState)(null),[C,S]=(0,n.useState)(!0),[A,E]=(0,n.useState)(null),[M,I]=(0,n.useState)(!0),[P,L]=(0,n.useState)(!1),[T,R]=(0,n.useState)(null),[D,O]=(0,n.useState)(!1),F=e=>{if(!e)return"N/A";const t=new Date(e),s=new Date,a=Math.abs(s-t),n=Math.ceil(a/864e5);return n<=30?0===n?"Today":1===n?"Yesterday":n<7?"".concat(n," days ago"):n<14?"1 week ago":n<21?"2 weeks ago":n<28?"3 weeks ago":"1 month ago":t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};(0,n.useEffect)(()=>{e&&(async()=>{try{o(!0),console.log("Loading person data for ID:",e),console.log("Search query:",a),console.log("URL being called:","http://localhost:8000/api/people/".concat(e)),localStorage.getItem("accessToken");const t=await fetch("http://localhost:8000/api/people/".concat(e),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Person data loaded:",e),r(e)}else console.log("API call failed, using fallback data"),r({id:e,full_name:a||"Unknown Person",occupation:"N/A",gender:"N/A",id_number:"N/A",region:"N/A",city:"N/A",country:"N/A",education:"N/A",marital_status:"N/A",phone:"N/A",email:"N/A",address:"N/A",emergency_contact:"N/A",languages:[],risk_level:"N/A",risk_score:0,total_cases:0,resolved_cases:0,pending_cases:0,favorable_outcomes:0,verification_status:"Not Verified",verified_on:"N/A"})}catch(c){console.error("Error loading person data:",c),d("Failed to load person data")}finally{o(!1)}})()},[e]),(0,n.useEffect)(()=>{e&&(async()=>{if(e)try{S(!0);const t=await fetch("http://localhost:8000/api/person/".concat(e,"/analytics"),{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Analytics data loaded:",e),_(e)}else console.log("Analytics API call failed, using fallback data"),_({risk_score:0,risk_level:"Low",risk_factors:[],total_monetary_amount:0,average_case_value:0,financial_risk_level:"Low",primary_subject_matter:"N/A",subject_matter_categories:[],legal_issues:[],financial_terms:[],case_complexity_score:0,success_rate:0})}catch(c){console.error("Error loading analytics data:",c),_({risk_score:0,risk_level:"Low",risk_factors:[],total_monetary_amount:0,average_case_value:0,financial_risk_level:"Low",primary_subject_matter:"N/A",subject_matter_categories:[],legal_issues:[],financial_terms:[],case_complexity_score:0,success_rate:0})}finally{S(!1)}})()},[e]),(0,n.useEffect)(()=>{e&&(async()=>{if(e)try{I(!0);const t=await fetch("http://localhost:8000/api/person-case-statistics/person/".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Case statistics loaded:",e),E(e)}else console.log("Case statistics API call failed, using fallback data"),E({total_cases:0,resolved_cases:0,unresolved_cases:0,favorable_cases:0,unfavorable_cases:0,mixed_cases:0,case_outcome:"N/A"})}catch(c){console.error("Error loading case statistics:",c),E({total_cases:0,resolved_cases:0,unresolved_cases:0,favorable_cases:0,unfavorable_cases:0,mixed_cases:0,case_outcome:"N/A"})}finally{I(!1)}})()},[e]),(0,n.useEffect)(()=>{null!==l&&void 0!==l&&l.full_name&&(async()=>{try{console.log("Loading related cases for person:",null===l||void 0===l?void 0:l.full_name),console.log("Search query:",a),localStorage.getItem("accessToken");const e=await fetch("http://localhost:8000/api/case-search/search?query=".concat(encodeURIComponent((null===l||void 0===l?void 0:l.full_name)||""),"&limit=50"),{headers:{"Content-Type":"application/json"}});if(e.ok){const t=await e.json();console.log("API Response for related cases:",t),console.log("Results:",t.results),t.results&&t.results.length>0&&console.log("First case:",t.results[0]),u(t.results||[]),h(t.results||[])}else{const e=[{id:1,title:"Sample case involving ".concat(a||"Unknown Person"),suit_reference_number:"SAMPLE-001",court_type:"High Court",date:new Date(Date.now()-1728e5).toISOString().split("T")[0],status:"Resolved",type:"Civil",area_of_law:"Contract Dispute",nature:"Contract Dispute"},{id:2,title:"Another case involving ".concat(a||"Unknown Person"),suit_reference_number:"SAMPLE-002",court_type:"Supreme Court",date:new Date(Date.now()-6048e5).toISOString().split("T")[0],status:"Pending",type:"Criminal",area_of_law:"Fraud",nature:"Fraud"},{id:3,title:"Third case involving ".concat(a||"Unknown Person"),suit_reference_number:"SAMPLE-003",court_type:"Court of Appeal",date:"2023-06-15",status:"Resolved",type:"Commercial",area_of_law:"Property Dispute",nature:"Property Dispute"}];u(e),h(e)}}catch(c){console.error("Error loading related cases:",c)}})()},[l,a]),(0,n.useEffect)(()=>{let e=[...m];p&&(e=e.filter(e=>e.title.toLowerCase().includes(p.toLowerCase())||e.suit_number.toLowerCase().includes(p.toLowerCase()))),e.sort((e,t)=>{let s,a;switch(f){case"date":s=new Date(e.date),a=new Date(t.date);break;case"title":default:s=e.title.toLowerCase(),a=t.title.toLowerCase();break;case"suit_number":s=e.suit_number.toLowerCase(),a=t.suit_number.toLowerCase()}return"asc"===j?s>a?1:-1:s<a?1:-1}),h(e),N(1)},[m,p,f,j]);const z=Math.ceil(x.length/w),B=(y-1)*w,U=B+w,H=x.slice(B,U),V=e=>{N(e)};return i?(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Loading person profile..."})]})}):c?(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Ye,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-red-600",children:c}),(0,Te.jsx)("button",{onClick:()=>t("/people-results"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})}):(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,Te.jsx)("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-slate-200 shadow-sm",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>t("/people-results"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4"}),"Back"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-slate-900 truncate max-w-md",children:(null===l||void 0===l?void 0:l.full_name)||"Loading..."}),a&&(0,Te.jsxs)("div",{className:"mt-1",children:[(0,Te.jsx)("span",{className:"text-xs text-slate-500",children:"Search results for: "}),(0,Te.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:['"',a,'"']})]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("High"===(null===l||void 0===l?void 0:l.risk_level)?"bg-red-500":"Medium"===(null===l||void 0===l?void 0:l.risk_level)?"bg-yellow-500":"bg-green-500")}),(0,Te.jsxs)("span",{className:"text-sm font-medium text-slate-700",children:[(null===l||void 0===l?void 0:l.risk_level)||"Low"," Risk"]})]}),(0,Te.jsxs)("button",{className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,Te.jsx)(Bt,{className:"h-4 w-4"}),"Watchlist"]}),(0,Te.jsx)("button",{onClick:()=>{O(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Request Profile Information"})]})]})})}),(0,Te.jsx)("div",{className:"pt-24 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,Te.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(St,{className:"h-5 w-5 text-blue-600"}),"Personal Information"]}),(0,Te.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Ut,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(St,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-blue-800 uppercase tracking-wide",children:"Full Name"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:null===l||void 0===l?void 0:l.full_name})]})}),(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ct,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Gender"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(null===l||void 0===l?void 0:l.gender)||"N/A"})]})})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(ft,{className:"h-5 w-5 text-blue-600"}),"Contact Information"]}),(0,Te.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Ut,{className:"h-5 w-5"})})]}),(0,Te.jsx)("div",{className:"text-center py-8",children:(0,Te.jsx)("p",{className:"text-lg text-slate-500",children:"N/A"})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(Ht,{className:"h-5 w-5 text-blue-600"}),"Related Cases (",x.length," of ",m.length,")"]}),(0,Te.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Ut,{className:"h-5 w-5"})})]}),(0,Te.jsx)("div",{className:"mb-6 space-y-4",children:(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search cases...",value:p,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Te.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"date",children:"Sort by Date"}),(0,Te.jsx)("option",{value:"title",children:"Sort by Title"}),(0,Te.jsx)("option",{value:"suit_number",children:"Sort by Suit Number"})]}),(0,Te.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"desc",children:"Descending"}),(0,Te.jsx)("option",{value:"asc",children:"Ascending"})]}),(0,Te.jsx)("button",{onClick:()=>{g(""),b("date"),v("desc")},className:"px-4 py-2 text-slate-600 hover:text-slate-800 transition-colors",children:"Clear"})]})}),(0,Te.jsx)("div",{className:"space-y-4",children:H.map(e=>{return(0,Te.jsx)("div",{className:"border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t("/case-details/".concat(e.id,"?q=").concat(encodeURIComponent((null===l||void 0===l?void 0:l.full_name)||a||"")),{state:{originalPersonCases:(null===l||void 0===l?void 0:l.cases)||[]}}),children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("div",{className:"mb-2",children:(0,Te.jsx)("h2",{className:"text-lg font-bold text-blue-900 break-words leading-tight",children:(null===l||void 0===l?void 0:l.full_name)||a||"Unknown Person"})}),(0,Te.jsx)("h3",{className:"font-semibold text-slate-900 mb-2",children:e.title}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-slate-600",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Suit Number:"})," ",e.suit_reference_number||e.suit_number||"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Court:"})," ",(s=e.court_type||e.court,{SC:"Supreme Court",CA:"Court of Appeal",HC:"High Court",DC:"District Court",MC:"Magistrate Court",CC:"Circuit Court",FC:"Family Court",LC:"Labour Court",TC:"Tribunal Court",sc:"Supreme Court",ca:"Court of Appeal",hc:"High Court",dc:"District Court",mc:"Magistrate Court",cc:"Circuit Court",fc:"Family Court",lc:"Labour Court",tc:"Tribunal Court","Supreme Court":"Supreme Court","Court of Appeal":"Court of Appeal","High Court":"High Court","District Court":"District Court","Magistrate Court":"Magistrate Court","Circuit Court":"Circuit Court","Family Court":"Family Court","Labour Court":"Labour Court","Tribunal Court":"Tribunal Court"}[s]||s||"N/A")]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Date:"})," ",F(e.date)]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Nature:"})," ",e.area_of_law||e.type||e.case_type||e.nature||"N/A"]})]})]}),(0,Te.jsxs)("div",{className:"ml-4 flex gap-2",children:[(0,Te.jsx)("button",{onClick:t=>{return s=e,t.stopPropagation(),R(s),void L(!0);var s},className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Request Details"}),(0,Te.jsx)("button",{onClick:s=>{s.stopPropagation();const n=(null===l||void 0===l?void 0:l.full_name)||a||"",r=a||"";t("/case-details/".concat(e.id,"?q=").concat(encodeURIComponent(n),"&search=").concat(encodeURIComponent(r)))},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Case"})]})]})},e.id);var s})}),z>1&&(0,Te.jsxs)("div",{className:"mt-6 flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:["Page ",y," of ",z]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("button",{onClick:()=>V(y-1),disabled:1===y,className:"px-3 py-2 text-slate-600 hover:text-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Te.jsx)(Lt,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>V(y+1),disabled:y===z,className:"px-3 py-2 text-slate-600 hover:text-slate-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Te.jsx)(Tt,{className:"h-4 w-4"})})]})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(ot,{className:"h-5 w-5 text-blue-600"}),"Financial Risk Assessment",(M||C)&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-blue-600"})]}),M||C?(0,Te.jsx)("div",{className:"text-center py-4",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4"}),(0,Te.jsx)("div",{className:"h-2 bg-gray-200 rounded"})]})}):(0,Te.jsx)("div",{className:"text-center",children:(()=>{let e=0,t="Low",s=[];if(A){const a=A.total_cases||0,n=A.unfavorable_cases||0,l=A.mixed_cases||0,r=A.unresolved_cases||0;if(a>0){const t=n/a*100;e+=.4*t,t>50?s.push("High unfavorable case rate"):t>25&&s.push("Moderate unfavorable case rate")}if(a>0){const t=l/a*100;e+=.2*t,t>30&&s.push("Inconsistent case outcomes")}if(a>0){const t=r/a*100;e+=.2*t,t>60?s.push("High unresolved case rate"):t>30&&s.push("Moderate unresolved case rate")}a>10?(e+=20,s.push("High case volume")):a>5&&(e+=10,s.push("Moderate case volume")),k&&("Critical"===k.financial_risk_level?(e+=30,s.push("Critical financial risk")):"High"===k.financial_risk_level?(e+=20,s.push("High financial risk")):"Medium"===k.financial_risk_level&&(e+=10,s.push("Moderate financial risk")),k.total_monetary_amount>1e6&&s.push("High monetary involvement")),t=e>=80?"Critical":e>=60?"High":e>=30?"Medium":"Low"}return(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"text-4xl font-bold mb-2 ".concat("Critical"===t?"text-red-600":"High"===t?"text-orange-600":"Medium"===t?"text-yellow-600":"text-green-600"),children:[Math.round(e),"%"]}),(0,Te.jsxs)("div",{className:"text-sm mb-4 ".concat("Critical"===t?"text-red-600":"High"===t?"text-orange-600":"Medium"===t?"text-yellow-600":"text-slate-600"),children:[t," Financial Risk"]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,Te.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("Critical"===t?"bg-red-500":"High"===t?"bg-orange-500":"Medium"===t?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(e,100),"%")}})}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mb-3",children:"Based on legal history, case outcomes & financial factors"}),(0,Te.jsx)("div",{className:"text-left bg-slate-50 rounded-lg p-3 mb-3",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Total Cases:"}),(0,Te.jsx)("span",{className:"font-semibold",children:(null===A||void 0===A?void 0:A.total_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Unfavorable:"}),(0,Te.jsx)("span",{className:"font-semibold text-red-600",children:(null===A||void 0===A?void 0:A.unfavorable_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Unresolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-orange-600",children:(null===A||void 0===A?void 0:A.unresolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Mixed:"}),(0,Te.jsx)("span",{className:"font-semibold text-yellow-600",children:(null===A||void 0===A?void 0:A.mixed_cases)||0})]})]})}),s.length>0&&(0,Te.jsxs)("div",{className:"text-left",children:[(0,Te.jsx)("p",{className:"text-xs font-medium text-slate-700 mb-2",children:"Key Risk Factors:"}),(0,Te.jsxs)("div",{className:"flex flex-wrap gap-1",children:[s.slice(0,4).map((e,t)=>(0,Te.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:e},t)),s.length>4&&(0,Te.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",s.length-4," more"]})]})]})]})})()})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Qe,{className:"h-5 w-5 text-blue-600"}),"Quick Stats",(M||C)&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-blue-600"})]}),M||C?(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})}):(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Total Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===A||void 0===A?void 0:A.total_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Resolved Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===A||void 0===A?void 0:A.resolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Unresolved Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===A||void 0===A?void 0:A.unresolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Favorable Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-600",children:(null===A||void 0===A?void 0:A.favorable_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Unfavorable Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-red-600",children:(null===A||void 0===A?void 0:A.unfavorable_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Mixed Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-yellow-600",children:(null===A||void 0===A?void 0:A.mixed_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Overall Outcome:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold ".concat("Favorable"===(null===A||void 0===A?void 0:A.case_outcome)?"text-green-600":"Unfavorable"===(null===A||void 0===A?void 0:A.case_outcome)?"text-red-600":"Mixed"===(null===A||void 0===A?void 0:A.case_outcome)?"text-yellow-600":"text-gray-600"),children:(null===A||void 0===A?void 0:A.case_outcome)||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-green-600"}),"Affiliations"]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(wt,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-800",children:"Professional Associations"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-green-900",children:"Ghana Bar Association"}),(0,Te.jsx)("span",{className:"text-xs text-green-700 bg-green-100 px-2 py-1 rounded",children:"Active"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-green-900",children:"International Bar Association"}),(0,Te.jsx)("span",{className:"text-xs text-green-700 bg-green-100 px-2 py-1 rounded",children:"Member"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-green-900",children:"Chartered Institute of Arbitrators"}),(0,Te.jsx)("span",{className:"text-xs text-green-700 bg-green-100 px-2 py-1 rounded",children:"Fellow"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(ct,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-800",children:"Board Positions"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-blue-900",children:"Ghana Legal Aid Board"}),(0,Te.jsx)("span",{className:"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded",children:"Chairman"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-blue-900",children:"National Democratic Congress"}),(0,Te.jsx)("span",{className:"text-xs text-blue-700 bg-blue-100 px-2 py-1 rounded",children:"Former President"})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-purple-600"}),"Organizations"]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(wt,{className:"w-4 h-4 text-purple-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-purple-800",children:"Current Organizations"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-purple-900",children:"John Dramani Mahama Foundation"}),(0,Te.jsx)("span",{className:"text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"Founder"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-purple-900",children:"Ghana Investment Promotion Centre"}),(0,Te.jsx)("span",{className:"text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"Board Member"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-purple-900",children:"African Development Bank"}),(0,Te.jsx)("span",{className:"text-xs text-purple-700 bg-purple-100 px-2 py-1 rounded",children:"Consultant"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(Vt,{className:"w-4 h-4 text-orange-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-orange-800",children:"Previous Organizations"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-orange-900",children:"Government of Ghana"}),(0,Te.jsx)("span",{className:"text-xs text-orange-700 bg-orange-100 px-2 py-1 rounded",children:"Former President"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-orange-900",children:"Parliament of Ghana"}),(0,Te.jsx)("span",{className:"text-xs text-orange-700 bg-orange-100 px-2 py-1 rounded",children:"Former MP"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-orange-900",children:"Ministry of Communications"}),(0,Te.jsx)("span",{className:"text-xs text-orange-700 bg-orange-100 px-2 py-1 rounded",children:"Former Minister"})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Wt,{className:"h-5 w-5 text-green-600"}),"Financial Risk Profile",(M||C)&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-green-600"})]}),M||C?(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-16 bg-gray-200 rounded"}),(0,Te.jsx)("div",{className:"h-16 bg-gray-200 rounded"}),(0,Te.jsx)("div",{className:"h-16 bg-gray-200 rounded"})]})}):(0,Te.jsx)("div",{className:"space-y-4",children:(()=>{const e=(null===A||void 0===A?void 0:A.total_cases)||0,t=(null===A||void 0===A?void 0:A.unfavorable_cases)||0,s=(null===A||void 0===A?void 0:A.mixed_cases)||0,a=(null===A||void 0===A?void 0:A.unresolved_cases)||0,n=e>0?t/e*100:0,l=e>0?a/e*100:0;let r="Good";return n>50||l>60?r="Poor":(n>25||l>30||(e>0?s/e*100:0)>40)&&(r="Fair"),(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"p-4 rounded-lg border-l-4 ".concat("Poor"===r?"bg-red-50 border-red-500":"Fair"===r?"bg-yellow-50 border-yellow-500":"bg-green-50 border-green-500"),children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(Wt,{className:"w-4 h-4 ".concat("Poor"===r?"text-red-600":"Fair"===r?"text-yellow-600":"text-green-600")}),(0,Te.jsx)("span",{className:"text-xs font-medium uppercase tracking-wide ".concat("Poor"===r?"text-red-800":"Fair"===r?"text-yellow-800":"text-green-800"),children:"Creditworthiness"})]}),(0,Te.jsx)("p",{className:"text-lg font-bold ".concat("Poor"===r?"text-red-900":"Fair"===r?"text-yellow-900":"text-green-900"),children:r}),(0,Te.jsx)("p",{className:"text-xs mt-1 ".concat("Poor"===r?"text-red-700":"Fair"===r?"text-yellow-700":"text-green-700"),children:"Based on legal history and case outcomes"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Te.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Te.jsx)("span",{className:"text-xs text-slate-600",children:"Unfavorable Rate"}),(0,Te.jsxs)("span",{className:"text-sm font-semibold ".concat(n>50?"text-red-600":n>25?"text-yellow-600":"text-green-600"),children:[n.toFixed(1),"%"]})]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1",children:(0,Te.jsx)("div",{className:"h-1 rounded-full ".concat(n>50?"bg-red-500":n>25?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(n,100),"%")}})})]}),(0,Te.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Te.jsx)("span",{className:"text-xs text-slate-600",children:"Unresolved Rate"}),(0,Te.jsxs)("span",{className:"text-sm font-semibold ".concat(l>60?"text-red-600":l>30?"text-yellow-600":"text-green-600"),children:[l.toFixed(1),"%"]})]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1",children:(0,Te.jsx)("div",{className:"h-1 rounded-full ".concat(l>60?"bg-red-500":l>30?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(l,100),"%")}})})]})]}),(null===k||void 0===k?void 0:k.total_monetary_amount)&&k.total_monetary_amount>0&&(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(Wt,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-blue-800 uppercase tracking-wide",children:"Monetary Involvement"})]}),(0,Te.jsxs)("p",{className:"text-lg font-bold text-blue-900",children:["$",k.total_monetary_amount.toLocaleString()]}),k.average_case_value&&k.average_case_value>0&&(0,Te.jsxs)("p",{className:"text-xs text-blue-700 mt-1",children:["Avg per case: $",k.average_case_value.toLocaleString()]})]}),(0,Te.jsx)("div",{className:"mt-3 p-3 bg-slate-50 rounded-lg",children:(0,Te.jsxs)("p",{className:"text-xs text-slate-600",children:[(0,Te.jsx)("strong",{children:"Banking Recommendation:"})," ","Poor"===r?"High risk - Enhanced due diligence required":"Fair"===r?"Medium risk - Standard monitoring recommended":"Low risk - Standard banking services suitable"]})})]})})()})]})]})]})}),(0,Te.jsx)(Gt,{isOpen:P,onClose:()=>L(!1),caseData:T,entityType:"Person",entityName:null===l||void 0===l?void 0:l.name}),(0,Te.jsx)(Gt,{isOpen:D,onClose:()=>O(!1),caseData:null,entityType:"Person",entityName:null===l||void 0===l?void 0:l.full_name,isProfileRequest:!0})]})},Yt=Ge("Gavel",[["path",{d:"m14 13-7.5 7.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L11 10",key:"c9cbz0"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]),$t=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Jt=()=>{const[e]=Le(),t=se(),[s,a]=(0,n.useState)(null),l={id:1,title:"Loan Default Case vs. John Smith",caseNumber:"GCB/2024/001",status:"Active",date:"2024-01-10",type:"Commercial Law",outcome:"Pending",court:"Commercial Court, Accra",courtType:"Commercial Court",region:"Greater Accra",judge:"Justice Sarah Mensah",plaintiff:"Ghana Commercial Bank",defendant:"John Smith",description:"Default on business loan of GHS 500,000. Bank seeking recovery of outstanding amount plus interest. The case involves complex financial documentation and requires expert testimony on banking procedures and loan agreements.",amount:"GHS 500,000",riskLevel:"High",dates:[{type:"Filing",date:"2024-01-10",description:"Case filed with court"},{type:"First Hearing",date:"2024-02-15",description:"Initial hearing scheduled"},{type:"Evidence Hearing",date:"2024-03-20",description:"Evidence presentation"},{type:"Expert Testimony",date:"2024-03-25",description:"Banking expert testimony"},{type:"Ruling",date:"2024-04-10",description:"Court ruling expected"}],documents:[{name:"Loan Agreement",type:"Contract",date:"2023-06-15"},{name:"Default Notice",type:"Legal Notice",date:"2023-12-01"},{name:"Financial Statements",type:"Evidence",date:"2024-01-05"},{name:"Expert Report",type:"Expert Opinion",date:"2024-03-20"}],relatedCases:[{id:2,title:"Contract Dispute - XYZ Ltd",caseNumber:"GCB/2024/002",status:"Active"},{id:3,title:"Fraud Investigation - ABC Corp",caseNumber:"GCB/2023/156",status:"Resolved"}]};if((0,n.useEffect)(()=>{const t=e.get("caseId"),s=e.get("source"),n=e.get("institutionId");t&&a(Ue(Ue({},l),{},{source:s||"search",institutionId:n,institutionName:"bank"===s?"Ghana Commercial Bank":"insurance"===s?"SIC Insurance Company":null}))},[e]),!s)return(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading case details..."})]})});const r=e=>{switch(e){case"Low":return"bg-emerald-50 text-emerald-600 ring-emerald-200";case"Medium":return"bg-amber-50 text-amber-600 ring-amber-200";case"High":return"bg-red-50 text-red-600 ring-red-200";default:return"bg-slate-50 text-slate-600 ring-slate-200"}},i=e=>{switch(e){case"Active":return"bg-amber-100 text-amber-700";case"Resolved":return"bg-emerald-100 text-emerald-700";default:return"bg-slate-100 text-slate-700"}};return(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"bg-white border-b border-slate-200",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-3",children:(0,Te.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[(0,Te.jsx)("button",{onClick:()=>t("/"),className:"hover:text-slate-900 transition-colors",children:"Home"}),(0,Te.jsx)("span",{children:"/"}),"bank"===s.source&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>t("/banks"),className:"hover:text-slate-900 transition-colors",children:"Banks"}),(0,Te.jsx)("span",{children:"/"}),(0,Te.jsx)("button",{onClick:()=>t("/bank-detail?bankId=".concat(s.institutionId)),className:"hover:text-slate-900 transition-colors",children:s.institutionName}),(0,Te.jsx)("span",{children:"/"})]}),"insurance"===s.source&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>t("/insurance"),className:"hover:text-slate-900 transition-colors",children:"Insurance"}),(0,Te.jsx)("span",{children:"/"}),(0,Te.jsx)("button",{onClick:()=>t("/insurance-detail?insuranceId=".concat(s.institutionId)),className:"hover:text-slate-900 transition-colors",children:s.institutionName}),(0,Te.jsx)("span",{children:"/"})]}),"search"===s.source&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>t("/results"),className:"hover:text-slate-900 transition-colors",children:"Search Results"}),(0,Te.jsx)("span",{children:"/"})]}),(0,Te.jsx)("span",{className:"text-slate-900",children:s.title})]})})}),(0,Te.jsx)("div",{className:"bg-white border-b border-slate-200",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Te.jsx)("div",{className:"h-16 w-16 rounded-full bg-sky-100 flex items-center justify-center",children:(0,Te.jsx)(Yt,{className:"h-8 w-8 text-sky-600"})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:s.title}),(0,Te.jsxs)("p",{className:"text-lg text-slate-600",children:[s.caseNumber," \u2022 ",s.court]}),(0,Te.jsxs)("div",{className:"mt-2 flex items-center gap-4",children:[(0,Te.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full px-3 py-1 text-sm font-semibold ring-1 ".concat(r(s.riskLevel)),children:[(0,Te.jsx)("span",{className:"inline-block h-2 w-2 rounded-full ".concat(r(s.riskLevel).split(" ")[1].replace("text-","bg-"))}),s.riskLevel," Risk"]}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-sm font-medium ".concat(i(s.status)),children:s.status}),(0,Te.jsxs)("span",{className:"text-sm text-slate-500",children:["Amount: ",s.amount]})]})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("button",{className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[(0,Te.jsx)($t,{className:"h-4 w-4"}),"Export Case"]}),(0,Te.jsxs)("button",{className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(xt,{className:"h-4 w-4"}),"View Documents"]})]})]})})}),(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,Te.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Case Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Case Number"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.caseNumber})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Case Type"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.type})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Court"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.court})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Judge"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.judge})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Plaintiff"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.plaintiff})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-600",children:"Defendant"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.defendant})]})]})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Case Description"}),(0,Te.jsx)("div",{className:"bg-slate-50 rounded-lg p-4",children:(0,Te.jsx)("p",{className:"text-slate-700 leading-relaxed",children:s.description})})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Case Timeline"}),(0,Te.jsx)("div",{className:"space-y-4",children:s.dates.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)("div",{className:"h-8 w-8 rounded-full bg-sky-100 flex items-center justify-center",children:(0,Te.jsx)(Qe,{className:"h-4 w-4 text-sky-600"})})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Te.jsx)("h3",{className:"font-medium text-slate-900",children:e.type}),(0,Te.jsx)("span",{className:"text-sm text-slate-500",children:e.date})]}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:e.description})]})]},t))})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Case Documents"}),(0,Te.jsx)("div",{className:"space-y-3",children:s.documents.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 border border-slate-200 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)(xt,{className:"h-5 w-5 text-slate-400"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:[e.type," \u2022 ",e.date]})]})]}),(0,Te.jsx)("button",{className:"text-sky-600 hover:text-sky-700 text-sm font-medium",children:"View"})]},t))})]})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Case Status"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Status"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-sm font-medium ".concat(i(s.status)),children:s.status})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Outcome"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.outcome})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Risk Level"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-sm font-medium ".concat(r(s.riskLevel)),children:s.riskLevel})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Amount"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.amount})]})]})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Court Information"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 text-slate-400"}),(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:s.courtType})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(gt,{className:"h-4 w-4 text-slate-400"}),(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:s.region})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(Yt,{className:"h-4 w-4 text-slate-400"}),(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:s.judge})]})]})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Related Cases"}),(0,Te.jsx)("div",{className:"space-y-3",children:s.relatedCases.map(e=>(0,Te.jsxs)("div",{className:"p-3 border border-slate-200 rounded-lg hover:border-sky-300 transition-colors",children:[(0,Te.jsx)("h3",{className:"font-medium text-slate-900 text-sm",children:e.title}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:e.caseNumber}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(i(e.status)),children:e.status})]},e.id))})]})]})]})})]})},Kt=Ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Qt=Ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Xt=Ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Zt=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),es=Ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ts=Ge("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ss=Ge("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),as=Ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),ns=Ge("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),ls=Ge("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),rs=Ge("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),is=Ge("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),os=()=>{var e,t,s,a,l,r,i,o,c,d;const{caseId:m}=ae(),u=se(),x=ee(),[h,p]=(0,n.useState)(null),[g,f]=(0,n.useState)([]),[b,j]=(0,n.useState)(null),[v,y]=(0,n.useState)(!0),[N,w]=(0,n.useState)(null),[k,_]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[A,E]=(0,n.useState)(""),[M,I]=(0,n.useState)([]),[P,L]=(0,n.useState)(0),[T,R]=(0,n.useState)(!1),[D,O]=(0,n.useState)(!1),[F,z]=(0,n.useState)(!1),[B,U]=(0,n.useState)({basicInfo:!0,caseSummary:!0,people:!1,riskAssessment:!0,financialImpact:!0,caseTimeline:!0,caseDocuments:!0,subjectMatter:!0}),H=new URLSearchParams(x.search),V=H.get("q")||"",W=H.get("search")||V;(0,n.useEffect)(()=>{if(console.log("CaseDetails useEffect triggered with caseId:",m),m){const e=x.state;e&&e.originalPersonCases&&j(e.originalPersonCases),G()}else console.error("No caseId provided"),w("No case ID provided"),y(!1)},[m,x.state]);const G=async()=>{try{y(!0),console.log("Loading case details for caseId:",m);const e=localStorage.getItem("accessToken")||"test-token-123";console.log("Using token:",e?"Present":"Missing");const t=await fetch("http://localhost:8000/api/case-search/".concat(m,"/details"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("API Response status:",t.status),t.ok){const e=await t.json();console.log("Case data loaded:",e),p(e);const s=q(e);console.log("Is insurance case:",s),s?await Y(e):await $()}else{const e=await t.text();console.error("API Error:",e),w("Failed to load case details: ".concat(t.status," - ").concat(e))}}catch(e){w("Error loading case details"),console.error("Error:",e)}finally{y(!1)}},q=e=>{const t=(null===e||void 0===e?void 0:e.protagonist)||"",s=(null===e||void 0===e?void 0:e.antagonist)||"",a=(null===e||void 0===e?void 0:e.title)||"";return["SIC Insurance","Vanguard Assurance","Metropolitan Insurance","Enterprise Insurance","Ghana Reinsurance","Star Assurance","Provident Insurance","Donewell Insurance","GLICO Insurance","Quality Insurance","Prudential Life Insurance","Old Mutual Life Assurance","Sanlam Life Insurance","Allianz Life Insurance","AXA Mansard Insurance","Zenith General Insurance","Cornerstone Insurance","Leadway Assurance","Mutual Benefits Assurance","Custodian Life Insurance","FBN Insurance","AIICO Insurance","Lagos Building Investment","NEM Insurance","Wapic Insurance","Sovereign Trust Insurance","Consolidated Hallmark Insurance","Linkage Assurance","Lasaco Assurance","Royal Exchange General Insurance","Hygeia HMO","Avon Healthcare","Clearline HMO","Reliance HMO","Total Health Trust","Health Partners HMO","Mediplan Healthcare","Wellness HMO","Ultimate Health HMO","Prepaid Medicare","IHMS HMO","Ronsberger HMO","Vcare HMO","Healthguard HMO","ProHealth HMO","Healthplus HMO","SIC Insurance Company","Vanguard Assurance Company","Metropolitan Insurance Company","Enterprise Insurance Company","Ghana Reinsurance Company","Star Assurance Company","Provident Insurance Company","Donewell Insurance Company","GLICO General Insurance","Quality Insurance Company","Prudential Life Insurance Company","Old Mutual Life Assurance Company","Sanlam Life Insurance Company","Allianz Life Insurance Company","AXA Mansard Insurance Company","Zenith General Insurance Company","Cornerstone Insurance Company","Leadway Assurance Company","Mutual Benefits Assurance Company","Custodian Life Insurance Company","FBN Insurance Company","AIICO Insurance Company","Lagos Building Investment Company","NEM Insurance Company","Wapic Insurance Company","Sovereign Trust Insurance Company","Consolidated Hallmark Insurance Company","Linkage Assurance Company","Lasaco Assurance Company","Royal Exchange General Insurance Company","Hygeia HMO Company","Avon Healthcare Company","Clearline HMO Company","Reliance HMO Company","Total Health Trust Company","Health Partners HMO Company","Mediplan Healthcare Company","Wellness HMO Company","Ultimate Health HMO Company","Prepaid Medicare Company","IHMS HMO Company","Ronsberger HMO Company","Vcare HMO Company","Healthguard HMO Company","ProHealth HMO Company","Healthplus HMO Company"].some(e=>t.toLowerCase().includes(e.toLowerCase())||s.toLowerCase().includes(e.toLowerCase())||a.toLowerCase().includes(e.toLowerCase()))},Y=async e=>{try{const t=["SIC Insurance","Vanguard Assurance","Metropolitan Insurance","Enterprise Insurance","Ghana Reinsurance","Star Assurance","Provident Insurance","Donewell Insurance","GLICO Insurance","Quality Insurance","Prudential Life Insurance","Old Mutual Life Assurance","Sanlam Life Insurance","Allianz Life Insurance","AXA Mansard Insurance","Zenith General Insurance","Cornerstone Insurance","Leadway Assurance","Mutual Benefits Assurance","Custodian Life Insurance","FBN Insurance","AIICO Insurance","Lagos Building Investment","NEM Insurance","Wapic Insurance","Sovereign Trust Insurance","Consolidated Hallmark Insurance","Linkage Assurance","Lasaco Assurance","Royal Exchange General Insurance","Hygeia HMO","Avon Healthcare","Clearline HMO","Reliance HMO","Total Health Trust","Health Partners HMO","Mediplan Healthcare","Wellness HMO","Ultimate Health HMO","Prepaid Medicare","IHMS HMO","Ronsberger HMO","Vcare HMO","Healthguard HMO","ProHealth HMO","Healthplus HMO","SIC Insurance Company","Vanguard Assurance Company","Metropolitan Insurance Company","Enterprise Insurance Company","Ghana Reinsurance Company","Star Assurance Company","Provident Insurance Company","Donewell Insurance Company","GLICO General Insurance","Quality Insurance Company","Prudential Life Insurance Company","Old Mutual Life Assurance Company","Sanlam Life Insurance Company","Allianz Life Insurance Company","AXA Mansard Insurance Company","Zenith General Insurance Company","Cornerstone Insurance Company","Leadway Assurance Company","Mutual Benefits Assurance Company","Custodian Life Insurance Company","FBN Insurance Company","AIICO Insurance Company","Lagos Building Investment Company","NEM Insurance Company","Wapic Insurance Company","Sovereign Trust Insurance Company","Consolidated Hallmark Insurance Company","Linkage Assurance Company","Lasaco Assurance Company","Royal Exchange General Insurance Company","Hygeia HMO Company","Avon Healthcare Company","Clearline HMO Company","Reliance HMO Company","Total Health Trust Company","Health Partners HMO Company","Mediplan Healthcare Company","Wellness HMO Company","Ultimate Health HMO Company","Prepaid Medicare Company","IHMS HMO Company","Ronsberger HMO Company","Vcare HMO Company","Healthguard HMO Company","ProHealth HMO Company","Healthplus HMO Company"],s=(null===e||void 0===e?void 0:e.protagonist)||"",a=(null===e||void 0===e?void 0:e.antagonist)||"",n=(null===e||void 0===e?void 0:e.title)||"",l=t.find(e=>s.toLowerCase().includes(e.toLowerCase())||a.toLowerCase().includes(e.toLowerCase())||n.toLowerCase().includes(e.toLowerCase()));if(l){console.log("Found insurance company:",l);const e=await fetch("http://localhost:8000/api/case-search/search?query=".concat(encodeURIComponent(l),"&limit=8"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("accessToken")||"test-token-123"),"Content-Type":"application/json"}});if(e.ok){const t=await e.json();console.log("Insurance-related cases loaded:",t);const s=(t.results||[]).filter(e=>e.id!==parseInt(m));f(s)}else console.log("Failed to load insurance-related cases"),f([])}else console.log("No insurance company found in case data"),f([])}catch(t){console.error("Error loading insurance-related cases:",t),f([])}},$=async()=>{try{const e=localStorage.getItem("accessToken")||"test-token-123",t=await fetch("http://localhost:8000/api/case-search/".concat(m,"/related-cases?limit=8"),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(t.ok){const e=await t.json();if(console.log("Related cases loaded:",e),b){const t=b.map(e=>e.id);console.log("Original person case IDs:",t),console.log("Related cases from API:",e.related_cases);const s=e.related_cases.filter(e=>t.includes(e.id));console.log("Filtered to original person cases:",s),f(s)}else console.log("No original person cases, showing all related cases:",e.related_cases),f(e.related_cases||[])}else console.log("Failed to load related cases, continuing without them"),f([])}catch(e){console.error("Error loading person-related cases:",e),f([])}},J=e=>{U(t=>Ue(Ue({},t),{},{[e]:!t[e]}))},K=()=>{S(!0),setTimeout(()=>{_(!1),S(!1),E(""),I([]),L(0)},300)},Q=()=>{if(M.length>0){const e=(P+1)%M.length;L(e),Z(e)}},X=()=>{if(M.length>0){const e=0===P?M.length-1:P-1;L(e),Z(e)}},Z=e=>{const t=document.querySelectorAll(".bg-yellow-300");t[e]&&(t[e].scrollIntoView({behavior:"smooth",block:"center"}),t[e].classList.add("bg-yellow-400"),setTimeout(()=>{t[e].classList.remove("bg-yellow-400")},1e3))},te=()=>(()=>{var e;return(null===h||void 0===h?void 0:h.summernote_content)||(null===h||void 0===h?void 0:h.summernote)||(null===h||void 0===h?void 0:h.summarnote)||(null===h||void 0===h||null===(e=h.metadata)||void 0===e?void 0:e.case_summary)||(null===h||void 0===h?void 0:h.case_summary)||""})().replace(/<[^>]*>/g,""),ne=async()=>{try{await navigator.clipboard.writeText(te());const e=document.querySelector("[data-copy-button]");if(e){const t=e.innerHTML;e.innerHTML='<Check className="w-4 h-4" /><span>Copied!</span>',setTimeout(()=>{e.innerHTML=t},2e3)}}catch(e){console.error("Failed to copy: ",e)}},le=()=>{const e=te(),t=(null===h||void 0===h?void 0:h.title)||"Case Details",s="".concat(t.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".txt"),a=new Blob([e],{type:"text/plain"}),n=window.URL.createObjectURL(a),l=document.createElement("a");l.href=n,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n)},re=()=>{O(!D)};(0,n.useEffect)(()=>{const e=e=>{var t;if(k){if(e.ctrlKey||e.metaKey)switch(e.key){case"f":e.preventDefault(),null===(t=document.querySelector('input[placeholder*="Search within case content"]'))||void 0===t||t.focus();break;case"g":e.preventDefault(),e.shiftKey?X():Q();break;case"c":e.preventDefault(),ne();break;case"s":e.preventDefault(),le();break;case"Enter":e.shiftKey&&(e.preventDefault(),re())}"Escape"===e.key&&(D?O(!1):K())}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[k,M,P,D]),(0,n.useEffect)(()=>{const e=e=>{F&&!e.target.closest("[data-share-menu]")&&z(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[F]);const ie=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return e}},oe=e=>e&&Array.isArray(e)?e:[],ce=e=>{if(!e)return"N/A";return{SC:"Supreme Court",HC:"High Court",CA:"Court of Appeal","supreme court":"Supreme Court","high court":"High Court","court of appeal":"Court of Appeal","SUPREME COURT":"Supreme Court","HIGH COURT":"High Court","COURT OF APPEAL":"Court of Appeal"}[e]||e},de=e=>{let{title:t,icon:s,isExpanded:a,onToggle:n}=e;return(0,Te.jsxs)("button",{onClick:n,className:"w-full flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(s,{className:"w-5 h-5 text-blue-600"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t})]}),a?(0,Te.jsx)(Pt,{className:"w-5 h-5"}):(0,Te.jsx)(Xe,{className:"w-5 h-5"})]})},me=e=>{let{label:t,value:s,icon:a,copyable:n=!1}=e;return s?(0,Te.jsxs)("div",{className:"flex items-start space-x-3 py-2",children:[a&&(0,Te.jsx)(a,{className:"w-4 h-4 text-gray-500 mt-1 flex-shrink-0"}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[t,":"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"text-sm text-gray-900",children:s}),n&&(0,Te.jsx)("button",{onClick:()=>{return e=s,void navigator.clipboard.writeText(e);var e},className:"p-1 hover:bg-gray-200 rounded",title:"Copy to clipboard",children:(0,Te.jsx)(Qt,{className:"w-3 h-3"})})]})]})]}):null},ue=e=>{let{label:t,items:s,icon:a}=e;return s&&Array.isArray(s)&&0!==s.length?(0,Te.jsxs)("div",{className:"py-2",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[a&&(0,Te.jsx)(a,{className:"w-4 h-4 text-gray-500"}),(0,Te.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:[t,":"]})]}),(0,Te.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map((e,t)=>(0,Te.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:e},t))})]}):null};return v?(0,Te.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Loading case details..."})]})}):N?(0,Te.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Ye,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-red-600",children:N}),(0,Te.jsx)("button",{onClick:()=>u(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})}):h?(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-white shadow-sm border-b z-50",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("button",{onClick:()=>u(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Te.jsx)(zt,{className:"w-5 h-5"})}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[V&&(0,Te.jsxs)("div",{className:"mb-2",children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-blue-900 break-words leading-tight",children:V}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-blue-600",children:[(0,Te.jsx)(St,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Person Profile"})]})]}),(()=>{const e=(null===h||void 0===h?void 0:h.protagonist)||"",t=(null===h||void 0===h?void 0:h.antagonist)||"",s=(null===h||void 0===h?void 0:h.title)||"",a=["Access Bank","Ghana Commercial Bank","Ecobank","Standard Chartered Bank","Absa Bank","Fidelity Bank","Agricultural Development Bank","Bank of Africa","Bank of Ghana","Consolidated Bank Ghana","First Atlantic Bank","Guaranty Trust Bank","National Investment Bank","Omnibsic Bank","Prudential Bank","Societe Generale","Stanbic Bank","The Royal Bank","Universal Merchant Bank","Zenith Bank","ABII National Bank","CalBank","CBG Bank","First Bank of Nigeria","Ghana Exim Bank","NIB Bank","Republic Bank","Societe Generale Bank"].find(a=>e.toLowerCase().includes(a.toLowerCase())||t.toLowerCase().includes(a.toLowerCase())||s.toLowerCase().includes(a.toLowerCase()));return a?(0,Te.jsxs)("div",{className:"mb-2",children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-green-900 break-words leading-tight",children:a}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-green-600",children:[(0,Te.jsx)(wt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Bank Profile"})]})]}):null})(),(()=>{const e=(null===h||void 0===h?void 0:h.protagonist)||"",t=(null===h||void 0===h?void 0:h.antagonist)||"",s=(null===h||void 0===h?void 0:h.title)||"",a=["SIC Insurance","Vanguard Assurance","Metropolitan Insurance","Enterprise Insurance","Ghana Reinsurance","Star Assurance","Provident Insurance","Donewell Insurance","GLICO Insurance","Quality Insurance","Prudential Life Insurance","Old Mutual Life Assurance","Sanlam Life Insurance","Allianz Life Insurance","AXA Mansard Insurance","Zenith General Insurance","Cornerstone Insurance","Leadway Assurance","Mutual Benefits Assurance","Custodian Life Insurance","FBN Insurance","AIICO Insurance","Lagos Building Investment","NEM Insurance","Wapic Insurance","Sovereign Trust Insurance","Consolidated Hallmark Insurance","Linkage Assurance","Lasaco Assurance","Royal Exchange General Insurance","Hygeia HMO","Avon Healthcare","Clearline HMO","Reliance HMO","Total Health Trust","Health Partners HMO","Mediplan Healthcare","Wellness HMO","Ultimate Health HMO","Prepaid Medicare","IHMS HMO","Ronsberger HMO","Vcare HMO","Healthguard HMO","ProHealth HMO","Healthplus HMO","SIC Insurance Company","Vanguard Assurance Company","Metropolitan Insurance Company","Enterprise Insurance Company","Ghana Reinsurance Company","Star Assurance Company","Provident Insurance Company","Donewell Insurance Company","GLICO General Insurance","Quality Insurance Company","Prudential Life Insurance Company","Old Mutual Life Assurance Company","Sanlam Life Insurance Company","Allianz Life Insurance Company","AXA Mansard Insurance Company","Zenith General Insurance Company","Cornerstone Insurance Company","Leadway Assurance Company","Mutual Benefits Assurance Company","Custodian Life Insurance Company","FBN Insurance Company","AIICO Insurance Company","Lagos Building Investment Company","NEM Insurance Company","Wapic Insurance Company","Sovereign Trust Insurance Company","Consolidated Hallmark Insurance Company","Linkage Assurance Company","Lasaco Assurance Company","Royal Exchange General Insurance Company","Hygeia HMO Company","Avon Healthcare Company","Clearline HMO Company","Reliance HMO Company","Total Health Trust Company","Health Partners HMO Company","Mediplan Healthcare Company","Wellness HMO Company","Ultimate Health HMO Company","Prepaid Medicare Company","IHMS HMO Company","Ronsberger HMO Company","Vcare HMO Company","Healthguard HMO Company","ProHealth HMO Company","Healthplus HMO Company"].find(a=>e.toLowerCase().includes(a.toLowerCase())||t.toLowerCase().includes(a.toLowerCase())||s.toLowerCase().includes(a.toLowerCase()));return a?(0,Te.jsxs)("div",{className:"mb-2",children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-blue-900 break-words leading-tight",children:a}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-blue-600",children:[(0,Te.jsx)(ot,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Insurance Profile"})]})]}):null})(),(0,Te.jsx)("h2",{className:"text-xl font-bold text-gray-900 break-words leading-tight",children:(null===h||void 0===h?void 0:h.title)||"Case Details"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[W&&(0,Te.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Searched for:"}),(0,Te.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs",children:['"',W,'"']})]}),(null===h||void 0===h?void 0:h.suit_reference_number)&&(0,Te.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,Te.jsx)(Ht,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:h.suit_reference_number})]})]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"favorable":return(0,Te.jsx)(qe,{className:"w-5 h-5 text-green-500"});case"unfavorable":return(0,Te.jsx)(Kt,{className:"w-5 h-5 text-red-500"});case"mixed":return(0,Te.jsx)(Ye,{className:"w-5 h-5 text-yellow-500"});default:return(0,Te.jsx)(Qe,{className:"w-5 h-5 text-gray-400"})}})(null===h||void 0===h||null===(e=h.metadata)||void 0===e?void 0:e.outcome),(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:(null===h||void 0===h||null===(t=h.metadata)||void 0===t?void 0:t.outcome)||"Unknown"})]})]})})}),(0,Te.jsx)("div",{className:"h-24"}),(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,Te.jsxs)("div",{className:"flex-1 space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(de,{title:"Basic Information",icon:xt,isExpanded:B.basicInfo,onToggle:()=>J("basicInfo")}),B.basicInfo&&(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Te.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,Te.jsx)("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Case Details"})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(Ht,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-blue-800 uppercase tracking-wide",children:"Suit Reference"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-blue-900 break-all",children:h.suit_reference_number||"N/A"})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(Xt,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Date"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:ie(h.date)})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(Xt,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Year"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:h.year||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Te.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,Te.jsx)("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Court Information"})]}),(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(wt,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-green-800 uppercase tracking-wide",children:"Court Type"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-green-900",children:ce(h.court_type)})]})})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Te.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,Te.jsx)("h3",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Publication & Location"})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(Zt,{className:"w-4 h-4 text-purple-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-purple-800 uppercase tracking-wide",children:"Citation"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-purple-900 break-all",children:h.citation||"N/A"})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(gt,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Town"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:h.town||"N/A"})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(gt,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Region"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:(e=>{if(!e)return"N/A";return{GAR:"Greater Accra Region",ASR:"Ashanti Region",UWR:"Upper West Region",UER:"Upper East Region",NR:"Northern Region",BR:"Brong-Ahafo Region",VR:"Volta Region",ER:"Eastern Region",CR:"Central Region",WR:"Western Region",WNR:"Western North Region",AHA:"Ahafo Region",BON:"Bono Region",BON:"Bono East Region",OTI:"Oti Region",SAV:"Savannah Region",NEA:"North East Region"}[e.toUpperCase()]||e})(h.region)})]})]})]})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(de,{title:"Case Outcome Summary",icon:xt,isExpanded:B.caseSummary,onToggle:()=>J("caseSummary")}),B.caseSummary&&(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-6 rounded-lg",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(xt,{className:"w-5 h-5 text-blue-600"})})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-blue-900",children:"Banking-Focused Case Summary"}),(0,Te.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"AI Generated"})]}),(0,Te.jsx)("div",{className:"text-gray-800 leading-relaxed",children:((e,t,s)=>{const a=(null===h||void 0===h||null===(e=h.metadata)||void 0===e?void 0:e.case_summary)||(null===h||void 0===h?void 0:h.case_summary)||"No AI-generated summary available for this case.";if("No AI-generated summary available for this case."===a)return(0,Te.jsx)("div",{className:"text-gray-500 italic",children:a});const n=a.split("|").map(e=>e.trim()),l=null===(t=n.find(e=>e.startsWith("OUTCOME:")))||void 0===t?void 0:t.replace("OUTCOME:","").trim(),r=(null===(s=n.find(e=>e.startsWith("FACTS:")))||void 0===s||s.replace("FACTS:","").trim(),(()=>{const e=(null===h||void 0===h?void 0:h.decision)||(null===h||void 0===h?void 0:h.judgement)||"",t=(null===h||void 0===h?void 0:h.conclusion)||"",s=(e+" "+t+" "+((null===h||void 0===h?void 0:h.title)||"")+" "+((null===h||void 0===h?void 0:h.case_summary)||"")).toLowerCase();let a="UNRESOLVED",n="",l="",r="";["allowed","granted","upheld","successful","won","favorable","in favor","succeeded","victory","prevailed"].some(e=>s.includes(e))?a="WON":["partially allowed","partially granted","in part","some relief"].some(e=>s.includes(e))?a="PARTIALLY WON":["dismissed","rejected","denied","unsuccessful","lost","unfavorable","against","failed","defeated","overruled"].some(e=>s.includes(e))?a="LOST":["partially dismissed","partially rejected","in part dismissed"].some(e=>s.includes(e))&&(a="PARTIALLY LOST");const i=["pay","compensate","refund","return","restore","cease","desist","remove","demolish","construct","repair","maintain","provide"];if(["ordered","directed","injunction","restraining","mandatory","prohibitory","enjoined","restrained","compelled","required","commanded","decreed","permanent injunction","temporary injunction","interim order","final order"].some(e=>s.includes(e))){n=i.some(e=>s.includes(e))?"Court issued specific actionable orders requiring compliance":"Court issued general orders or directives"}else n="No specific court orders identified";const o=["million","thousand","substantial","significant","large"],c=["nominal","minimal","small","token"];l=["damages","compensation","fine","penalty","costs","award","settlement","restitution","reimbursement","refund","payment","monetary","financial","ghc","cedis","dollars","amount","sum","value","price"].some(e=>s.includes(e))?o.some(e=>s.includes(e))?"HIGH - Case involves substantial monetary amounts or significant financial implications":c.some(e=>s.includes(e))?"LOW - Case involves minimal monetary amounts or token financial implications":"MODERATE - Case involves monetary amounts with moderate financial implications":"NONE - No clear monetary amounts or financial implications identified";if(["judgment","ruling","decision","verdict","finding","conclusion","determination","resolution","settlement","agreement"].some(e=>s.includes(e))){if(r="Case ".concat(a.toLowerCase()," with ").concat(n.toLowerCase(),". ").concat(l,". "),s.includes("contract")?r+="Contract-related dispute with legal implications for business relationships.":s.includes("property")||s.includes("land")?r+="Property/land dispute with potential asset implications.":s.includes("employment")||s.includes("labor")?r+="Employment-related matter with workplace implications.":s.includes("criminal")||s.includes("fraud")?r+="Criminal or fraud-related matter with serious legal implications.":r+="General legal matter with standard legal implications.",t&&t.trim()){const e=t.replace(/<[^>]*>/g,"").trim();e.length>0&&(r+=" Court Conclusion: ".concat(e.substring(0,200)).concat(e.length>200?"...":""))}}else r="Case outcome details not clearly specified in available information.";return{wonLost:a,courtOrders:n,financialImpact:l,detailedOutcome:r}})());return(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[(0,Te.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"CASE OUTCOME"]}),(0,Te.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("WON"===r.wonLost?"bg-green-100 text-green-800":"PARTIALLY WON"===r.wonLost?"bg-green-50 text-green-700 border border-green-200":"LOST"===r.wonLost?"bg-red-100 text-red-800":"PARTIALLY LOST"===r.wonLost?"bg-red-50 text-red-700 border border-red-200":"bg-yellow-100 text-yellow-800"),children:"WON"===r.wonLost?"\u2713 WON":"PARTIALLY WON"===r.wonLost?"\u25d0 PARTIALLY WON":"LOST"===r.wonLost?"\u2717 LOST":"PARTIALLY LOST"===r.wonLost?"\u25d1 PARTIALLY LOST":"\u23f3 UNRESOLVED"}),(0,Te.jsx)("p",{className:"text-gray-700 mt-2",children:"WON"===r.wonLost?"The person was fully successful in this case.":"PARTIALLY WON"===r.wonLost?"The person achieved partial success in this case.":"LOST"===r.wonLost?"The person was unsuccessful in this case.":"PARTIALLY LOST"===r.wonLost?"The person had partial setbacks in this case.":"The case outcome is not clearly determined from available information."})]}),(0,Te.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-orange-500",children:[(0,Te.jsxs)("h4",{className:"font-semibold text-orange-900 mb-2 flex items-center",children:[(0,Te.jsx)("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"COURT ORDERS"]}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.courtOrders})]}),(0,Te.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("h4",{className:"font-semibold text-green-900 mb-2 flex items-center",children:[(0,Te.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"FINANCIAL IMPACT"]}),(0,Te.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mb-2 ".concat(r.financialImpact.includes("HIGH")?"bg-red-100 text-red-800":r.financialImpact.includes("MODERATE")?"bg-yellow-100 text-yellow-800":r.financialImpact.includes("LOW")?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:r.financialImpact.split(" - ")[0]}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.financialImpact})]}),(0,Te.jsxs)("div",{className:"bg-white p-4 rounded-lg border-l-4 border-purple-500",children:[(0,Te.jsxs)("h4",{className:"font-semibold text-purple-900 mb-2 flex items-center",children:[(0,Te.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"DETAILED OUTCOME"]}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:r.detailedOutcome}),l&&(0,Te.jsx)("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg",children:(0,Te.jsxs)("p",{className:"text-sm text-purple-800",children:[(0,Te.jsx)("strong",{children:"Additional Details:"})," ",l]})})]})]})})()}),(0,Te.jsx)("div",{className:"mt-4 text-xs text-gray-500 italic",children:"This summary focuses on case outcomes and financial implications relevant for banking and credit assessment purposes."})]})]})})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(de,{title:"People Involved",icon:ct,isExpanded:B.people,onToggle:()=>J("people")}),B.people&&(0,Te.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Te.jsx)(me,{label:"Judgement By",value:h.judgement_by,icon:Yt}),(0,Te.jsx)(me,{label:"Opinion By",value:h.opinion_by,icon:Yt}),(0,Te.jsx)(me,{label:"Protagonist",value:h.protagonist,icon:St}),null!==(s=h.metadata)&&void 0!==s&&s.lawyers&&oe(h.metadata.lawyers).length>0?(0,Te.jsx)(ue,{label:"Lawyers",items:oe(h.metadata.lawyers),icon:St}):(0,Te.jsx)(me,{label:"Lawyers",value:h.lawyers,icon:St}),h.metadata&&(0,Te.jsx)(Te.Fragment,{children:(0,Te.jsx)(ue,{label:"Judges",items:oe(h.metadata.judges),icon:Yt})})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(de,{title:"Case Document",icon:xt,isExpanded:B.caseDocuments,onToggle:()=>J("caseDocuments")}),B.caseDocuments&&(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Te.jsx)(xt,{className:"w-5 h-5 text-gray-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-gray-800 uppercase tracking-wide",children:"Document Information"})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"w-full",children:[(0,Te.jsx)("thead",{children:(0,Te.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,Te.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Date"}),(0,Te.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Nature of Doc"}),(0,Te.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Doc. By"}),(0,Te.jsx)("th",{className:"text-center py-3 px-4 text-sm font-semibold text-gray-700 uppercase tracking-wide",children:"Actions"})]})}),(0,Te.jsx)("tbody",{children:(0,Te.jsxs)("tr",{className:"border-b border-gray-100 hover:bg-white transition-colors",children:[(0,Te.jsx)("td",{className:"py-3 px-4 text-sm text-gray-900",children:null!==h&&void 0!==h&&h.date?ie(h.date):"N/A"}),(0,Te.jsxs)("td",{className:"py-3 px-4 text-sm text-gray-900",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Zt,{className:"w-4 h-4 text-blue-500"}),(0,Te.jsx)("span",{className:"font-medium",children:(null===h||void 0===h?void 0:h.area_of_law)||(null===h||void 0===h?void 0:h.type)||"Judgement"})]}),(null===h||void 0===h?void 0:h.dl_type)&&(0,Te.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Type: ",h.dl_type]})]}),(0,Te.jsxs)("td",{className:"py-3 px-4 text-sm text-gray-900",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Ht,{className:"w-4 h-4 text-green-500"}),(0,Te.jsx)("span",{className:"font-medium",children:"Court"})]}),(0,Te.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Court Document"})]}),(0,Te.jsx)("td",{className:"py-3 px-4 text-center",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>window.open("https://dennislawgh.com","_blank"),className:"inline-flex items-center space-x-1 px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200",title:"View on DennisLawGH.com",children:[(0,Te.jsx)(es,{className:"w-3 h-3"}),(0,Te.jsx)("span",{children:"View"})]}),(0,Te.jsxs)("button",{onClick:()=>{var e;const t=document.createElement("a");t.href=(null===h||void 0===h?void 0:h.file_url)||(null===h||void 0===h?void 0:h.firebase_url)||"#",t.download=(null===h||void 0===h?void 0:h.file_name)||"".concat(null===h||void 0===h||null===(e=h.title)||void 0===e?void 0:e.replace(/[^a-z0-9]/gi,"_").toLowerCase(),".pdf"),t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"inline-flex items-center space-x-1 px-3 py-1.5 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors duration-200",title:"Download PDF",children:[(0,Te.jsx)($t,{className:"w-3 h-3"}),(0,Te.jsx)("span",{children:"Download"})]})]})})]})})]})})]}),((null===h||void 0===h?void 0:h.file_name)||(null===h||void 0===h?void 0:h.dl_citation_no)||(null===h||void 0===h?void 0:h.citation))&&(0,Te.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,Te.jsxs)("h4",{className:"text-sm font-medium text-blue-900 mb-3 flex items-center space-x-2",children:[(0,Te.jsx)(xt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Document Details"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(null===h||void 0===h?void 0:h.file_name)&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-blue-800",children:[(0,Te.jsx)(xt,{className:"w-4 h-4"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium",children:"File Name"}),(0,Te.jsx)("div",{className:"text-xs text-blue-600 truncate",children:h.file_name})]})]}),(null===h||void 0===h?void 0:h.dl_citation_no)&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-blue-800",children:[(0,Te.jsx)(Zt,{className:"w-4 h-4"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium",children:"Citation No"}),(0,Te.jsx)("div",{className:"text-xs text-blue-600",children:h.dl_citation_no})]})]}),(null===h||void 0===h?void 0:h.citation)&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-blue-800",children:[(0,Te.jsx)(Ht,{className:"w-4 h-4"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"font-medium",children:"Citation"}),(0,Te.jsx)("div",{className:"text-xs text-blue-600",children:h.citation})]})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(de,{title:"Case Timeline",icon:Vt,isExpanded:B.caseTimeline,onToggle:()=>J("caseTimeline")}),B.caseTimeline&&(0,Te.jsxs)("div",{className:"p-6",children:[null!==h&&void 0!==h&&h.hearings&&h.hearings.length>0?(0,Te.jsx)("div",{className:"flow-root",children:(0,Te.jsx)("ul",{className:"-mb-8",children:h.hearings.map((e,t)=>{var s;return(0,Te.jsx)("li",{children:(0,Te.jsxs)("div",{className:"relative ".concat(t<h.hearings.length-1?"pb-8":""),children:[t<h.hearings.length-1&&(0,Te.jsx)("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),(0,Te.jsxs)("div",{className:"relative flex space-x-3",children:[(0,Te.jsx)("div",{children:(0,Te.jsx)("span",{className:"h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white ".concat("fj"===e.remark?"bg-purple-500":"fr"===e.remark?"bg-yellow-500":"bg-blue-500"),children:"fj"===e.remark?(0,Te.jsx)(Yt,{className:"h-4 w-4 text-white"}):"fr"===e.remark?(0,Te.jsx)(Ht,{className:"h-4 w-4 text-white"}):(0,Te.jsx)(Qe,{className:"h-4 w-4 text-white"})})}),(0,Te.jsxs)("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"fj"===e.remark?"For Judgement":"fr"===e.remark?"For Ruling":"For Hearing"}),e.hearing_time&&(0,Te.jsxs)("span",{className:"text-xs text-gray-500",children:["\u2022 ",e.hearing_time]})]}),(0,Te.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:ie(e.hearing_date)}),e.coram&&(0,Te.jsxs)("p",{className:"text-xs text-gray-600 mb-2",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Coram:"})," ",e.coram]}),e.proceedings&&(0,Te.jsxs)("p",{className:"text-xs text-gray-700 bg-gray-50 p-2 rounded",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Proceedings:"})," ",e.proceedings]})]}),(0,Te.jsx)("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("fj"===e.remark?"bg-purple-100 text-purple-800":"fr"===e.remark?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:null===(s=e.remark)||void 0===s?void 0:s.toUpperCase()})})]})]})]})},e.id)})})}):(0,Te.jsx)("div",{className:"flow-root",children:(0,Te.jsxs)("ul",{className:"-mb-8",children:[(0,Te.jsx)("li",{children:(0,Te.jsxs)("div",{className:"relative pb-8",children:[(0,Te.jsx)("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),(0,Te.jsxs)("div",{className:"relative flex space-x-3",children:[(0,Te.jsx)("div",{children:(0,Te.jsx)("span",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center ring-8 ring-white",children:(0,Te.jsx)(xt,{className:"h-4 w-4 text-white"})})}),(0,Te.jsxs)("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Case Filed"}),(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:null!==h&&void 0!==h&&h.date?ie(h.date):"N/A"})]}),(0,Te.jsx)("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:(0,Te.jsx)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:"Initial Filing"})})]})]})]})}),(0,Te.jsx)("li",{children:(0,Te.jsxs)("div",{className:"relative pb-8",children:[(0,Te.jsx)("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),(0,Te.jsxs)("div",{className:"relative flex space-x-3",children:[(0,Te.jsx)("div",{children:(0,Te.jsx)("span",{className:"h-8 w-8 rounded-full bg-green-500 flex items-center justify-center ring-8 ring-white",children:(0,Te.jsx)(Ht,{className:"h-4 w-4 text-white"})})}),(0,Te.jsxs)("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Court Assignment"}),(0,Te.jsxs)("p",{className:"text-sm text-gray-500",children:[ce(null===h||void 0===h?void 0:h.court_type)," \u2022 ",(null===h||void 0===h?void 0:h.region)||"N/A"]})]}),(0,Te.jsx)("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:(0,Te.jsx)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Court Process"})})]})]})]})}),(0,Te.jsx)("li",{children:(0,Te.jsxs)("div",{className:"relative pb-8",children:[(0,Te.jsx)("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),(0,Te.jsxs)("div",{className:"relative flex space-x-3",children:[(0,Te.jsx)("div",{children:(0,Te.jsx)("span",{className:"h-8 w-8 rounded-full bg-yellow-500 flex items-center justify-center ring-8 ring-white",children:(0,Te.jsx)(Qe,{className:"h-4 w-4 text-white"})})}),(0,Te.jsxs)("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Case Processing"}),(0,Te.jsx)("p",{className:"text-sm text-gray-500",children:null!==h&&void 0!==h&&null!==(a=h.metadata)&&void 0!==a&&a.processed_at?ie(h.metadata.processed_at):"In Progress"})]}),(0,Te.jsx)("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:(0,Te.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium",children:null!==h&&void 0!==h&&null!==(l=h.metadata)&&void 0!==l&&l.is_processed?"Processed":"Processing"})})]})]})]})}),(0,Te.jsx)("li",{children:(0,Te.jsx)("div",{className:"relative",children:(0,Te.jsxs)("div",{className:"relative flex space-x-3",children:[(0,Te.jsx)("div",{children:(0,Te.jsx)("span",{className:"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center ring-8 ring-white",children:(0,Te.jsx)(Yt,{className:"h-4 w-4 text-white"})})}),(0,Te.jsxs)("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"Judgment/Resolution"}),(0,Te.jsxs)("p",{className:"text-sm text-gray-500",children:[1===(null===h||void 0===h?void 0:h.status)?"Judgment Delivered":"Case Resolved",(null===h||void 0===h?void 0:h.updated_at)&&" \u2022 ".concat(ie(h.updated_at))]})]}),(0,Te.jsx)("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(1===(null===h||void 0===h?void 0:h.status)?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:1===(null===h||void 0===h?void 0:h.status)?"Judgment":"Resolved"})})]})]})})})]})}),(0,Te.jsxs)("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Timeline Summary"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"text-gray-500",children:"Total Hearings:"}),(0,Te.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:null!==h&&void 0!==h&&h.hearings?h.hearings.length:0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"text-gray-500",children:"Case Duration:"}),(0,Te.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:null!==h&&void 0!==h&&h.date&&null!==h&&void 0!==h&&h.updated_at?"".concat(Math.ceil((new Date(h.updated_at)-new Date(h.date))/864e5)," days"):"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"text-gray-500",children:"Current Status:"}),(0,Te.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:1===(null===h||void 0===h?void 0:h.status)?"Judgment Delivered":"Case Resolved"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"text-gray-500",children:"Court Type:"}),(0,Te.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:ce(null===h||void 0===h?void 0:h.court_type)})]})]})]})]})]}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border",children:(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(qe,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-green-800 uppercase tracking-wide",children:"Outcome"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-green-900",children:(null===h||void 0===h||null===(r=h.metadata)||void 0===r?void 0:r.outcome)||"Unknown"})]}),(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ts,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-blue-800 uppercase tracking-wide",children:"Relevance Score"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:null!==h&&void 0!==h&&null!==(i=h.metadata)&&void 0!==i&&i.relevance_score?h.metadata.relevance_score.toFixed(2):"N/A"})]}),(0,Te.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(qe,{className:"w-4 h-4 text-purple-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-purple-800 uppercase tracking-wide",children:"Processed"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-purple-900",children:null!==h&&void 0!==h&&null!==(o=h.metadata)&&void 0!==o&&o.is_processed?"Yes":"No"})]}),(0,Te.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border-l-4 border-orange-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(Xt,{className:"w-4 h-4 text-orange-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-orange-800 uppercase tracking-wide",children:"Processed At"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-orange-900",children:null!==h&&void 0!==h&&null!==(c=h.metadata)&&void 0!==c&&c.processed_at?ie(h.metadata.processed_at):"N/A"})]})]})})}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(de,{title:"Subject Matter",icon:Zt,isExpanded:B.subjectMatter,onToggle:()=>J("subjectMatter")}),B.subjectMatter&&(0,Te.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(Zt,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-blue-800 uppercase tracking-wide",children:"Primary Subject"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:(null===h||void 0===h?void 0:h.area_of_law)||(null===h||void 0===h?void 0:h.type)||"N/A"})]}),(null===h||void 0===h?void 0:h.keywords_phrases)&&(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(ts,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-green-800 uppercase tracking-wide",children:"Key Terms"})]}),(0,Te.jsx)("p",{className:"text-sm text-green-900",children:h.keywords_phrases})]}),(0,Te.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(Ht,{className:"w-4 h-4 text-purple-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-purple-800 uppercase tracking-wide",children:"Legal Category"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-purple-900",children:(null===h||void 0===h?void 0:h.area_of_law)||"N/A"}),(null===h||void 0===h?void 0:h.type)&&(0,Te.jsxs)("p",{className:"text-xs text-purple-700 mt-1",children:["Type: ",h.type]})]})]})})]})]}),console.log("Related cases length:",g.length,"Related cases:",g),(g.length,(0,Te.jsx)("div",{className:"lg:w-80 space-y-6",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(ct,{className:"w-5 h-5 text-blue-600"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Related Cases"})]}),(0,Te.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:h&&q(h)?"Cases involving the same insurance company (".concat(g.length,")"):b?"Cases from original search (".concat(g.length," of ").concat(b.length,")"):"Cases involving the same people (".concat(g.length,")")})]}),(0,Te.jsx)("div",{className:"p-4",children:g.length>0?(0,Te.jsxs)("div",{className:"space-y-3",children:[g.map((e,t)=>(0,Te.jsxs)("div",{onClick:()=>u("/case-details/".concat(e.id).concat(V?"?q=".concat(encodeURIComponent(V)):""),{state:{originalPersonCases:b||g}}),className:"p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 cursor-pointer transition-colors duration-200 group",children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-900 line-clamp-2",children:e.title}),(0,Te.jsx)(ss,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500 flex-shrink-0 ml-2"})]}),(0,Te.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Xt,{className:"w-3 h-3"}),(0,Te.jsx)("span",{children:ie(e.date)})]}),e.suit_reference_number&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Ht,{className:"w-3 h-3"}),(0,Te.jsx)("span",{className:"truncate",children:e.suit_reference_number})]}),e.area_of_law&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Zt,{className:"w-3 h-3"}),(0,Te.jsx)("span",{className:"truncate",children:e.area_of_law})]})]}),(0,Te.jsx)("div",{className:"flex items-center justify-between mt-2",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[e.ai_case_outcome&&(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("WON"===e.ai_case_outcome?"bg-green-100 text-green-800":"LOST"===e.ai_case_outcome?"bg-red-100 text-red-800":"PARTIALLY_WON"===e.ai_case_outcome?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.ai_case_outcome}),e.ai_financial_impact&&(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.ai_financial_impact.includes("HIGH")?"bg-red-100 text-red-800":e.ai_financial_impact.includes("MODERATE")?"bg-yellow-100 text-yellow-800":e.ai_financial_impact.includes("LOW")?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.ai_financial_impact.split(" - ")[0]})]})}),(0,Te.jsxs)("div",{className:"mt-2 text-xs text-blue-600 group-hover:text-blue-700",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Matched:"})," ",e.matched_person]})]},e.id)),g.length>=8&&(0,Te.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg text-center",children:(0,Te.jsx)("p",{className:"text-xs text-gray-500",children:"Showing 8 of many related cases"})})]}):(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(ct,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-500 text-sm",children:b?"No related cases found from original search":"No related cases found"})]})})]})}))]})}),k&&(0,Te.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,Te.jsx)("div",{className:"fixed inset-0 bg-black transition-all duration-300 ease-out ".concat(C?"bg-opacity-0":"bg-opacity-50"),onClick:K}),(0,Te.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,Te.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl flex flex-col transform transition-all duration-300 ease-out ".concat(D?"fixed inset-4 z-50 max-w-none w-auto h-auto":"max-w-6xl w-full max-h-[90vh]"," ").concat(C?"translate-y-4 scale-95 opacity-0":"translate-y-0 scale-100 opacity-100"),style:{animation:C?"none":"slideInUp 0.5s ease-out forwards, zoomIn 0.5s ease-out forwards"},children:[(0,Te.jsxs)("div",{className:"p-6 border-b border-gray-200 transform transition-all duration-700 ease-out",style:{animation:C?"none":"slideInDown 0.7s ease-out 0.1s forwards",transform:C?"translateY(-20px)":"translateY(0)",opacity:C?0:1},children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center transform transition-all duration-500 ease-out",style:{animation:C?"none":"bounceIn 0.6s ease-out 0.2s forwards",transform:C?"scale(0)":"scale(1)",opacity:C?0:1},children:(0,Te.jsx)(xt,{className:"w-6 h-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"transform transition-all duration-500 ease-out",style:{animation:C?"none":"slideInLeft 0.6s ease-out 0.3s forwards",transform:C?"translateX(-20px)":"translateX(0)",opacity:C?0:1},children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Full Case Content"}),(0,Te.jsx)("p",{className:"text-sm text-gray-500 break-words leading-tight",children:(null===h||void 0===h?void 0:h.title)||"Case Details"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Te.jsx)("button",{onClick:ne,"data-copy-button":!0,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-300 ease-out transform hover:scale-110",title:"Copy content",children:(0,Te.jsx)(Qt,{className:"w-4 h-4"})}),(0,Te.jsx)("button",{onClick:le,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-300 ease-out transform hover:scale-110",title:"Download case",children:(0,Te.jsx)($t,{className:"w-4 h-4"})}),(0,Te.jsxs)("div",{className:"relative","data-share-menu":!0,children:[(0,Te.jsx)("button",{onClick:()=>z(!F),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-300 ease-out transform hover:scale-110",title:"Share case",children:(0,Te.jsx)(as,{className:"w-4 h-4"})}),F&&(0,Te.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[(0,Te.jsxs)("button",{onClick:()=>{(()=>{const e="Check out this case: ".concat((null===h||void 0===h?void 0:h.title)||"Case Details"),t=window.location.href,s="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e),"&url=").concat(encodeURIComponent(t));window.open(s,"_blank","width=600,height=400")})(),z(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Te.jsx)(ns,{className:"w-4 h-4 text-blue-400"}),(0,Te.jsx)("span",{children:"Share on Twitter"})]}),(0,Te.jsxs)("button",{onClick:()=>{(()=>{const e=window.location.href,t="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(e));window.open(t,"_blank","width=600,height=400")})(),z(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Te.jsx)(ls,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{children:"Share on Facebook"})]}),(0,Te.jsxs)("button",{onClick:()=>{(()=>{const e="Check out this case: ".concat((null===h||void 0===h?void 0:h.title)||"Case Details"),t=window.location.href,s="https://wa.me/?text=".concat(encodeURIComponent(e+" "+t));window.open(s,"_blank")})(),z(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Te.jsx)(ht,{className:"w-4 h-4 text-green-500"}),(0,Te.jsx)("span",{children:"Share on WhatsApp"})]}),(0,Te.jsx)("div",{className:"border-t border-gray-200 my-1"}),(0,Te.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),z(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[(0,Te.jsx)(ss,{className:"w-4 h-4 text-gray-500"}),(0,Te.jsx)("span",{children:"Copy link"})]})]})]}),(0,Te.jsx)("button",{onClick:re,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-300 ease-out transform hover:scale-110",title:D?"Exit fullscreen":"Enter fullscreen",children:D?(0,Te.jsx)(rs,{className:"w-4 h-4"}):(0,Te.jsx)(is,{className:"w-4 h-4"})})]}),(0,Te.jsx)("button",{onClick:K,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-300 ease-out transform hover:scale-110",style:{animation:C?"none":"fadeIn 0.5s ease-out 0.4s forwards",opacity:C?0:1},children:(0,Te.jsx)(tt,{className:"w-6 h-6"})})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsxs)("div",{className:"flex-1 relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search within case content (e.g., 'Mahama', 'Writ of Summons')...",value:A,onChange:e=>{const t=e.target.value;E(t),(e=>{var t;if(!e.trim())return I([]),void L(0);R(!0);const s=((null===h||void 0===h?void 0:h.summernote_content)||(null===h||void 0===h?void 0:h.summernote)||(null===h||void 0===h?void 0:h.summarnote)||(null===h||void 0===h||null===(t=h.metadata)||void 0===t?void 0:t.case_summary)||(null===h||void 0===h?void 0:h.case_summary)||"").replace(/<[^>]*>/g,""),a=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),n=[];let l;for(;null!==(l=a.exec(s));)n.push({index:l.index,text:l[0],start:l.index,end:l.index+l[0].length});I(n),L(0),R(!1)})(t)},className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),A&&(0,Te.jsx)("button",{onClick:()=>{E(""),I([]),L(0)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",title:"Clear search",children:(0,Te.jsx)(tt,{className:"w-4 h-4"})})]}),M.length>0&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-2 rounded-lg",children:[(0,Te.jsx)("button",{onClick:X,className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded transition-colors",title:"Previous match (Ctrl+Shift+G)",children:(0,Te.jsx)(Lt,{className:"w-4 h-4"})}),(0,Te.jsxs)("span",{className:"text-sm text-blue-700 font-medium",children:[P+1," of ",M.length]}),(0,Te.jsx)("button",{onClick:Q,className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-100 rounded transition-colors",title:"Next match (Ctrl+G)",children:(0,Te.jsx)(Tt,{className:"w-4 h-4"})})]}),T&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-gray-500",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,Te.jsx)("span",{className:"text-sm",children:"Searching..."})]}),A&&0===M.length&&!T&&(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-red-500",children:[(0,Te.jsx)(tt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{className:"text-sm",children:"No matches found"})]})]})]}),(0,Te.jsx)("div",{className:"flex-1 overflow-y-auto p-6 transform transition-all duration-500 ease-out",style:{animation:C?"none":"fadeInUp 0.6s ease-out 0.2s forwards",transform:C?"translateY(20px)":"translateY(0)",opacity:C?0:1},children:(0,Te.jsx)("div",{className:"prose prose-lg max-w-none",children:(0,Te.jsx)("div",{className:"text-gray-900 leading-relaxed",dangerouslySetInnerHTML:{__html:((e,t)=>{if(!t.trim())return e;const s=new RegExp("(".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),")"),"gi");return e.replace(s,'<mark class="bg-yellow-300 px-1 rounded">$1</mark>')})((null===h||void 0===h?void 0:h.summernote_content)||(null===h||void 0===h?void 0:h.summernote)||(null===h||void 0===h?void 0:h.summarnote)||(null===h||void 0===h||null===(d=h.metadata)||void 0===d?void 0:d.case_summary)||(null===h||void 0===h?void 0:h.case_summary)||"No case content available",A)}})})}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 bg-gray-50 transform transition-all duration-500 ease-out",style:{animation:C?"none":"slideInUp 0.6s ease-out 0.3s forwards",transform:C?"translateY(20px)":"translateY(0)",opacity:C?0:1},children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Qe,{className:"w-4 h-4"}),(0,Te.jsxs)("span",{children:["Last updated: ",null!==h&&void 0!==h&&h.updated_at?ie(h.updated_at):"N/A"]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-gray-400",children:[(0,Te.jsx)(Je,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Ctrl+F search \u2022 Ctrl+G next \u2022 Ctrl+C copy \u2022 Ctrl+S download \u2022 Shift+Enter fullscreen \u2022 ESC close"})]})]}),(0,Te.jsx)("div",{className:"flex items-center space-x-3",children:(0,Te.jsxs)("button",{onClick:K,className:"inline-flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all duration-300 ease-out transform hover:scale-105 hover:shadow-lg",style:{animation:C?"none":"fadeIn 0.5s ease-out 0.5s forwards",opacity:C?0:1},children:[(0,Te.jsx)(tt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Close"})]})})]})]})})]}),(0,Te.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        \n        @keyframes slideInUp {\n          from { \n            transform: translateY(20px) scale(0.95);\n            opacity: 0;\n          }\n          to { \n            transform: translateY(0) scale(1);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes slideInDown {\n          from { \n            transform: translateY(-20px);\n            opacity: 0;\n          }\n          to { \n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes slideInLeft {\n          from { \n            transform: translateX(-20px);\n            opacity: 0;\n          }\n          to { \n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes slideInUp {\n          from { \n            transform: translateY(20px);\n            opacity: 0;\n          }\n          to { \n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes bounceIn {\n          0% { \n            transform: scale(0);\n            opacity: 0;\n          }\n          50% { \n            transform: scale(1.1);\n            opacity: 1;\n          }\n          100% { \n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes zoomIn {\n          from { \n            transform: scale(0.95);\n            opacity: 0;\n          }\n          to { \n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      "})]}):(0,Te.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(xt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Case not found"}),(0,Te.jsx)("button",{onClick:()=>u(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})})},cs=()=>{const[e]=Le(),t=se(),s=e.get("q")||"",[a,l]=(0,n.useState)([]),[r,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),[d,m]=(0,n.useState)(1),[u,x]=(0,n.useState)(1),[h,p]=(0,n.useState)(0),[g,f]=(0,n.useState)(0),[b,j]=(0,n.useState)({case_type:"",area_of_law:"",court_type:"",status:""}),[v,y]=(0,n.useState)(!1),N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(s.trim()){i(!0),c(null);try{const t=localStorage.getItem("accessToken"),a=new URLSearchParams(Ue({query:s,page:e,limit:20},b)),n=await fetch("http://localhost:8000/api/case-search/search?".concat(a),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(n.ok){const e=await n.json();l(e.results||[]),m(e.page||1),x(e.total_pages||1),p(e.total||0),f(e.search_time_ms||0)}else c("Failed to load search results")}catch(t){c("Error loading search results"),console.error("Search error:",t)}finally{i(!1)}}};(0,n.useEffect)(()=>{N(1)},[s,b]);const w=e=>{m(e),N(e),window.scrollTo(0,0)},k=(e,t)=>{j(s=>Ue(Ue({},s),{},{[e]:t})),m(1)},_=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"favorable":return(0,Te.jsx)(qe,{className:"w-4 h-4 text-green-500"});case"unfavorable":return(0,Te.jsx)(Kt,{className:"w-4 h-4 text-red-500"});case"mixed":return(0,Te.jsx)(Ye,{className:"w-4 h-4 text-yellow-500"});default:return(0,Te.jsx)(Qe,{className:"w-4 h-4 text-gray-400"})}},C=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString()}catch(t){return e}},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return e?e.length>t?e.substring(0,t)+"...":e:""};return(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Te.jsx)(zt,{className:"w-5 h-5"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Case Search Results"}),(0,Te.jsxs)("p",{className:"text-gray-600",children:[h>0?"".concat(h," cases found"):"No cases found",' for "',s,'"',g>0&&" \u2022 ".concat(g.toFixed(0),"ms")]})]})]}),(0,Te.jsxs)("button",{onClick:()=>y(!v),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Ct,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Filters"}),(0,Te.jsx)(Xe,{className:"w-4 h-4 transition-transform ".concat(v?"rotate-180":"")})]})]})})}),v&&(0,Te.jsx)("div",{className:"bg-white border-b shadow-sm",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Case Type"}),(0,Te.jsxs)("select",{value:b.case_type,onChange:e=>k("case_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Types"}),(0,Te.jsx)("option",{value:"reported",children:"Reported"}),(0,Te.jsx)("option",{value:"unreported",children:"Unreported"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Area of Law"}),(0,Te.jsx)("input",{type:"text",value:b.area_of_law,onChange:e=>k("area_of_law",e.target.value),placeholder:"e.g., Contract Law",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Court Type"}),(0,Te.jsxs)("select",{value:b.court_type,onChange:e=>k("court_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Courts"}),(0,Te.jsx)("option",{value:"SC",children:"Supreme Court"}),(0,Te.jsx)("option",{value:"CA",children:"Court of Appeal"}),(0,Te.jsx)("option",{value:"HC",children:"High Court"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Te.jsxs)("select",{value:b.status,onChange:e=>k("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Status"}),(0,Te.jsx)("option",{value:"resolved",children:"Resolved"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"dismissed",children:"Dismissed"})]})]})]})})}),(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r?(0,Te.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Te.jsx)("span",{className:"ml-3 text-gray-600",children:"Searching cases..."})]}):o?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(Ye,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-red-600",children:o})]}):0===a.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(Je,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsxs)("p",{className:"text-gray-600",children:['No cases found for "',s,'"']}),(0,Te.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your search terms or filters"})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"space-y-6",children:a.map(e=>(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("button",{onClick:()=>t("/case-details/".concat(e.id,"?q=").concat(encodeURIComponent(s)),{state:{originalPersonCases:a}}),className:"text-left",children:(0,Te.jsx)("h3",{className:"text-lg font-semibold text-blue-600 hover:text-blue-800 mb-2 transition-colors",children:e.title})}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Te.jsx)(Xt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:C(e.date)})]}),e.suit_reference_number&&(0,Te.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Te.jsx)(Ht,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:e.suit_reference_number})]}),e.court_type&&(0,Te.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Te.jsx)(wt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:e.court_type})]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[_(e.outcome),(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:e.outcome||"Unknown"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.court_type&&(0,Te.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Court Type"}),(0,Te.jsx)("p",{className:"text-sm text-blue-700",children:e.court_type})]}),e.suit_reference_number&&(0,Te.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-green-900 mb-1",children:"Suit Number"}),(0,Te.jsx)("p",{className:"text-sm text-green-700",children:e.suit_reference_number})]}),(0,Te.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-purple-900 mb-1",children:"Status"}),(0,Te.jsx)("p",{className:"text-sm text-purple-700",children:"1"===e.status||1===e.status?"Judgment":"0"===e.status||0===e.status?"Resolved":e.status||"Unknown"})]}),e.region&&(0,Te.jsxs)("div",{className:"bg-orange-50 p-3 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-orange-900 mb-1",children:"Region"}),(0,Te.jsx)("p",{className:"text-sm text-orange-700",children:e.region})]}),e.city&&(0,Te.jsxs)("div",{className:"bg-indigo-50 p-3 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-indigo-900 mb-1",children:"Town/City"}),(0,Te.jsx)("p",{className:"text-sm text-indigo-700",children:e.city})]}),e.monetary_amount&&(0,Te.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-yellow-900 mb-1",children:"Amount Involved"}),(0,Te.jsx)("p",{className:"text-sm text-yellow-700",children:new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e.monetary_amount)})]})]}),e.case_summary&&(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Summary"}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:S(e.case_summary,300)})]}),e.board_resolution&&(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Board Resolution"}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:S(e.board_resolution,200)})]}),e.conclusion&&(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Conclusion"}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:S(e.conclusion,200)})]}),e.court_order&&(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Order of the Court"}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:S(e.court_order,200)})]}),e.subject_matter&&(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Subject Matter"}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:S(e.subject_matter,200)})]}),e.final_orders&&(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Final Orders"}),(0,Te.jsx)("p",{className:"text-gray-700 leading-relaxed",children:S(e.final_orders,200)})]})]})},e.id))}),u>1&&(0,Te.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[(0,Te.jsx)("button",{onClick:()=>w(d-1),disabled:1===d,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,u)},(e,t)=>{const s=t+1;return(0,Te.jsx)("button",{onClick:()=>w(s),className:"px-3 py-2 text-sm font-medium rounded-lg ".concat(d===s?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"),children:s},s)}),(0,Te.jsx)("button",{onClick:()=>w(d+1),disabled:d===u,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})},ds=()=>{const[e]=Le(),t=se(),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(!1),[m,u]=(0,n.useState)("date"),[x,h]=(0,n.useState)({court:"all",status:"all",dateRange:"all"}),[p,g]=(0,n.useState)(1),[f]=(0,n.useState)(10),b=[{id:1,type:"person",name:"Albert Kweku Obeng",dob:"7 March 1962 \u2013 9 March 2004",idNumber:"KL1K-DXP",riskLevel:"Low",riskScore:25,cases:2,caseTypes:["Property Dispute","Family Law"],location:"Greater Accra",lastUpdated:"2 hours ago",summary:"Individual with low risk profile, involved in property and family law cases."},{id:2,type:"person",name:"Sarah Mensah",dob:"15 June 1975",idNumber:"GH-123456789",riskLevel:"Medium",riskScore:65,cases:5,caseTypes:["Business Dispute","Contract Law"],location:"Ashanti",lastUpdated:"1 day ago",summary:"Business professional with moderate risk profile, involved in commercial disputes."},{id:3,type:"person",name:"Kwame Asante",dob:"22 September 1980",idNumber:"GH-987654321",riskLevel:"High",riskScore:85,cases:12,caseTypes:["Criminal","Fraud"],location:"Western",lastUpdated:"3 days ago",summary:"High-risk individual with multiple criminal and fraud cases."},{id:4,type:"bank",name:"Ghana Commercial Bank",logo:"\ud83c\udfe6",established:"1953",headquarters:"Accra, Ghana",phone:"+233 302 666 100",email:"info@gcb.com.gh",website:"www.gcb.com.gh",totalCases:45,activeCases:12,resolvedCases:33,riskLevel:"Medium",riskScore:60,lastActivity:"2024-01-15",summary:"Leading commercial bank with moderate legal risk profile."},{id:5,type:"bank",name:"Ecobank Ghana",logo:"\ud83c\udfe6",established:"1990",headquarters:"Accra, Ghana",phone:"+233 302 666 200",email:"info@ecobank.com.gh",website:"www.ecobank.com.gh",totalCases:28,activeCases:8,resolvedCases:20,riskLevel:"Low",riskScore:35,lastActivity:"2024-01-10",summary:"Pan-African bank with low legal risk profile."},{id:6,type:"bank",name:"Standard Chartered Bank Ghana",logo:"\ud83c\udfe6",established:"1896",headquarters:"Accra, Ghana",phone:"+233 302 666 300",email:"info@sc.com.gh",website:"www.sc.com.gh",totalCases:67,activeCases:18,resolvedCases:49,riskLevel:"High",riskScore:75,lastActivity:"2024-01-20",summary:"International bank with higher legal risk due to complex operations."},{id:7,type:"insurance",name:"SIC Insurance Company",logo:"\ud83d\udee1\ufe0f",established:"1962",headquarters:"Accra, Ghana",phone:"+233 302 666 400",email:"info@sic.com.gh",website:"www.sic.com.gh",totalCases:28,activeCases:8,resolvedCases:20,riskLevel:"Medium",riskScore:55,lastActivity:"2024-01-14",summary:"Leading insurance company with moderate legal risk profile."},{id:8,type:"insurance",name:"Enterprise Insurance",logo:"\ud83d\udee1\ufe0f",established:"1924",headquarters:"Accra, Ghana",phone:"+233 302 666 500",email:"info@enterprise.com.gh",website:"www.enterprise.com.gh",totalCases:35,activeCases:10,resolvedCases:25,riskLevel:"Low",riskScore:40,lastActivity:"2024-01-12",summary:"Established insurance company with low legal risk profile."},{id:9,type:"insurance",name:"Vida Insurance Company",logo:"\ud83d\udee1\ufe0f",established:"1995",headquarters:"Accra, Ghana",phone:"+233 302 666 600",email:"info@vida.com.gh",website:"www.vida.com.gh",totalCases:42,activeCases:15,resolvedCases:27,riskLevel:"High",riskScore:80,lastActivity:"2024-01-18",summary:"Insurance company with higher legal risk due to complex claims."},{id:10,type:"case",caseId:1,title:"Property Dispute vs. Estate of John Doe",date:"2022-01-01",judge:"Justice Sarah Mensah",lawyers:"Kwame Asante, Legal Counsel",summary:"This case involved a property dispute between Albert Kweku Obeng and the estate of John Doe. The dispute centered around the ownership of a residential property in Accra.",status:"Resolved",court:"High Court, Accra",courtType:"High Court",region:"Greater Accra"},{id:11,type:"case",caseId:2,title:"Business Contract Dispute",date:"2021-02-01",judge:"Justice Michael Osei",lawyers:"Ama Serwaa, Legal Counsel",summary:"A business contract dispute between two companies regarding the delivery of goods and payment terms. The case involved complex commercial law principles.",status:"Active",court:"Commercial Court, Accra",courtType:"Commercial Court",region:"Greater Accra"},{id:12,type:"case",caseId:3,title:"Family Inheritance Matter",date:"2021-03-15",judge:"Justice Comfort Asante",lawyers:"Kwame Nkrumah, Legal Counsel",summary:"Family dispute over inheritance of property and assets. The case involved multiple family members and required careful consideration of inheritance laws.",status:"Resolved",court:"Family Court, Kumasi",courtType:"Family Court",region:"Ashanti"},{caseId:4,title:"Criminal Fraud Case",date:"2023-05-20",judge:"Justice David Owusu",lawyers:"Mary Adjei, Legal Counsel",summary:"Criminal case involving fraud and embezzlement of company funds. The defendant was charged with multiple counts of financial crimes.",status:"Pending",court:"Criminal Court, Accra",courtType:"Criminal Court",region:"Greater Accra"},{caseId:5,title:"Employment Dispute",date:"2023-08-10",judge:"Justice Grace Appiah",lawyers:"John Mensah, Legal Counsel",summary:"Employment dispute regarding wrongful termination and unpaid benefits. The plaintiff seeks compensation for lost wages and damages.",status:"Active",court:"Labor Court, Kumasi",courtType:"Labor Court",region:"Ashanti"}];(0,n.useEffect)(()=>{let e=[...s];"all"!==x.court&&(e=e.filter(e=>e.courtType===x.court)),"all"!==x.status&&(e=e.filter(e=>e.status===x.status)),e.sort((e,t)=>{switch(m){case"date":return new Date(t.date)-new Date(e.date);case"court":return e.courtType.localeCompare(t.courtType);case"status":return e.status.localeCompare(t.status);case"title":return e.title.localeCompare(t.title);default:return 0}}),r(e),g(1)},[s,x,m]);const j=Math.ceil(l.length/f),v=(p-1)*f,y=v+f,N=l.slice(v,y),w=e=>{g(e),window.scrollTo({top:0,behavior:"smooth"})};(0,n.useEffect)(()=>{const t=e.get("search_query");(async()=>{if(o(!0),await new Promise(e=>setTimeout(e,1e3)),t){const e=b.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())||e.summary.toLowerCase().includes(t.toLowerCase()));a(e)}else a(b);o(!1)})()},[e]);return i?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Searching cases..."})]})}):(0,Te.jsxs)("div",{children:[(0,Te.jsx)("header",{className:"bg-slate-900 text-white",children:(0,Te.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"h-8 w-8 rounded-full bg-sky-400 flex items-center justify-center",children:(0,Te.jsx)(Yt,{className:"h-4 w-4 text-white"})}),(0,Te.jsx)("h1",{className:"text-xl font-bold",children:"Dennislaw SVD"})]}),(0,Te.jsxs)("nav",{className:"hidden md:flex space-x-6",children:[(0,Te.jsx)("button",{onClick:()=>t("/"),className:"hover:text-sky-400 transition-colors",children:"Home"}),(0,Te.jsx)("button",{onClick:()=>t("/people"),className:"hover:text-sky-400 transition-colors",children:"People Database"}),(0,Te.jsx)("button",{onClick:()=>t("/people"),className:"hover:text-sky-400 transition-colors",children:"Advanced Search"}),(0,Te.jsx)("button",{onClick:()=>t("/about"),className:"hover:text-sky-400 transition-colors",children:"About"}),(0,Te.jsx)("button",{onClick:()=>t("/contact"),className:"hover:text-sky-400 transition-colors",children:"Contact"})]})]})})}),(0,Te.jsx)("main",{className:"min-h-screen bg-slate-50 py-12",children:(0,Te.jsx)("div",{className:"container mx-auto px-4",children:(0,Te.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Search Results"}),(0,Te.jsxs)("p",{className:"text-slate-600",children:["Found ",(0,Te.jsx)("span",{className:"font-semibold",children:l.length})," results matching your search"]})]}),(0,Te.jsxs)("button",{onClick:()=>t("/"),className:"bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold py-3 px-6 rounded-lg transition-colors flex items-center",children:[(0,Te.jsx)(zt,{className:"h-4 w-4 mr-2"}),"Back to Search"]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,Te.jsxs)("button",{onClick:()=>d(!c),className:"inline-flex items-center gap-2 rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:[(0,Te.jsx)(Ct,{className:"h-4 w-4"}),"Filter by",c?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})]}),(0,Te.jsxs)("select",{value:m,onChange:e=>u(e.target.value),className:"rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",children:[(0,Te.jsx)("option",{value:"date",children:"Sort by Date"}),(0,Te.jsx)("option",{value:"court",children:"Sort by Court"}),(0,Te.jsx)("option",{value:"status",children:"Sort by Status"}),(0,Te.jsx)("option",{value:"title",children:"Sort by Title"})]})]}),c&&(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6 mb-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Court Type"}),(0,Te.jsxs)("select",{value:x.court,onChange:e=>h(Ue(Ue({},x),{},{court:e.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Courts"}),(0,Te.jsx)("option",{value:"High Court",children:"High Court"}),(0,Te.jsx)("option",{value:"Commercial Court",children:"Commercial Court"}),(0,Te.jsx)("option",{value:"Family Court",children:"Family Court"}),(0,Te.jsx)("option",{value:"Criminal Court",children:"Criminal Court"}),(0,Te.jsx)("option",{value:"Labor Court",children:"Labor Court"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Case Status"}),(0,Te.jsxs)("select",{value:x.status,onChange:e=>h(Ue(Ue({},x),{},{status:e.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Status"}),(0,Te.jsx)("option",{value:"Active",children:"Active"}),(0,Te.jsx)("option",{value:"Resolved",children:"Resolved"}),(0,Te.jsx)("option",{value:"Pending",children:"Pending"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Date Range"}),(0,Te.jsxs)("select",{value:x.dateRange,onChange:e=>h(Ue(Ue({},x),{},{dateRange:e.target.value})),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-sky-500 focus:outline-none focus:ring-1 focus:ring-sky-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Dates"}),(0,Te.jsx)("option",{value:"2024",children:"2024"}),(0,Te.jsx)("option",{value:"2023",children:"2023"}),(0,Te.jsx)("option",{value:"2022",children:"2022"}),(0,Te.jsx)("option",{value:"2021",children:"2021"})]})]})]}),(0,Te.jsx)("div",{className:"mt-4 flex justify-end",children:(0,Te.jsx)("button",{onClick:()=>h({court:"all",status:"all",dateRange:"all"}),className:"text-sm text-slate-600 hover:text-slate-800 transition-colors",children:"Clear all filters"})})]})]}),0===l.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(Je,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"No results found"}),(0,Te.jsx)("p",{className:"text-slate-500",children:"Try adjusting your search terms or filters"})]}):(0,Te.jsx)("div",{className:"space-y-6",children:N.map(e=>(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>(e=>{switch(e.type){case"person":t("/person-profile/".concat(e.id,"?source=search"));break;case"bank":t("/bank-detail?id=".concat(e.id,"&source=search"));break;case"insurance":t("/insurance-detail?id=".concat(e.id,"&source=search"));break;case"case":t("/case-detail?caseId=".concat(e.caseId,"&source=search"));break;default:console.log("Unknown result type:",e.type)}})(e),children:["person"===e.type&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(St,{className:"h-6 w-6 text-slate-600"})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Low"===e.riskLevel?"bg-emerald-100 text-emerald-700":"Medium"===e.riskLevel?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:[e.riskLevel," Risk"]})]}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:["ID: ",e.idNumber]})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Date of Birth: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.dob})]})}),(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Cases: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.cases})]})}),(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Location: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.location})]})})]}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:e.summary}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:(0,Te.jsxs)("span",{children:["Last Updated: ",e.lastUpdated]})}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-500",children:"Click to view details"}),(0,Te.jsx)(es,{className:"h-4 w-4 text-slate-400"})]})]})]}),"bank"===e.type&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center text-2xl",children:e.logo}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Low"===e.riskLevel?"bg-emerald-100 text-emerald-700":"Medium"===e.riskLevel?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:[e.riskLevel," Risk"]})]}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:["Established: ",e.established]})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Total Cases: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.totalCases})]})}),(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Active Cases: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.activeCases})]})}),(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Location: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.headquarters})]})})]}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:e.summary}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:(0,Te.jsxs)("span",{children:["Last Activity: ",e.lastActivity]})}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-500",children:"Click to view details"}),(0,Te.jsx)(wt,{className:"h-4 w-4 text-slate-400"})]})]})]}),"insurance"===e.type&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,Te.jsx)("div",{className:"h-12 w-12 bg-slate-100 rounded-full flex items-center justify-center text-2xl",children:e.logo}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Low"===e.riskLevel?"bg-emerald-100 text-emerald-700":"Medium"===e.riskLevel?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"),children:[e.riskLevel," Risk"]})]}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:["Established: ",e.established]})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Total Cases: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.totalCases})]})}),(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Active Cases: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.activeCases})]})}),(0,Te.jsx)("div",{className:"flex items-center text-slate-600",children:(0,Te.jsxs)("span",{className:"text-sm",children:["Location: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.headquarters})]})})]}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:e.summary}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:(0,Te.jsxs)("span",{children:["Last Activity: ",e.lastActivity]})}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-500",children:"Click to view details"}),(0,Te.jsx)(ot,{className:"h-4 w-4 text-slate-400"})]})]})]}),"case"===e.type&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:e.title}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Active"===e.status?"bg-amber-100 text-amber-700":"Resolved"===e.status?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-700"),children:e.status}),(0,Te.jsx)("span",{className:"text-sm text-slate-500",children:e.date})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Te.jsx)(Yt,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("span",{children:e.judge})]}),(0,Te.jsxs)("div",{className:"flex items-center text-slate-600",children:[(0,Te.jsx)(St,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("span",{children:e.lawyers})]})]}),(0,Te.jsx)("p",{className:"text-slate-600 mb-6",children:e.summary}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[(0,Te.jsxs)("span",{children:["Court: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.courtType})]}),(0,Te.jsxs)("span",{children:["Region: ",(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:e.region})]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-500",children:"Click to view details"}),(0,Te.jsx)(es,{className:"h-4 w-4 text-slate-400"})]})]})]})]},e.id))}),j>1&&(0,Te.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:["Showing ",v+1," to ",Math.min(y,l.length)," of ",l.length," results"]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsxs)("button",{onClick:()=>w(p-1),disabled:1===p,className:"flex items-center gap-1 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,Te.jsx)(Lt,{className:"w-4 h-4"}),"Previous"]}),(0,Te.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:j},(e,t)=>t+1).map(e=>(0,Te.jsx)("button",{onClick:()=>w(e),className:"px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(e===p?"bg-sky-600 text-white":"text-slate-700 bg-white border border-slate-300 hover:bg-slate-50"),children:e},e))}),(0,Te.jsxs)("button",{onClick:()=>w(p+1),disabled:p===j,className:"flex items-center gap-1 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",(0,Te.jsx)(Tt,{className:"w-4 h-4"})]})]})]})]})})})]})},ms=()=>{const[e]=Le(),t=se(),[s,a]=(0,n.useState)(""),[l,r]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[m,u]=(0,n.useState)(0),[x,h]=(0,n.useState)(""),[p,g]=(0,n.useState)({totalResults:0,searchTime:0,courtsSearched:0,totalCourts:0}),[f,b]=(0,n.useState)({sortBy:"relevance",region:"all",caseType:"all"}),[j,v]=(0,n.useState)(!1),[y,N]=(0,n.useState)(1),[w]=(0,n.useState)(20),[k,_]=(0,n.useState)(0),[C,S]=(0,n.useState)(0),A=[{id:1,full_name:"Albert Kweku Obeng",notes:"Business Executive",occupation:"Businessman",region:"Greater Accra",court:"High Court",languages:["English","Twi"],risk_level:"Low",risk_score:25,total_cases:2,resolved_cases:2,unresolved_cases:0,case_outcome:"Favorable"},{id:2,full_name:"Sarah Mensah",notes:"Legal Professional",occupation:"Lawyer",region:"Ashanti",court:"High Court",languages:["English","Twi"],risk_level:"Medium",risk_score:65,total_cases:5,resolved_cases:3,unresolved_cases:2,case_outcome:"Mixed"},{id:3,full_name:"Kwame Asante",notes:"Corporate Executive",occupation:"Businessman",region:"Western",court:"High Court",languages:["English","Twi"],risk_level:"High",risk_score:85,total_cases:12,resolved_cases:8,unresolved_cases:4,case_outcome:"Mixed"},{id:4,full_name:"Ama Serwaa",notes:"Government Official",occupation:"Civil Servant",region:"Central",court:"District Court",languages:["English","Fante"],risk_level:"Low",risk_score:15,total_cases:1,resolved_cases:1,unresolved_cases:0,case_outcome:"Favorable"}];(0,n.useEffect)(()=>{const t=e.get("search");a(t||"")},[e]),(0,n.useEffect)(()=>{const t=e.get("search")||"";t&&(async e=>{o(!0),d(null),u(0),g({totalResults:0,searchTime:0,courtsSearched:0,totalCourts:0});const t=["Supreme Court","Court of Appeal","High Court - Accra","High Court - Kumasi","High Court - Tamale","High Court - Cape Coast","High Court - Sunyani","High Court - Ho","High Court - Bolgatanga","High Court - Wa","High Court - Koforidua","High Court - Sekondi","Circuit Court - Accra","Circuit Court - Kumasi","Circuit Court - Tamale","District Court - Accra","District Court - Kumasi","District Court - Tamale","Commercial Court - Accra","Commercial Court - Kumasi","Family Court - Accra","Family Court - Kumasi","Land Court - Accra","Land Court - Kumasi"],s=Date.now();let a=[],n=0;try{for(let s=0;s<t.length;s++){const l=t[s];h("Searching ".concat(l,"...")),await new Promise(e=>setTimeout(e,100+200*Math.random()));const r=await fetch("http://localhost:8000/api/people/search?query=".concat(encodeURIComponent(e),"&limit=50"),{headers:{Authorization:"Bearer test-token-123","Content-Type":"application/json"}});if(r.ok){const e=await r.json();if(e.people&&e.people.length>0){const t=e.people.map(e=>Ue(Ue({},e),{},{court:l,searchSource:"people"}));a=[...a,...t]}}n++,u((s+1)/t.length*100),g(e=>Ue(Ue({},e),{},{courtsSearched:n,totalCourts:t.length,totalResults:a.length}))}const l=a.reduce((e,t)=>(-1===e.findIndex(e=>e.id===t.id)&&e.push(t),e),[]).map(e=>Ue(Ue({},e),{},{total_cases:e.total_cases||0,resolved_cases:e.resolved_cases||0,unresolved_cases:e.unresolved_cases||0,case_outcome:e.case_outcome||"N/A"}));r(l),g(e=>Ue(Ue({},e),{},{totalResults:l.length,searchTime:(Date.now()-s)/1e3}))}catch(c){console.error("Search error:",c),d("Failed to search. Using sample data for demonstration."),r(A),g(e=>Ue(Ue({},e),{},{totalResults:A.length,searchTime:(Date.now()-s)/1e3}))}finally{o(!1),h(""),u(100)}})(t)},[e]);const E=(e=>{const t=[...e].sort((e,t)=>{const s=(e.full_name||"").toLowerCase(),a=(t.full_name||"").toLowerCase();return s.localeCompare(a)}),s={};return t.forEach(e=>{const t=(e.full_name||"Unknown").charAt(0).toUpperCase();s[t]||(s[t]=[]),s[t].push(e)}),s})(l),M=Object.keys(E).sort(),I=Math.ceil(l.length/w),P=(y-1)*w,L=Math.min(P+w,l.length),T=(l.slice(P,L),e=>{N(e),window.scrollTo({top:0,behavior:"smooth"})});(0,n.useEffect)(()=>{S(l.length)},[l]),(0,n.useEffect)(()=>{const t=e.get("search");t&&a(t)},[e]);return(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,Te.jsx)("div",{className:"bg-white border-b border-slate-200",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>t("/"),className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4"}),"Back to Search"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Search Results"}),(0,Te.jsx)("p",{className:"text-slate-600",children:i?"Searching...":"Found ".concat(p.totalResults," results matching '").concat(s,"'")})]})]}),!i&&p.searchTime>0&&(0,Te.jsxs)("div",{className:"text-sm text-slate-500",children:["Search completed in ",p.searchTime.toFixed(2),"s"]})]})})}),i&&(0,Te.jsx)("div",{className:"bg-white border-b border-slate-200",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4",children:[(0,Te.jsxs)("div",{className:"mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-2",children:[(0,Te.jsx)("span",{children:"Searching through court records..."}),(0,Te.jsxs)("span",{children:[Math.round(m),"%"]})]}),(0,Te.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:"".concat(m,"%")}})})]}),x&&(0,Te.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent"}),(0,Te.jsx)("span",{children:x})]}),(0,Te.jsxs)("div",{className:"mt-2 text-xs text-slate-500",children:["Searched ",p.courtsSearched," of ",p.totalCourts," courts \u2022 ",p.totalResults," results found"]})]})}),c&&(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsx)("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4",children:(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)(Ye,{className:"h-5 w-5 text-red-600"}),(0,Te.jsx)("span",{className:"text-red-800",children:c})]})})}),!i&&!c&&l.length>0&&M.length>1&&(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsx)("div",{className:"bg-white rounded-lg border border-slate-200 p-4",children:(0,Te.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:M.map(e=>(0,Te.jsx)("button",{onClick:()=>{const t=document.getElementById("section-".concat(e));t&&t.scrollIntoView({behavior:"smooth",block:"start"})},className:"px-3 py-2 text-sm font-medium text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-slate-200 hover:border-blue-300",children:e},e))})})}),!i&&!c&&(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:0===l.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(ct,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No results found"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Try adjusting your search terms or filters."})]}):(0,Te.jsx)("div",{className:"space-y-8",children:M.map(e=>(0,Te.jsxs)("div",{id:"section-".concat(e),className:"space-y-4",children:[(0,Te.jsx)("div",{className:"sticky top-0 bg-slate-50 border-b border-slate-200 py-3 px-4 rounded-t-lg",children:(0,Te.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[(0,Te.jsx)("span",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:e}),e,(0,Te.jsxs)("span",{className:"text-sm font-normal text-slate-500",children:["(",E[e].length," ",1===E[e].length?"person":"people",")"]})]})}),(0,Te.jsx)("div",{className:"space-y-3 pl-4",children:E[e].map(e=>(0,Te.jsx)("div",{className:"bg-white rounded-lg border border-slate-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t("/person-profile/".concat(e.id,"?search=").concat(encodeURIComponent(s))),children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-blue-600"})})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-1",children:e.full_name}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-slate-600",children:"Total Cases:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:e.total_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-slate-600",children:"Resolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-green-600",children:e.resolved_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-slate-600",children:"Unresolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-red-600",children:e.unresolved_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-slate-600",children:"Outcome:"}),(0,Te.jsx)("span",{className:"font-semibold text-purple-600",children:e.case_outcome||"N/A"})]})]})]})]}),(0,Te.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:[(0,Te.jsx)(es,{className:"h-4 w-4"}),"Click to view details"]})]})},e.id))})]},e))})}),!i&&!c&&I>1&&(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:["Showing ",P+1," to ",L," of ",l.length," results"]}),(0,Te.jsxs)("div",{className:"flex items-center gap-1 overflow-x-auto max-w-full",children:[(0,Te.jsx)("button",{onClick:()=>T(y-1),disabled:1===y,className:"p-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:(0,Te.jsx)(Lt,{className:"h-4 w-4"})}),(0,Te.jsxs)("div",{className:"flex items-center gap-1 min-w-0",children:[y>3&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>T(1),className:"px-3 py-2 text-sm font-medium rounded-lg text-slate-600 hover:bg-slate-100",children:"1"}),y>4&&(0,Te.jsx)("span",{className:"px-2 text-slate-400",children:"..."})]}),Array.from({length:I},(e,t)=>t+1).filter(e=>e>=Math.max(1,y-2)&&e<=Math.min(I,y+2)).map(e=>(0,Te.jsx)("button",{onClick:()=>T(e),className:"px-3 py-2 text-sm font-medium rounded-lg whitespace-nowrap ".concat(y===e?"bg-blue-600 text-white":"text-slate-600 hover:bg-slate-100"),children:e},e)),y<I-2&&(0,Te.jsxs)(Te.Fragment,{children:[y<I-3&&(0,Te.jsx)("span",{className:"px-2 text-slate-400",children:"..."}),(0,Te.jsx)("button",{onClick:()=>T(I),className:"px-3 py-2 text-sm font-medium rounded-lg text-slate-600 hover:bg-slate-100",children:I})]})]}),(0,Te.jsx)("button",{onClick:()=>T(y+1),disabled:y===I,className:"p-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap",children:(0,Te.jsx)(Tt,{className:"h-4 w-4"})})]})]})})]})},us=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),xs=Ge("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),hs=()=>{const e=se(),[t,s]=(0,n.useState)({first_name:"",last_name:"",email:"",password:"",plan:""}),[a,l]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(""),d=e=>{const{name:t,value:a}=e.target;s(e=>Ue(Ue({},e),{},{[t]:a})),o&&c("")};return(0,Te.jsxs)("div",{children:[(0,Te.jsx)("header",{className:"bg-slate-900 text-white",children:(0,Te.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"h-8 w-8 rounded-full bg-sky-400 flex items-center justify-center",children:(0,Te.jsx)(Rt,{className:"h-4 w-4 text-white"})}),(0,Te.jsx)("h1",{className:"text-xl font-bold",children:"Dennislaw SVD"})]}),(0,Te.jsxs)("nav",{className:"hidden md:flex space-x-6",children:[(0,Te.jsx)("button",{onClick:()=>e("/"),className:"hover:text-sky-400 transition-colors",children:"Home"}),(0,Te.jsx)("button",{onClick:()=>e("/people"),className:"hover:text-sky-400 transition-colors",children:"People Database"}),(0,Te.jsx)("button",{onClick:()=>e("/people"),className:"hover:text-sky-400 transition-colors",children:"Advanced Search"}),(0,Te.jsx)("button",{onClick:()=>e("/about"),className:"hover:text-sky-400 transition-colors",children:"About"}),(0,Te.jsx)("button",{onClick:()=>e("/contact"),className:"hover:text-sky-400 transition-colors",children:"Contact"})]})]})})}),(0,Te.jsx)("main",{className:"min-h-screen bg-slate-50 py-12",children:(0,Te.jsx)("div",{className:"container mx-auto px-4",children:(0,Te.jsx)("div",{className:"max-w-md mx-auto",children:(0,Te.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-8",children:[(0,Te.jsx)(us,{className:"h-12 w-12 text-sky-500 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Create Your Account"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Sign up to access our comprehensive legal database and download reports."}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500 mt-2",children:["Already have an account?"," ",(0,Te.jsx)(Me,{to:"/login",className:"text-sky-600 hover:text-sky-700 font-medium transition-colors",children:"Sign in here"})]})]}),a?(0,Te.jsx)("div",{className:"text-center",children:(0,Te.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,Te.jsx)(xs,{className:"h-8 w-8 text-green-600 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Account Created Successfully!"}),(0,Te.jsx)("p",{className:"text-green-700",children:"Please check your email to verify your account. Redirecting to login..."})]})}):(0,Te.jsx)("div",{children:(0,Te.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),i(!0),c("");try{const s=await fetch("http://localhost:8000/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:t.first_name,last_name:t.last_name,email:t.email,password:t.password})}),a=await s.json();s.ok?(l(!0),setTimeout(()=>{e("/login?registered=1")},1500)):c(a.detail||"Registration failed. Please try again.")}catch(a){c("An error occurred. Please try again."),console.error("Registration error:",a)}finally{i(!1)}},className:"space-y-6",children:[o&&(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Te.jsx)("p",{className:"text-sm text-red-600",children:o})}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"First Name"}),(0,Te.jsx)("input",{type:"text",name:"first_name",value:t.first_name,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors",placeholder:"First name",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Last Name"}),(0,Te.jsx)("input",{type:"text",name:"last_name",value:t.last_name,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors",placeholder:"Last name",required:!0})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"email",value:t.email,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors",placeholder:"Enter your email address",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),(0,Te.jsx)("input",{type:"password",name:"password",value:t.password,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors",placeholder:"Enter your password",minLength:"6",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Plan"}),(0,Te.jsxs)("select",{name:"plan",value:t.plan,onChange:d,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors",required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Choose a plan"}),(0,Te.jsx)("option",{value:"basic",children:"Basic (per-report)"}),(0,Te.jsx)("option",{value:"premium",children:"Premium (monthly)"})]})]}),(0,Te.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-sky-500 hover:bg-sky-600 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:r?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Te.jsx)("span",{children:"Creating Account..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Rt,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Create Account"})]})})]})})]})})})})]})},ps=Ge("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),gs=()=>{const e=se(),[t,s]=(0,n.useState)({email:"",password:""}),[a,l]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(""),u=e=>{const{name:t,value:a}=e.target;s(e=>Ue(Ue({},e),{},{[t]:a})),d&&m("")};return(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Te.jsx)("div",{className:"flex justify-center",children:(0,Te.jsx)("div",{className:"h-12 w-12 rounded-full bg-sky-100 flex items-center justify-center",children:(0,Te.jsx)(Dt,{className:"h-6 w-6 text-sky-600"})})}),(0,Te.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-slate-900",children:"Sign in to your account"}),(0,Te.jsxs)("p",{className:"mt-2 text-center text-sm text-slate-600",children:["Or"," ",(0,Te.jsx)(Me,{to:"/signup",className:"font-medium text-sky-600 hover:text-sky-500 transition-colors",children:"create a new account"})]})]}),(0,Te.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Te.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Te.jsxs)("form",{className:"space-y-6",onSubmit:async s=>{s.preventDefault(),i(!0),m("");try{const s=await fetch("http://localhost:8000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:t.password})}),a=await s.json();if(s.ok){localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",a.user.email),localStorage.setItem("userName",a.user.name||a.user.email.split("@")[0]),localStorage.setItem("accessToken",a.access_token),localStorage.setItem("userData",JSON.stringify(a.user)),localStorage.setItem("authProvider","email"),window.dispatchEvent(new CustomEvent("authStateChanged"));const t=localStorage.getItem("redirectAfterLogin");t?(localStorage.removeItem("redirectAfterLogin"),e(t)):e("/")}else m(a.detail||"Invalid email or password")}catch(a){m("An error occurred. Please try again."),console.error("Login error:",a)}finally{i(!1)}},children:[d&&(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Te.jsx)("p",{className:"text-sm text-red-600",children:d})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email address"}),(0,Te.jsxs)("div",{className:"mt-1 relative",children:[(0,Te.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Te.jsx)(bt,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:u,className:"appearance-none block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-md placeholder-slate-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"Enter your email"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),(0,Te.jsxs)("div",{className:"mt-1 relative",children:[(0,Te.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Te.jsx)(Rt,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:t.password,onChange:u,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-slate-300 rounded-md placeholder-slate-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"Enter your password"}),(0,Te.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,Te.jsx)("button",{type:"button",className:"text-slate-400 hover:text-slate-500 focus:outline-none focus:text-slate-500",onClick:()=>l(!a),children:a?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})})]})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-slate-700",children:"Remember me"})]}),(0,Te.jsx)("div",{className:"text-sm",children:(0,Te.jsx)(Me,{to:"/forgot-password",className:"font-medium text-sky-600 hover:text-sky-500 transition-colors",children:"Forgot your password?"})})]}),(0,Te.jsx)("div",{children:(0,Te.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Dt,{className:"h-4 w-4 mr-2"}),"Sign in"]})})})]}),(0,Te.jsxs)("div",{className:"mt-6",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Te.jsx)("div",{className:"w-full border-t border-slate-300"})}),(0,Te.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Te.jsx)("span",{className:"px-2 bg-white text-slate-500",children:"Admin Access"})})]}),(0,Te.jsx)("div",{className:"mt-6",children:(0,Te.jsx)("button",{type:"button",onClick:async()=>{c(!0),m("");try{const t=await fetch("http://localhost:8000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"admin@dennislaw.com",password:"admin123"})}),s=await t.json();t.ok?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",s.user.email),localStorage.setItem("userName",s.user.name||s.user.email.split("@")[0]),localStorage.setItem("accessToken",s.access_token),localStorage.setItem("userData",JSON.stringify(s.user)),localStorage.setItem("authProvider","email"),localStorage.setItem("isAdmin",s.user.is_admin?"true":"false"),window.dispatchEvent(new CustomEvent("authStateChanged")),e("/admin")):m("Admin login failed. Please check admin credentials.")}catch(t){m("Admin login failed. Please try again."),console.error("Admin login error:",t)}finally{c(!1)}},disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in as Admin..."]}):(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(ot,{className:"h-4 w-4 mr-2"}),"Login as Admin"]})})})]})]})})]})},fs=()=>{const[e,t]=(0,n.useState)(""),[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!1),[i,o]=(0,n.useState)("");return(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Te.jsx)("div",{className:"flex justify-center",children:(0,Te.jsx)("div",{className:"h-12 w-12 rounded-full bg-sky-100 flex items-center justify-center",children:(0,Te.jsx)(bt,{className:"h-6 w-6 text-sky-600"})})}),(0,Te.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-slate-900",children:"Forgot your password?"}),(0,Te.jsx)("p",{className:"mt-2 text-center text-sm text-slate-600",children:"No worries! Enter your email address and we'll send you a link to reset your password."})]}),(0,Te.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Te.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[l?(0,Te.jsx)("div",{className:"text-center",children:(0,Te.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,Te.jsx)(qe,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Check your email"}),(0,Te.jsxs)("p",{className:"text-green-700 mb-4",children:["We've sent a password reset link to ",(0,Te.jsx)("strong",{children:e})]}),(0,Te.jsx)("p",{className:"text-sm text-green-600 mb-6",children:"Didn't receive the email? Check your spam folder or try again."}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsx)("button",{onClick:async()=>{a(!0),o("");try{await new Promise(e=>setTimeout(e,1e3)),r(!0)}catch(e){o("Failed to resend email. Please try again.")}finally{a(!1)}},disabled:s,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Resending...":"Resend email"}),(0,Te.jsx)(Me,{to:"/login",className:"block w-full text-center text-sky-600 hover:text-sky-700 font-medium py-2 px-4 rounded-md transition-colors",children:"Back to login"})]})]})}):(0,Te.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault(),a(!0),o("");try{await new Promise(e=>setTimeout(e,1500)),"demo@dennislaw.com"===e?r(!0):o("No account found with this email address.")}catch(s){o("An error occurred. Please try again.")}finally{a(!1)}},children:[i&&(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)(Ye,{className:"h-5 w-5 text-red-400 mr-2"}),(0,Te.jsx)("p",{className:"text-sm text-red-600",children:i})]})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700",children:"Email address"}),(0,Te.jsxs)("div",{className:"mt-1 relative",children:[(0,Te.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Te.jsx)(bt,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>{t(e.target.value),i&&o("")},className:"appearance-none block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-md placeholder-slate-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"Enter your email address"})]})]}),(0,Te.jsx)("div",{children:(0,Te.jsx)("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending reset link..."]}):(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(bt,{className:"h-4 w-4 mr-2"}),"Send reset link"]})})})]}),(0,Te.jsxs)("div",{className:"mt-6",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Te.jsx)("div",{className:"w-full border-t border-slate-300"})}),(0,Te.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Te.jsx)("span",{className:"px-2 bg-white text-slate-500",children:"Remember your password?"})})]}),(0,Te.jsx)("div",{className:"mt-6 text-center",children:(0,Te.jsxs)(Me,{to:"/login",className:"inline-flex items-center text-sm font-medium text-sky-600 hover:text-sky-500 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4 mr-1"}),"Back to sign in"]})})]}),(0,Te.jsxs)("div",{className:"mt-6 bg-slate-50 rounded-md p-4",children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Demo Information:"}),(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("strong",{children:"Demo Email:"})," demo@dennislaw.com"]}),(0,Te.jsx)("p",{className:"text-slate-500",children:"Use this email to test the forgot password flow"})]})]})]})})]})},bs=()=>{const[e]=Le(),[t,s]=(0,n.useState)({password:"",confirmPassword:""}),[a,l]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)(""),[h,p]=(0,n.useState)("");(0,n.useEffect)(()=>{const t=e.get("token");t?p(t):x("Invalid or missing reset token. Please request a new password reset.")},[e]);const g=e=>{const{name:t,value:a}=e.target;s(e=>Ue(Ue({},e),{},{[t]:a})),u&&x("")},f=e=>{const t=/[A-Z]/.test(e),s=/[a-z]/.test(e),a=/\d/.test(e),n=/[!@#$%^&*(),.?":{}|<>]/.test(e);return{isValid:e.length>=8&&t&&s&&a&&n,errors:[e.length<8&&"At least ".concat(8," characters"),!t&&"One uppercase letter",!s&&"One lowercase letter",!a&&"One number",!n&&"One special character"].filter(Boolean)}},b=f(t.password);return d?(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,Te.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,Te.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[(0,Te.jsx)(qe,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Password reset successful!"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-6",children:"Your password has been successfully updated. You can now sign in with your new password."}),(0,Te.jsx)(Me,{to:"/login",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 transition-colors",children:"Continue to sign in"})]})})}):(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Te.jsx)("div",{className:"flex justify-center",children:(0,Te.jsx)("div",{className:"h-12 w-12 rounded-full bg-sky-100 flex items-center justify-center",children:(0,Te.jsx)(Rt,{className:"h-6 w-6 text-sky-600"})})}),(0,Te.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-slate-900",children:"Reset your password"}),(0,Te.jsx)("p",{className:"mt-2 text-center text-sm text-slate-600",children:"Enter your new password below."})]}),(0,Te.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Te.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[h?(0,Te.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault(),c(!0),x("");try{if(t.password!==t.confirmPassword)return x("Passwords do not match."),void c(!1);const e=f(t.password);if(!e.isValid)return x("Password must meet the following requirements: ".concat(e.errors.join(", "))),void c(!1);await new Promise(e=>setTimeout(e,1500)),m(!0)}catch(s){x("An error occurred while resetting your password. Please try again.")}finally{c(!1)}},children:[u&&(0,Te.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,Te.jsxs)("div",{className:"flex",children:[(0,Te.jsx)(Ye,{className:"h-5 w-5 text-red-400 mr-2"}),(0,Te.jsx)("p",{className:"text-sm text-red-600",children:u})]})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"New password"}),(0,Te.jsxs)("div",{className:"mt-1 relative",children:[(0,Te.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Te.jsx)(Rt,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:t.password,onChange:g,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-slate-300 rounded-md placeholder-slate-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"Enter your new password"}),(0,Te.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,Te.jsx)("button",{type:"button",className:"text-slate-400 hover:text-slate-500 focus:outline-none focus:text-slate-500",onClick:()=>l(!a),children:a?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})})]}),t.password&&(0,Te.jsxs)("div",{className:"mt-2",children:[(0,Te.jsx)("div",{className:"text-xs text-slate-600 mb-1",children:"Password requirements:"}),(0,Te.jsx)("div",{className:"space-y-1",children:b.errors.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center text-xs",children:[(0,Te.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(b.isValid?"bg-green-500":"bg-red-500")}),(0,Te.jsx)("span",{className:b.isValid?"text-green-600":"text-red-600",children:e})]},t))})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-700",children:"Confirm new password"}),(0,Te.jsxs)("div",{className:"mt-1 relative",children:[(0,Te.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Te.jsx)(Rt,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:g,className:"appearance-none block w-full pl-10 pr-10 py-2 border border-slate-300 rounded-md placeholder-slate-400 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm",placeholder:"Confirm your new password"}),(0,Te.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,Te.jsx)("button",{type:"button",className:"text-slate-400 hover:text-slate-500 focus:outline-none focus:text-slate-500",onClick:()=>i(!r),children:r?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})})]}),t.confirmPassword&&(0,Te.jsxs)("div",{className:"mt-1 flex items-center text-xs",children:[(0,Te.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(t.password===t.confirmPassword?"bg-green-500":"bg-red-500")}),(0,Te.jsx)("span",{className:t.password===t.confirmPassword?"text-green-600":"text-red-600",children:t.password===t.confirmPassword?"Passwords match":"Passwords do not match"})]})]}),(0,Te.jsx)("div",{children:(0,Te.jsx)("button",{type:"submit",disabled:o||!b.isValid||t.password!==t.confirmPassword,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating password..."]}):(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Rt,{className:"h-4 w-4 mr-2"}),"Update password"]})})})]}):(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Ye,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Invalid reset link"}),(0,Te.jsx)("p",{className:"text-red-700 mb-6",children:"This password reset link is invalid or has expired. Please request a new one."}),(0,Te.jsx)(Me,{to:"/forgot-password",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-sky-600 hover:bg-sky-700 transition-colors",children:"Request new reset link"})]}),(0,Te.jsxs)("div",{className:"mt-6",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Te.jsx)("div",{className:"w-full border-t border-slate-300"})}),(0,Te.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Te.jsx)("span",{className:"px-2 bg-white text-slate-500",children:"Remember your password?"})})]}),(0,Te.jsx)("div",{className:"mt-6 text-center",children:(0,Te.jsxs)(Me,{to:"/login",className:"inline-flex items-center text-sm font-medium text-sky-600 hover:text-sky-500 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4 mr-1"}),"Back to sign in"]})})]})]})})]})},js=Ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),vs=()=>{const e=se(),[t,s]=(0,n.useState)(""),[a,l]=(0,n.useState)("all"),r=(0,n.useRef)(null),[i,o]=(0,n.useState)(1),[c]=(0,n.useState)(9),[d,m]=(0,n.useState)([]),[u,x]=(0,n.useState)(!0),[h,p]=(0,n.useState)(!0),[g,f]=(0,n.useState)(0),b={"GCB Bank":"/banks/gcb bank.jpeg","Ghana Commercial Bank":"/banks/gcb bank.jpeg",Ecobank:"/banks/ecobank.jpeg","Ecobank Ghana":"/banks/ecobank.jpeg","Standard Chartered Bank":"/banks/stanchart.jpeg","Standard Chartered Bank Ghana":"/banks/stanchart.jpeg","Absa Bank":"/banks/absa.jpeg","Absa Bank Ghana":"/banks/absa.jpeg","Fidelity Bank":"/banks/Fidelity.jpeg","Fidelity Bank Ghana":"/banks/Fidelity.jpeg","Zenith Bank":"/banks/zenith.jpeg","Zenith Bank Ghana":"/banks/zenith.jpeg","First Atlantic Bank":"/banks/first atlantic.jpeg","Ghana Exim Bank":"/banks/ghana exim bank.jpeg","Ghana EXIM Bank":"/banks/ghana exim bank.jpeg",GTBank:"/banks/gtbank.jpeg","Guaranty Trust Bank":"/banks/gtbank.jpeg","National Investment Bank":"/banks/national invenstment bank.jpeg","Prudential Bank":"/banks/prudential bank.jpeg","Republic Bank":"/banks/republic bank.jpeg","Societe Generale Bank":"/banks/societe generale bank.jpeg","The Royal Bank":"/banks/the royal bank.jpeg","Universal Merchant Bank":"/banks/universal merchant bank.jpeg","FBN Bank":"/banks/fbn.jpeg","First Bank of Nigeria":"/banks/fbn.jpeg","Access Bank":"/banks/access bank.jpeg","Access Bank Ghana":"/banks/access bank.jpeg","Agricultural Development Bank":"/banks/adb.jpeg","Bank of Africa":"/banks/bank of africa.jpeg","Bank of Ghana":"/banks/Bank of ghana.jpeg","CAL Bank":"/banks/calbank.jpeg","Consolidated Bank Ghana":"/banks/cbg.jpeg","NIB Bank":"/banks/nib.jpeg","Omnibsic Bank":"/banks/omnibsic.jpeg","Stanbic Bank":"/banks/stanbic bank.jpeg","Stanbic Bank Ghana":"/banks/stanbic bank.jpeg","UMB Bank":"/banks/umb.jpeg","ABII National Bank":"/banks/abii national.jpeg"};(0,n.useEffect)(()=>{j()},[i,c,t,a]);const j=async()=>{try{x(!0);const e=new URLSearchParams({page:i.toString(),limit:c.toString()});t&&e.append("name",t);const s=await fetch("http://localhost:8000/api/banks/search?".concat(e),{headers:{"Content-Type":"application/json"}});if(s.ok){const e=await s.json();console.log("Banks data loaded:",e);const t=await Promise.all((e.banks||[]).map(async e=>{try{const[t,s]=await Promise.all([fetch("http://localhost:8000/api/banks/".concat(e.id,"/case-statistics"),{headers:{"Content-Type":"application/json"}}),fetch("http://localhost:8000/api/banks/".concat(e.id,"/analytics"),{headers:{"Content-Type":"application/json"}})]);let a={total_cases:0,resolved_cases:0,unresolved_cases:0,favorable_cases:0,unfavorable_cases:0,mixed_cases:0,case_outcome:"N/A"},n={risk_level:"Low",risk_score:0,risk_factors:[],financial_risk_level:"Low"};if(t.ok){const e=await t.json();a=e.statistics_available?e:a}if(s.ok){const e=await s.json();n=e.analytics_available?e:n}return Ue(Ue({id:e.id,name:e.name,logo:e.logo_url||b[e.name]||"/banks/default-bank.jpeg",phone:e.phone||"N/A",email:e.email||"N/A",address:e.address||"N/A",website:e.website||"N/A",established:e.established_date?new Date(e.established_date).getFullYear().toString():"N/A",lastActivity:e.updated_at?new Date(e.updated_at).toISOString().split("T")[0]:"N/A"},a),n)}catch(t){return console.error("Error loading data for bank ".concat(e.name,":"),t),{id:e.id,name:e.name,logo:e.logo_url||b[e.name]||"/banks/default-bank.jpeg",phone:e.phone||"N/A",email:e.email||"N/A",address:e.address||"N/A",website:e.website||"N/A",established:e.established_date?new Date(e.established_date).getFullYear().toString():"N/A",lastActivity:e.updated_at?new Date(e.updated_at).toISOString().split("T")[0]:"N/A",total_cases:0,resolved_cases:0,unresolved_cases:0,favorable_cases:0,unfavorable_cases:0,mixed_cases:0,case_outcome:"N/A",risk_level:"Low",risk_score:0,risk_factors:[],financial_risk_level:"Low"}}}));m(t),f(e.total||0)}else console.error("Failed to load banks data:",s.status)}catch(e){console.error("Error loading banks data:",e)}finally{x(!1)}},v=d.filter(e=>"all"===a||e.risk_level===a),y=Math.ceil(g/c),N=(i-1)*c,w=N+c;return u?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading banks..."})]})}):h?(0,Te.jsx)(Ot,{children:(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Banks"}),(0,Te.jsxs)("p",{className:"text-gray-600 mt-1",children:[g," banks found"]})]}),(0,Te.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,Te.jsx)(zt,{className:"h-5 w-5 mr-1"}),"Back to Home"]})]})})}),(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(1),j()},className:"flex flex-col lg:flex-row gap-4",children:[(0,Te.jsxs)("div",{className:"flex-1 relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,Te.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Search banks...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",ref:r})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[(0,Te.jsx)("option",{value:"all",children:"All Risk Levels"}),(0,Te.jsx)("option",{value:"Low",children:"Low Risk"}),(0,Te.jsx)("option",{value:"Medium",children:"Medium Risk"}),(0,Te.jsx)("option",{value:"High",children:"High Risk"})]}),(0,Te.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors flex items-center",children:[(0,Te.jsx)(Je,{className:"h-4 w-4 mr-2"}),"Search"]})]})]})}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(t=>(0,Te.jsx)("div",{onClick:()=>(t=>{e("/bank-detail/".concat(t.id))})(t),className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Te.jsx)("img",{src:t.logo,alt:t.name,className:"h-12 w-12 rounded-lg object-cover mr-4",onError:e=>{e.target.src="/banks/default-bank.jpeg"}}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:t.established})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Low"===t.risk_level?"bg-green-100 text-green-800":"Medium"===t.risk_level?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[t.risk_level," Risk"]}),t.risk_score>0&&(0,Te.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Score: ",t.risk_score,"/100"]})]})]}),(0,Te.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(ft,{className:"h-4 w-4 mr-2"}),t.phone]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(bt,{className:"h-4 w-4 mr-2"}),t.email]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2"}),t.address]})]}),(0,Te.jsxs)("div",{className:"border-t pt-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Total Cases:"}),(0,Te.jsx)("span",{className:"font-semibold text-gray-900",children:t.total_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Resolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-green-600",children:t.resolved_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Unresolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-red-600",children:t.unresolved_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Outcome:"}),(0,Te.jsx)("span",{className:"font-semibold text-purple-600",children:t.case_outcome||"N/A"})]})]}),t.risk_score>0&&(0,Te.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[(0,Te.jsx)("span",{children:"Risk Assessment"}),(0,Te.jsxs)("span",{className:"font-medium",children:[t.risk_score,"/100"]})]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Te.jsx)("div",{className:"h-1.5 rounded-full ".concat(t.risk_score<=30?"bg-green-500":t.risk_score<=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(t.risk_score,100),"%")}})}),t.risk_factors&&t.risk_factors.length>0&&(0,Te.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Key Risks:"})," ",t.risk_factors.slice(0,2).join(", "),t.risk_factors.length>2&&"..."]})]})]})]})},t.id))}),0===v.length&&!u&&(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(wt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No banks found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}),y>1&&(0,Te.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",N+1," to ",Math.min(w,g)," of ",g," banks"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>o(e=>Math.max(e-1,1)),disabled:1===i,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-4 w-4"})}),(0,Te.jsxs)("span",{className:"px-4 py-2 text-sm font-medium text-gray-700",children:["Page ",i," of ",y]}),(0,Te.jsx)("button",{onClick:()=>o(e=>Math.min(e+1,y)),disabled:i===y,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-4 w-4"})})]})]})]})]})}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,Te.jsx)(js,{className:"h-16 w-16 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold",children:"Authentication Required"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:"Please log in to view banks data"})]}),(0,Te.jsx)("button",{onClick:()=>e("/login"),className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Go to Login"})]})})},ys=Ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Ns=()=>{const{id:e}=ae(),t=se(),[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[m,u]=(0,n.useState)(!0),[x,h]=(0,n.useState)(null),[p,g]=(0,n.useState)(!0),[f,b]=(0,n.useState)("manager"),[j,v]=(0,n.useState)([]),[y,N]=(0,n.useState)([]),[w,k]=(0,n.useState)(!1),[_,C]=(0,n.useState)([]),[S,A]=(0,n.useState)(""),[E,M]=(0,n.useState)("date"),[I,P]=(0,n.useState)("desc"),[L,T]=(0,n.useState)(1),[R]=(0,n.useState)(10),[D,O]=(0,n.useState)(!1),[F,z]=(0,n.useState)(null),[B,U]=(0,n.useState)(!1),H={"Ghana Commercial Bank":"/banks/gcb bank.jpeg","GCB Bank":"/banks/gcb bank.jpeg","Ecobank Ghana":"/banks/ecobank.jpeg",Ecobank:"/banks/ecobank.jpeg","Standard Chartered Bank":"/banks/stanchart.jpeg","Stanbic Bank":"/banks/stanbic bank.jpeg","Absa Bank":"/banks/absa.jpeg","Access Bank":"/banks/access bank.jpeg","Agricultural Development Bank":"/banks/adb.jpeg","Bank of Africa":"/banks/bank of africa.jpeg","Bank of Ghana":"/banks/Bank of ghana.jpeg","CAL Bank":"/banks/calbank.jpeg","Consolidated Bank Ghana":"/banks/cbg.jpeg","First Bank of Nigeria":"/banks/fbn.jpeg","Fidelity Bank":"/banks/Fidelity.jpeg","First Atlantic Bank":"/banks/first atlantic.jpeg","Ghana EXIM Bank":"/banks/ghana exim bank.jpeg","Guaranty Trust Bank":"/banks/gtbank.jpeg","National Investment Bank":"/banks/national invenstment bank.jpeg","NIB Bank":"/banks/nib.jpeg","Omnibsic Bank":"/banks/omnibsic.jpeg","Prudential Bank":"/banks/prudential bank.jpeg","Republic Bank":"/banks/republic bank.jpeg","Societe Generale":"/banks/societe generale bank.jpeg","The Royal Bank":"/banks/the royal bank.jpeg","UMB Bank":"/banks/umb.jpeg","Universal Merchant Bank":"/banks/universal merchant bank.jpeg","Zenith Bank":"/banks/zenith.jpeg"};(0,n.useEffect)(()=>{console.log("URL Parameters - Bank ID:",e),e&&(V(e),q(e),Y(e),W(e),G(e))},[e]);const V=async e=>{try{r(!0),o(null),console.log("loadBankData called with:",{bankId:e});const t="http://localhost:8000/api/banks/".concat(e);console.log("Using bank ID URL:",t);const s=await fetch(t,{headers:{"Content-Type":"application/json"}});if(console.log("Response status:",s.status),s.ok){const e=await s.json();if(console.log("Bank data from ID:",e),e){console.log("Raw bank data received:",e);const t={id:e.id,name:e.name,shortName:e.short_name||e.name,logo:e.logo_url||H[e.name]||"/banks/default-bank.jpeg",established:e.established_date?new Date(e.established_date).getFullYear().toString():"N/A",incorporated:e.established_date?new Date(e.established_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",headquarters:"".concat(e.city||"N/A",", ").concat(e.region||"N/A"),address:e.address||e.head_office_address||"N/A",city:e.city||"N/A",region:e.region||"N/A",country:e.country||"Ghana",postalCode:e.postal_code||"N/A",phone:e.phone||"N/A",customerServicePhone:e.customer_service_phone||"N/A",email:e.email||"N/A",customerServiceEmail:e.customer_service_email||"N/A",website:e.website||"N/A",bankCode:e.bank_code||"N/A",swiftCode:e.swift_code||"N/A",licenseNumber:e.license_number||"N/A",bankType:e.bank_type||"N/A",ownershipType:e.ownership_type||"N/A",rating:e.rating||"N/A",totalAssets:e.total_assets||0,netWorth:e.net_worth||0,branchesCount:e.branches_count||0,atmCount:e.atm_count||0,hasMobileApp:e.has_mobile_app||!1,hasOnlineBanking:e.has_online_banking||!1,hasAtmServices:e.has_atm_services||!1,hasForeignExchange:e.has_foreign_exchange||!1,services:e.services||[],previousNames:e.previous_names||[],isVerified:e.is_verified||!1,verificationDate:e.verification_date?new Date(e.verification_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",verificationNotes:e.verification_notes||"N/A",searchCount:e.search_count||0,lastSearched:e.last_searched?new Date(e.last_searched).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",status:e.status||"Active",createdAt:e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",updatedAt:e.updated_at?new Date(e.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",totalCases:0,activeCases:0,resolvedCases:0,riskLevel:"Low",riskScore:0,lastActivity:e.updated_at?new Date(e.updated_at).toISOString().split("T")[0]:"N/A",numberOfBranches:e.branches_count||0,previousNames:e.previous_names||[],managers:[],branches:[],cases:[]};console.log("Transformed bank data:",t),a(t),console.log("Bank data set successfully")}else console.error("No bank data found"),o("Bank not found")}else console.error("Failed to fetch bank data:",s.status),o("Failed to load bank data: ".concat(s.status))}catch(i){console.error("Error loading bank data:",i),o("Error loading bank data")}finally{r(!1)}},W=async e=>{try{u(!0);const t=await fetch("http://localhost:8000/api/banks/".concat(e,"/analytics"),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Bank analytics loaded:",e),d(e)}else console.error("Failed to load bank analytics:",t.status),d(null)}catch(i){console.error("Error loading bank analytics:",i),d(null)}finally{u(!1)}},G=async e=>{try{g(!0);const t=await fetch("http://localhost:8000/api/banks/".concat(e,"/case-statistics"),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Bank case stats loaded:",e),h(e)}else console.error("Failed to load bank case stats:",t.status),h(null)}catch(i){console.error("Error loading bank case stats:",i),h(null)}finally{g(!1)}},q=async e=>{v([{id:1,name:"Dr. Ernest Kwamina Yedu Addison",position:"Governor",tenure:"2017 - Present",qualifications:"PhD Economics, University of Manchester",experience:"25+ years in banking and finance",profileId:1,email:"governor@bog.gov.gh",phone:"+233 302 666 902",bio:"Experienced economist with extensive background in monetary policy and banking supervision."},{id:2,name:"Mrs. Elsie Addo Awadzi",position:"First Deputy Governor",tenure:"2017 - Present",qualifications:"LLM International Law, Harvard University",experience:"20+ years in legal and regulatory affairs",profileId:2,email:"first.deputy@bog.gov.gh",phone:"+233 302 666 903",bio:"Legal expert with extensive experience in financial regulation and international law."},{id:3,name:"Dr. Maxwell Opoku-Afari",position:"Second Deputy Governor",tenure:"2019 - Present",qualifications:"PhD Economics, University of Ghana",experience:"18+ years in economic research and policy",profileId:3,email:"second.deputy@bog.gov.gh",phone:"+233 302 666 904",bio:"Economic policy expert with strong background in research and analysis."}])},Y=async e=>{try{k(!0),console.log("Loading related cases for bank ID:",e);const t="http://localhost:8000/api/banks/".concat(e,"/related-cases?limit=10");console.log("API URL:",t);const s=await fetch(t,{headers:{"Content-Type":"application/json"}});if(console.log("Response status:",s.status),s.ok){const e=await s.json();console.log("Related cases loaded:",e),e.related_cases&&e.related_cases.length>0?N(e.related_cases):(console.log("No cases found in API response"),N([]))}else{console.error("Failed to fetch related cases:",s.status);const e=await s.text();console.error("Error response:",e),N([])}}catch(i){console.error("Error loading related cases:",i),N([])}finally{k(!1)}};(0,n.useEffect)(()=>{const e=((e,t,s,a)=>{let n=e;return t&&(n=n.filter(e=>{var s,a,n,l;return(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase()))||(null===(a=e.suit_reference_number)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.court_type)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null===(l=e.area_of_law)||void 0===l?void 0:l.toLowerCase().includes(t.toLowerCase()))})),n.sort((e,t)=>{let n,l;switch(s){case"title":n=e.title||"",l=t.title||"";break;case"court":n=e.court_type||"",l=t.court_type||"";break;default:n=new Date(e.date||0),l=new Date(t.date||0)}return"asc"===a?n<l?-1:n>l?1:0:n>l?-1:n<l?1:0}),n})(y,S,E,I);C(e),T(1)},[y,S,E,I]);const $=e=>e<=30?"text-emerald-600":e<=70?"text-amber-600":"text-red-600";return l?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading bank details..."})]})}):i&&!s?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(js,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Error Loading Bank"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:i}),(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4"}),"Go Back"]})]})}):s?(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,Te.jsxs)("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 shadow-sm",children:[(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsx)("div",{className:"flex items-center justify-between",children:(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-5 w-5"}),"Back"]}),(0,Te.jsx)("div",{className:"h-6 w-px bg-slate-300"}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("img",{src:s.logo,alt:"".concat(s.name," logo"),className:"h-8 w-8 rounded object-contain",onError:e=>{e.target.src="/banks/default-bank.jpeg"}}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:s.name}),(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:s.status})]})]}),(0,Te.jsx)("div",{className:"flex items-center gap-3",children:(0,Te.jsx)("button",{onClick:()=>{U(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Request Profile Information"})})]})})}),(0,Te.jsx)("div",{className:"pt-24 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,Te.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-blue-600"}),"Bank Information"]}),(0,Te.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Ut,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(wt,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-blue-800 uppercase tracking-wide",children:"Bank Name"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:s.name}),s.shortName&&s.shortName!==s.name&&(0,Te.jsxs)("p",{className:"text-xs text-blue-700",children:["Short: ",s.shortName]})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(Xt,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Established"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.established}),(0,Te.jsx)("p",{className:"text-xs text-gray-600",children:s.incorporated})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ot,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Bank Code"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.bankCode}),(0,Te.jsxs)("p",{className:"text-xs text-gray-600",children:["SWIFT: ",s.swiftCode]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(gt,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-green-800 uppercase tracking-wide",children:"Headquarters"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-green-900",children:s.headquarters}),(0,Te.jsx)("p",{className:"text-xs text-green-700",children:s.address})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ft,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Contact"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.phone}),(0,Te.jsx)("p",{className:"text-xs text-gray-600",children:s.email})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ys,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Website"})]}),(0,Te.jsx)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-blue-600 hover:text-blue-800",children:s.website})]})]})]})]}),s.previousNames&&s.previousNames.length>0&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Vt,{className:"h-5 w-5 text-purple-600"}),"Previous Names"]}),(0,Te.jsx)("div",{className:"flex flex-wrap gap-2",children:s.previousNames.map((e,t)=>(0,Te.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:e},t))})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-green-600"}),"Affiliations"]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(wt,{className:"w-4 h-4 text-green-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Ghana Association of Bankers"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Member since 2010"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(ot,{className:"w-4 h-4 text-blue-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Bank of Ghana"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Licensed Commercial Bank"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"Licensed"})]})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(Bt,{className:"w-4 h-4 text-amber-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Ghana Stock Exchange"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Listed Company"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-amber-600 font-medium",children:"Listed"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(ct,{className:"w-4 h-4 text-purple-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"International Banking Association"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Member since 2015"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:"Member"})]})]})]})]}),c&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(js,{className:"h-5 w-5 text-red-600"}),"Financial Risk Profile"]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[(0,Te.jsxs)("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:c.risk_score<=30?"#10b981":c.risk_score<=70?"#f59e0b":"#ef4444",strokeWidth:"8",fill:"none",strokeDasharray:"".concat(c.risk_score/100*251.2," 251.2"),className:"transition-all duration-1000 ease-out"})]}),(0,Te.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-3xl font-bold ".concat($(c.risk_score)),children:c.risk_score})})]}),(0,Te.jsxs)("div",{className:"space-y-1",children:[(0,Te.jsxs)("p",{className:"text-xl font-semibold ".concat($(c.risk_score)),children:[c.risk_level," Risk"]}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Financial Risk Score"})]})]})}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:"Risk Assessment Details"}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Credit Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.credit_risk||"N/A"})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Market Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.market_risk||"N/A"})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Operational Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.operational_risk||"N/A"})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Liquidity Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.liquidity_risk||"N/A"})]})]})]}),c.risk_factors&&c.risk_factors.length>0&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Key Risk Factors"}),(0,Te.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.risk_factors.slice(0,6).map((e,t)=>(0,Te.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:e},t)),c.risk_factors.length>6&&(0,Te.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",c.risk_factors.length-6," more"]})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200",children:[(0,Te.jsx)("div",{className:"border-b border-slate-200",children:(0,Te.jsx)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:["manager","board","secretaries","auditors","capital","shareholders"].map(e=>(0,Te.jsx)("button",{className:"py-4 px-1 border-b-2 font-medium text-sm capitalize ".concat(f===e?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),onClick:()=>b(e),children:"board"===e?"Board of Directors":"secretaries"===e?"Secretaries":"auditors"===e?"Auditors":"capital"===e?"Capital Details":"shareholders"===e?"Shareholders":e},e))})}),(0,Te.jsxs)("div",{className:"p-6",children:["manager"===f&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Management Team"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>(0,Te.jsx)("div",{className:"border border-slate-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-blue-600 font-semibold text-xs",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:e.name}),(0,Te.jsx)("p",{className:"text-sm font-medium text-blue-600 mb-2",children:e.position}),(0,Te.jsxs)("div",{className:"space-y-1 text-xs text-slate-600",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Tenure:"})," ",e.tenure]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Qualifications:"})," ",e.qualifications]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Experience:"})," ",e.experience]})]})]})]})},e.id))})]}),"board"===f&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Board of Directors"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>(0,Te.jsx)("div",{className:"border border-slate-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-sky-600 font-semibold text-xs",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:e.name}),(0,Te.jsx)("p",{className:"text-sm font-medium text-sky-600 mb-2",children:e.position}),(0,Te.jsxs)("div",{className:"space-y-1 text-xs text-slate-600",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Tenure:"})," ",e.tenure]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Qualifications:"})," ",e.qualifications]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Experience:"})," ",e.experience]})]})]})]})},e.id))}),(0,Te.jsxs)("div",{className:"mt-8",children:[(0,Te.jsx)("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Board Committees"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h5",{className:"font-medium text-slate-900 mb-2",children:"Audit Committee"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Oversees financial reporting and internal controls"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Chair: Dr. Kwame Asante"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h5",{className:"font-medium text-slate-900 mb-2",children:"Risk Management Committee"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Monitors and manages operational and financial risks"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Chair: Mrs. Efua Adjei"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h5",{className:"font-medium text-slate-900 mb-2",children:"Nominations Committee"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Reviews board composition and director appointments"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Chair: Dr. Kwame Asante"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h5",{className:"font-medium text-slate-900 mb-2",children:"Technology Committee"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Oversees digital transformation and IT strategy"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"Chair: Mrs. Efua Adjei"})]})]})]})]}),"secretaries"===f&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Secretaries"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"Ms. Grace Adjei",position:"Company Secretary",experience:"12 years in corporate governance",background:"Former Legal Counsel at Ghana Stock Exchange",qualifications:"LLB, ICSA, ACIS"},{name:"Mr. Samuel Ofori",position:"Assistant Secretary",experience:"8 years in corporate affairs",background:"Former Corporate Affairs Officer at Ecobank",qualifications:"BA Law, ICSA Part I"},{name:"Mrs. Comfort Asante",position:"Compliance Secretary",experience:"10 years in regulatory compliance",background:"Former Compliance Officer at Bank of Ghana",qualifications:"MSc Banking, CAMS, CCO"}].map((e,t)=>(0,Te.jsx)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-green-600 font-semibold text-xs",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,Te.jsx)("p",{className:"text-sm font-medium text-green-600 mb-2",children:e.position}),(0,Te.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Experience:"})," ",e.experience]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Background:"})," ",e.background]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Qualifications:"})," ",e.qualifications]})]})]})]})},t))}),(0,Te.jsxs)("div",{className:"mt-6 bg-green-50 rounded-lg p-6",children:[(0,Te.jsx)("h5",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Secretarial Functions"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Corporate Governance"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Maintains corporate records, ensures compliance with regulatory requirements, and manages board documentation"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Regulatory Compliance"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Monitors regulatory changes, ensures timely filings, and maintains relationships with regulatory bodies"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Board Support"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Coordinates board meetings, prepares agendas, and ensures proper documentation of board decisions"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Shareholder Relations"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Manages shareholder communications, annual general meetings, and dividend distributions"})]})]})]})]}),"auditors"===f&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"External Auditors"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"PricewaterhouseCoopers",position:"Principal Auditor",experience:"15 years with the bank",background:"Big 4 accounting firm with extensive banking experience",qualifications:"Chartered Accountant, ICAG",tenure:"2015 - Present",firm:"PwC Ghana",license:"ICAG-001234"},{name:"Ernst & Young",position:"Secondary Auditor",experience:"8 years with the bank",background:"International accounting firm specializing in financial services",qualifications:"Chartered Accountant, ICAG",tenure:"2018 - Present",firm:"EY Ghana",license:"ICAG-005678"},{name:"KPMG",position:"Tax Advisory Auditor",experience:"5 years with the bank",background:"Specialized in tax compliance and advisory services",qualifications:"Chartered Accountant, ICAG, CTA",tenure:"2020 - Present",firm:"KPMG Ghana",license:"ICAG-009876"}].map((e,t)=>(0,Te.jsx)("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-green-600 font-semibold text-xs",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-semibold text-gray-900 mb-1",children:e.name}),(0,Te.jsx)("p",{className:"text-sm font-medium text-green-600 mb-2",children:e.position}),(0,Te.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Experience:"})," ",e.experience]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Background:"})," ",e.background]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Qualifications:"})," ",e.qualifications]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Tenure:"})," ",e.tenure]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Firm:"})," ",e.firm]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"License:"})," ",e.license]})]})]})]})},t))}),(0,Te.jsxs)("div",{className:"mt-6 bg-green-50 rounded-lg p-6",children:[(0,Te.jsx)("h5",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Audit Scope & Responsibilities"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Financial Audit"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Annual financial statement audit, internal control assessment, and regulatory compliance verification"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Risk Assessment"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Evaluation of risk management frameworks, operational risk assessment, and compliance monitoring"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Regulatory Reporting"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Preparation of regulatory reports, Bank of Ghana compliance verification, and statutory filings"})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900 mb-2",children:"Tax Compliance"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Tax return preparation, tax planning advisory, and GRA compliance verification"})]})]})]}),(0,Te.jsxs)("div",{className:"mt-6",children:[(0,Te.jsx)("h5",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Audit Reports"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900",children:"Annual Audit Report 2023"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Financial Year 2023 - Complete Audit"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:"Clean Opinion"}),(0,Te.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Report"})]})]})}),(0,Te.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900",children:"Interim Review Q3 2024"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Third Quarter 2024 - Interim Review"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full font-medium",children:"Satisfactory"}),(0,Te.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Report"})]})]})}),(0,Te.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h6",{className:"font-medium text-gray-900",children:"Compliance Audit 2024"}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:"Regulatory Compliance Assessment"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 text-xs rounded-full font-medium",children:"Minor Issues"}),(0,Te.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Report"})]})]})})]})]})]}),"capital"===f&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Capital Structure & Details"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:"AC"})}),(0,Te.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Authorized Capital"})]}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:"GH\u20b5 2.5B"}),(0,Te.jsx)("p",{className:"text-xs text-blue-700",children:"2,500,000,000 shares"})]}),(0,Te.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-green-600 font-semibold text-sm",children:"IC"})}),(0,Te.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Issued Capital"})]}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-green-900",children:"GH\u20b5 1.8B"}),(0,Te.jsx)("p",{className:"text-xs text-green-700",children:"1,800,000,000 shares"})]}),(0,Te.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-purple-600 font-semibold text-sm",children:"PC"})}),(0,Te.jsx)("span",{className:"text-sm font-medium text-purple-800",children:"Paid-up Capital"})]}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:"GH\u20b5 1.2B"}),(0,Te.jsx)("p",{className:"text-xs text-purple-700",children:"1,200,000,000 shares"})]}),(0,Te.jsxs)("div",{className:"bg-amber-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-amber-600 font-semibold text-sm",children:"RC"})}),(0,Te.jsx)("span",{className:"text-sm font-medium text-amber-800",children:"Reserve Capital"})]}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-amber-900",children:"GH\u20b5 600M"}),(0,Te.jsx)("p",{className:"text-xs text-amber-700",children:"600,000,000 shares"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,Te.jsx)("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Share Class Details"}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Ordinary Shares"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:"1,200,000,000"})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Preference Shares"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:"300,000,000"})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Treasury Shares"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:"50,000,000"})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Unissued Shares"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:"950,000,000"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,Te.jsx)("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Financial Ratios"}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Capital Adequacy Ratio"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-600",children:"18.5%"})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Tier 1 Capital Ratio"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-600",children:"15.2%"})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-slate-100",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Leverage Ratio"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-600",children:"8.3%"})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:"Return on Equity"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-purple-600",children:"12.8%"})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,Te.jsx)("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Capital History & Changes"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:"Capital Increase"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"March 2023 - Rights Issue"})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsx)("p",{className:"font-semibold text-green-600",children:"+GH\u20b5 200M"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"200M new shares"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:"Bonus Issue"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"September 2022 - 1:5 Bonus"})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsx)("p",{className:"font-semibold text-blue-600",children:"+GH\u20b5 150M"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"150M bonus shares"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:"Share Buyback"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"December 2021 - Treasury Shares"})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsx)("p",{className:"font-semibold text-purple-600",children:"-GH\u20b5 50M"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"50M treasury shares"})]})]})]})]})]}),"shareholders"===f&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Major Shareholders"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:"TS"})}),(0,Te.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Total Shares"})]}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:"1.8B"}),(0,Te.jsx)("p",{className:"text-xs text-blue-700",children:"Outstanding shares"})]}),(0,Te.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-green-600 font-semibold text-sm",children:"FS"})}),(0,Te.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Free Float"})]}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-green-900",children:"65%"}),(0,Te.jsx)("p",{className:"text-xs text-green-700",children:"Publicly traded"})]}),(0,Te.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-purple-600 font-semibold text-sm",children:"IS"})}),(0,Te.jsx)("span",{className:"text-sm font-medium text-purple-800",children:"Institutional"})]}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:"35%"}),(0,Te.jsx)("p",{className:"text-xs text-purple-700",children:"Institutional holdings"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Te.jsx)("h4",{className:"text-lg font-semibold text-slate-900",children:"Top 10 Shareholders"}),(0,Te.jsx)("div",{className:"space-y-3",children:[{name:"Ghana Government",percentage:25.5,shares:"459M",type:"Government",change:"+2.1%"},{name:"Pension Fund Trustees",percentage:18.2,shares:"328M",type:"Institutional",change:"+0.8%"},{name:"International Finance Corp",percentage:12.8,shares:"230M",type:"International",change:"0.0%"},{name:"Ecobank Transnational",percentage:8.5,shares:"153M",type:"Corporate",change:"-1.2%"},{name:"Stanbic Investment",percentage:6.2,shares:"112M",type:"Institutional",change:"+0.5%"},{name:"Goldman Sachs",percentage:4.8,shares:"86M",type:"International",change:"+0.3%"},{name:"BlackRock Inc",percentage:3.9,shares:"70M",type:"International",change:"+0.7%"},{name:"Vanguard Group",percentage:2.8,shares:"50M",type:"International",change:"+0.2%"},{name:"Fidelity Investments",percentage:2.1,shares:"38M",type:"International",change:"-0.1%"},{name:"Other Shareholders",percentage:15.2,shares:"274M",type:"Retail",change:"-2.3%"}].map((e,t)=>(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-slate-600 font-semibold text-sm",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h5",{className:"font-semibold text-slate-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:[e.type," \u2022 ",e.shares," shares"]})]})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("p",{className:"text-lg font-bold text-slate-900",children:[e.percentage,"%"]}),(0,Te.jsx)("p",{className:"text-sm font-medium ".concat(e.change.startsWith("+")?"text-green-600":e.change.startsWith("-")?"text-red-600":"text-slate-600"),children:e.change})]})]}),(0,Te.jsx)("div",{className:"mt-3",children:(0,Te.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.percentage,"%")}})})})]},t))})]}),(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[(0,Te.jsx)("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Shareholder Categories"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,Te.jsx)("span",{className:"text-blue-600 font-bold text-lg",children:"25.5%"})}),(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:"Government"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"459M shares"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,Te.jsx)("span",{className:"text-green-600 font-bold text-lg",children:"35.0%"})}),(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:"Institutional"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"630M shares"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,Te.jsx)("span",{className:"text-purple-600 font-bold text-lg",children:"25.0%"})}),(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:"International"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"450M shares"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,Te.jsx)("span",{className:"text-amber-600 font-bold text-lg",children:"14.5%"})}),(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:"Retail"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"261M shares"})]})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(Ht,{className:"h-5 w-5 text-blue-600"}),"Related Cases (",_.length," of ",y.length,")"]}),(0,Te.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Ut,{className:"h-5 w-5"})})]}),(0,Te.jsx)("div",{className:"mb-6 space-y-4",children:(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search cases...",value:S,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("select",{value:E,onChange:e=>M(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"date",children:"Sort by Date"}),(0,Te.jsx)("option",{value:"title",children:"Sort by Title"}),(0,Te.jsx)("option",{value:"court",children:"Sort by Court"})]}),(0,Te.jsxs)("select",{value:I,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"desc",children:"Descending"}),(0,Te.jsx)("option",{value:"asc",children:"Ascending"})]}),(0,Te.jsx)("button",{onClick:()=>{A(""),M("date"),P("desc")},className:"px-4 py-2 text-slate-600 hover:text-slate-800 transition-colors",children:"Clear"})]})]})}),w?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading cases..."})]}):_.length>0?(0,Te.jsx)("div",{className:"space-y-4",children:_.map(e=>(0,Te.jsx)("div",{className:"bg-slate-50 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:e.title}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-sm text-slate-600 mb-3",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Suit Number:"})," ",e.suit_reference_number]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Court:"})," ",e.court_type||"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Date:"})," ",e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Nature:"})," ",e.area_of_law||"N/A"]})]}),e.ai_case_outcome&&(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Outcome:"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("WON"===e.ai_case_outcome?"bg-emerald-100 text-emerald-800":"LOST"===e.ai_case_outcome?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"),children:e.ai_case_outcome})]})]}),(0,Te.jsxs)("div",{className:"ml-4 flex gap-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{z(e),O(!0)})(e),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Request Details"}),(0,Te.jsx)("button",{onClick:()=>t("/case-details/".concat(e.id)),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Case"})]})]})},e.id))}):(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(Ht,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-slate-500",children:"No related cases found for this bank."}),S&&(0,Te.jsx)("p",{className:"text-sm text-slate-400 mt-2",children:"Try adjusting your search criteria."})]})]})]}),(0,Te.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[c&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(js,{className:"h-5 w-5 text-red-600"}),"Financial Risk Assessment",m&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-red-600"})]}),m?(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"text-center mb-4",children:[(0,Te.jsxs)("div",{className:"relative w-24 h-24 mx-auto mb-2",children:[(0,Te.jsxs)("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:c.risk_score<=30?"#10b981":c.risk_score<=70?"#f59e0b":"#ef4444",strokeWidth:"8",fill:"none",strokeDasharray:"".concat(c.risk_score/100*251.2," 251.2"),className:"transition-all duration-1000 ease-out"})]}),(0,Te.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-2xl font-bold ".concat($(c.risk_score)),children:c.risk_score})})]}),(0,Te.jsxs)("div",{className:"space-y-1",children:[(0,Te.jsxs)("p",{className:"text-lg font-semibold ".concat($(c.risk_score)),children:[c.risk_level," Risk"]}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Financial Risk Score"})]})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Resolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-green-600",children:(null===x||void 0===x?void 0:x.resolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Unresolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-orange-600",children:(null===x||void 0===x?void 0:x.unresolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Mixed:"}),(0,Te.jsx)("span",{className:"font-semibold text-yellow-600",children:(null===x||void 0===x?void 0:x.mixed_cases)||0})]})]}),c.risk_factors&&c.risk_factors.length>0&&(0,Te.jsxs)("div",{className:"text-left mt-4",children:[(0,Te.jsx)("p",{className:"text-xs font-medium text-slate-700 mb-2",children:"Key Risk Factors:"}),(0,Te.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.risk_factors.slice(0,4).map((e,t)=>(0,Te.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:e},t)),c.risk_factors.length>4&&(0,Te.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",c.risk_factors.length-4," more"]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Qe,{className:"h-5 w-5 text-blue-600"}),"Quick Stats",(p||m)&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-blue-600"})]}),p||m?(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})}):(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Total Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===x||void 0===x?void 0:x.total_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Resolved Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===x||void 0===x?void 0:x.resolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Unresolved Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===x||void 0===x?void 0:x.unresolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Favorable Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-600",children:(null===x||void 0===x?void 0:x.favorable_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Unfavorable Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-red-600",children:(null===x||void 0===x?void 0:x.unfavorable_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Mixed Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-yellow-600",children:(null===x||void 0===x?void 0:x.mixed_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Overall Outcome:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold ".concat("Favorable"===(null===x||void 0===x?void 0:x.case_outcome)?"text-green-600":"Unfavorable"===(null===x||void 0===x?void 0:x.case_outcome)?"text-red-600":"Mixed"===(null===x||void 0===x?void 0:x.case_outcome)?"text-yellow-600":"text-gray-600"),children:(null===x||void 0===x?void 0:x.case_outcome)||"N/A"})]})]})]}),(0,Te.jsx)(Gt,{isOpen:D,onClose:()=>O(!1),caseData:F,entityType:"Bank",entityName:null===s||void 0===s?void 0:s.name}),(0,Te.jsx)(Gt,{isOpen:B,onClose:()=>U(!1),caseData:null,entityType:"Bank",entityName:null===s||void 0===s?void 0:s.name,isProfileRequest:!0})]})]})})]})}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(wt,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Bank Not Found"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:"The requested bank could not be found."}),(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4"}),"Go Back"]})]})})},ws=()=>{const e=se(),[t,s]=(0,n.useState)(""),[a,l]=(0,n.useState)("all"),r=(0,n.useRef)(null),[i,o]=(0,n.useState)(1),[c]=(0,n.useState)(9),[d,m]=(0,n.useState)([]),[u,x]=(0,n.useState)(!0),[h,p]=(0,n.useState)(!1),[g,f]=(0,n.useState)(0),b={"SIC Insurance":"/insurances/SIC.png","SIC Insurance Company":"/insurances/SIC.png","Enterprise Life":"/insurances/ENTERPRISE LIFE.png","Enterprise Life Insurance":"/insurances/ENTERPRISE LIFE.png","MetLife Ghana":"/insurances/METROPOLITAN.jpeg","Metropolitan Life Insurance":"/insurances/METROPOLITAN.jpeg","Vanguard Assurance":"/insurances/VANGUARD.jpeg","Ghana Reinsurance":"/insurances/ghic.png","Star Assurance":"/insurances/STAR.jpeg","GLICO Insurance":"/insurances/GLICO.png","GLICO General Insurance":"/insurances/GLICO.png","GLICO Life Insurance":"/insurances/GLICO.png","Hollard Insurance":"/insurances/HOLLARD.png","Old Mutual":"/insurances/OLD MUTUAL.jpeg","Sanlam Allianz":"/insurances/SANLAM ALLIANZ.jpeg","Prudential Insurance":"/insurances/PRUDENTIAL.png","NSIA Insurance":"/insurances/NSIA.jpeg","Phoenix Insurance":"/insurances/PHOENIX.png","Ghana Life Insurance":"/insurances/GHANA LIFE INSURANCE.png","Ghana Union Assurance":"/insurances/GHANA UNION ASSURANCE.png","Coronation Insurance":"/insurances/CORONATION.png","Donewell Insurance":"/insurances/DONEWELL.png","Apex Insurance":"/insurances/APEX.png","Bedrock Insurance":"/insurances/BEDROCK.png","Beige Assure":"/insurances/BEIGE ASSURE.png","Best Insurance":"/insurances/BEST.jpeg","Cosmopolitan Insurance":"/insurances/COSMOPOLITAN.png","Dosh Insurance":"/insurances/DOSH.jpeg","Equity Insurance":"/insurances/EQUITY.jpeg","Esich Life":"/insurances/ESICH LIFE.jpeg","First Insurance":"/insurances/FIRST INSURANCE.jpeg","Heritage Energy Insurance":"/insurances/HERITAGE ENERGY INSURANCE.png","Impact Life Insurance":"/insurances/IMPACT LIFE INSURANCE.jpeg","Imperial Insurance":"/insurances/IMPERIAL.jpeg","Loyalty Insurance":"/insurances/LOYALTY.jpeg","Millennium Insurance":"/insurances/MILLENNIUM.png","Nationwide Medical":"/insurances/NATIONAWIDE MEDICAL.png","Premier Insurance":"/insurances/PREMIER.png","Priority Insurance":"/insurances/Priority.jpeg","Provident Insurance":"/insurances/Provident.jpeg","Quality Life Insurance":"/insurances/Quality.png","Regency Insurance":"/insurances/RegencyNem.jpeg","Serene Insurance":"/insurances/SERENE.png","Star Health Insurance":"/insurances/STAR HEALTH.png","Sunu Insurance":"/insurances/SUNU.png","Unique Insurance":"/insurances/UNIQUE.png","Vitality Insurance":"/insurances/VITALITY.jpeg","ACACIA Insurance":"/insurances/ACACIA.jpeg","ACE Insurance":"/insurances/ACE.png","ACTVA Insurance":"/insurances/ACTVA.jpeg","Asterlife Insurance":"/insurances/ASTERLIFE.htm","MiLife Insurance":"/insurances/MILIFE.png","Prime Insurance":"/insurances/prime.png"};(0,n.useEffect)(()=>{(()=>{const e=localStorage.getItem("accessToken");return p(!!e),!!e})()?j():x(!1)},[i,c,t,a]);const j=async()=>{try{const e=localStorage.getItem("accessToken");if(!e)return console.error("No authentication token found"),void x(!1);x(!0);const s=new URLSearchParams({page:i.toString(),limit:c.toString()});t&&s.append("name",t);const a=await fetch("http://localhost:8000/api/insurance/search?".concat(s),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(a.ok){const e=await a.json();console.log("Insurance data loaded:",e);const t=(e.insurance||[]).map(e=>({id:e.id,name:e.name,logo:e.logo_url||b[e.name]||"/insurances/default-insurance.png",phone:e.phone||"N/A",email:e.email||"N/A",address:e.address||"N/A",website:e.website||"N/A",established:e.established_date?new Date(e.established_date).getFullYear().toString():"N/A",insuranceType:e.insurance_type||"N/A",totalCases:e.total_cases||0,activeCases:e.total_cases||0,resolvedCases:e.total_cases||0,riskLevel:e.risk_level||"Low",riskScore:e.risk_score||0,successRate:e.success_rate||0,lastActivity:e.updated_at?new Date(e.updated_at).toISOString().split("T")[0]:"N/A",cases:[]}));m(t),f(e.total||0)}else console.error("Failed to load insurance data:",a.status)}catch(e){console.error("Error loading insurance data:",e)}finally{x(!1)}},v=d.filter(e=>"all"===a||e.riskLevel===a),y=Math.ceil(g/c),N=(i-1)*c,w=N+c;return u?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading insurance companies..."})]})}):h?(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Insurance Companies"}),(0,Te.jsxs)("p",{className:"text-gray-600 mt-1",children:[g," insurance companies found"]})]}),(0,Te.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,Te.jsx)(zt,{className:"h-5 w-5 mr-1"}),"Back to Home"]})]})})}),(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(1),j()},className:"flex flex-col lg:flex-row gap-4",children:[(0,Te.jsxs)("div",{className:"flex-1 relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,Te.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Search insurance companies...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",ref:r})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[(0,Te.jsx)("option",{value:"all",children:"All Risk Levels"}),(0,Te.jsx)("option",{value:"Low",children:"Low Risk"}),(0,Te.jsx)("option",{value:"Medium",children:"Medium Risk"}),(0,Te.jsx)("option",{value:"High",children:"High Risk"})]}),(0,Te.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors flex items-center",children:[(0,Te.jsx)(Je,{className:"h-4 w-4 mr-2"}),"Search"]})]})]})}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(t=>(0,Te.jsx)("div",{onClick:()=>(t=>{e("/insurance-profile/".concat(t.id,"?name=").concat(encodeURIComponent(t.name)))})(t),className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Te.jsx)("img",{src:t.logo,alt:t.name,className:"h-12 w-12 rounded-lg object-cover mr-4",onError:e=>{e.target.src="/insurances/default-insurance.png"}}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:t.established})]}),(0,Te.jsxs)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Low"===t.riskLevel?"bg-green-100 text-green-800":"Medium"===t.riskLevel?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[t.riskLevel," Risk"]})]}),(0,Te.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(ft,{className:"h-4 w-4 mr-2"}),t.phone]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(bt,{className:"h-4 w-4 mr-2"}),t.email]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(ot,{className:"h-4 w-4 mr-2"}),t.insuranceType]})]}),(0,Te.jsx)("div",{className:"border-t pt-4",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("span",{className:"font-medium",children:["Total Cases: ",t.totalCases]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("span",{className:"font-medium",children:["Success Rate: ",t.successRate,"%"]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("span",{className:"font-medium",children:["Risk Score: ",t.riskScore]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("span",{className:"font-medium",children:["Last Activity: ",t.lastActivity]})})]})})]})},t.id))}),0===v.length&&!u&&(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(ot,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No insurance companies found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}),y>1&&(0,Te.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",N+1," to ",Math.min(w,g)," of ",g," insurance companies"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>o(e=>Math.max(e-1,1)),disabled:1===i,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-4 w-4"})}),(0,Te.jsxs)("span",{className:"px-4 py-2 text-sm font-medium text-gray-700",children:["Page ",i," of ",y]}),(0,Te.jsx)("button",{onClick:()=>o(e=>Math.min(e+1,y)),disabled:i===y,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-4 w-4"})})]})]})]})]}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,Te.jsx)(js,{className:"h-16 w-16 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold",children:"Authentication Required"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:"Please log in to view insurance data"})]}),(0,Te.jsx)("button",{onClick:()=>e("/login"),className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Go to Login"})]})})},ks=Ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),_s=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Cs=()=>{const[e]=Le(),t=se(),[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)({basicInfo:!0,contactInfo:!0,services:!0,financialInfo:!0,management:!0,cases:!0,previousNames:!0}),[m,u]=(0,n.useState)("all"),[x,h]=(0,n.useState)("date"),[p,g]=(0,n.useState)(!1),[f,b]=(0,n.useState)(null),[j,v]=(0,n.useState)("case_details"),[y,N]=(0,n.useState)(""),[w,k]=(0,n.useState)(1),[_]=(0,n.useState)(5),[C,S]=(0,n.useState)([]),[A,E]=(0,n.useState)([]),[M,I]=(0,n.useState)([]),[P,L]=(0,n.useState)(!1),[T,R]=(0,n.useState)(0),[D,O]=(0,n.useState)(""),[F,z]=(0,n.useState)("date"),[B,U]=(0,n.useState)("desc"),H={"ACACIA Insurance":"/insurances/ACACIA.jpeg","ACE Insurance":"/insurances/ACE.png","ACTVA Insurance":"/insurances/ACTVA.jpeg","APEX Insurance":"/insurances/APEX.png","ASTERLIFE Insurance":"/insurances/ASTERLIFE.htm","BEDROCK Insurance":"/insurances/BEDROCK.png","BEIGE ASSURE Insurance":"/insurances/BEIGE ASSURE.png","BEST Insurance":"/insurances/BEST.jpeg","CORONATION Insurance":"/insurances/CORONATION.png","COSMOPOLITAN Insurance":"/insurances/COSMOPOLITAN.png","DONEWELL Insurance":"/insurances/DONEWELL.png","DOSH Insurance":"/insurances/DOSH.jpeg","ENTERPRISE LIFE Insurance":"/insurances/ENTERPRISE LIFE.png","ENTERPRISE Insurance":"/insurances/ENTERPRISE.png","EQUITY Insurance":"/insurances/EQUITY.jpeg","ESICH LIFE Insurance":"/insurances/ESICH LIFE.jpeg","FIRST Insurance":"/insurances/FIRST INSURANCE.jpeg","GHANA LIFE INSURANCE":"/insurances/GHANA LIFE INSURANCE.png","GHANA UNION ASSURANCE":"/insurances/GHANA UNION ASSURANCE.png","GHIC Insurance":"/insurances/GHIC.png","GLICO Insurance":"/insurances/GLICO.png","GLICO GENERAL Insurance":"/insurances/GLICO GENERAL.png","HERITAGE ENERGY Insurance":"/insurances/HERITAGE ENERGY INSURANCE.png","HOLLARD Insurance":"/insurances/HOLLARD.jpeg","IMPACT LIFE Insurance":"/insurances/IMPACT LIFE INSURANCE.jpeg","IMPERIAL Insurance":"/insurances/IMPERIAL.jpeg","LOYALTY Insurance":"/insurances/LOYALTY.jpeg","METROPOLITAN Insurance":"/insurances/METROPOLITAN.jpeg","MILLENNIUM Insurance":"/insurances/MILLENNIUM.png","NATIONAWIDE MEDICAL Insurance":"/insurances/NATIONAWIDE MEDICAL.png","NSIA Insurance":"/insurances/NSIA.jpeg","OLD MUTUAL Insurance":"/insurances/OLD MUTUAL.jpeg","Phoenix Insurance":"/insurances/Phoenix.jpeg","PHOENIX Insurance":"/insurances/PHOENIX.png","PREMIER Insurance":"/insurances/PREMIER.png","PRUDENTIAL Insurance":"/insurances/PRUDENTIAL.png","QUALITY Insurance":"/insurances/Quality.png","SANLAM ALLIANZ Insurance":"/insurances/SANLAM ALLIANZ.jpeg","SERENE Insurance":"/insurances/SERENE.png","SIC Insurance":"/insurances/SIC.jpeg","STAR Insurance":"/insurances/STAR.jpeg","STAR HEALTH Insurance":"/insurances/STAR HEALTH.png","SUNU Insurance":"/insurances/SUNU.png","UNIQUE Insurance":"/insurances/UNIQUE.png","VANGUARD Insurance":"/insurances/VANGUARD.jpeg","VITALITY Insurance":"/insurances/VITALITY.jpeg"};(0,n.useEffect)(()=>{const t=e.get("id"),s=e.get("name");console.log("URL Parameters - Insurance ID:",t,"Insurance Name:",s),(t||s)&&(k(1),V(t,s),W(t,s),G(t,s))},[e]);const V=async(e,t)=>{try{r(!0),o(null);const s=localStorage.getItem("accessToken")||"test-token-123";let n;e?n="http://localhost:8000/api/insurance/".concat(e):t&&(n="http://localhost:8000/api/insurance/search?name=".concat(encodeURIComponent(t),"&limit=1")),console.log("Loading insurance data from:",n);const l=await fetch(n,{headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"}});if(l.ok){let t;if(e)t=await l.json();else{const e=await l.json();t=e.insurance&&e.insurance.length>0?e.insurance[0]:null}if(t){console.log("Insurance data loaded:",t);const e={id:t.id,name:t.name,logo:t.logo_url||H[t.name]||"/insurances/default.png",established:t.established_date?new Date(t.established_date).getFullYear().toString():"N/A",headquarters:t.address||"".concat(t.city||"Accra",", ").concat(t.region||"Greater Accra Region"),phone:t.phone||"N/A",email:t.email||"N/A",website:t.website||"N/A",licenseNumber:t.license_number||"N/A",registrationNumber:t.registration_number||"N/A",insuranceType:t.insurance_type||"N/A",ownershipType:t.ownership_type||"N/A",rating:t.rating||"N/A",totalAssets:t.total_assets||0,netWorth:t.net_worth||0,premiumIncome:t.premium_income||0,claimsPaid:t.claims_paid||0,branchesCount:t.branches_count||0,agentsCount:t.agents_count||0,hasMobileApp:t.has_mobile_app||!1,hasOnlinePortal:t.has_online_portal||!1,hasOnlineClaims:t.has_online_claims||!1,has24_7Support:t.has_24_7_support||!1,specializesIn:t.specializes_in||[],targetMarket:t.target_market||"N/A",coverageAreas:t.coverage_areas||[],services:t.services||[],description:t.description||"No description available",totalCases:0,activeCases:0,resolvedCases:0,riskLevel:"Low",riskScore:0,lastActivity:t.updated_at?new Date(t.updated_at).toISOString().split("T")[0]:"N/A",cases:[],previousNames:t.previous_names||[]};a(e)}else console.error("No insurance company found"),o("Insurance company not found")}else{const e=await l.text();console.error("API Error:",e),o("Failed to load insurance data: ".concat(l.status," - ").concat(e))}}catch(s){console.error("Error loading insurance data:",s),o("Error loading insurance data")}finally{r(!1)}},W=async(e,t)=>{S([{id:1,name:"John Doe",position:"Chief Executive Officer",experience:"15 years",qualifications:"MBA, Insurance Management",email:"john.doe@insurance.com",phone:"+233 30 123 4567"},{id:2,name:"Jane Smith",position:"Chief Financial Officer",experience:"12 years",qualifications:"CPA, Finance",email:"jane.smith@insurance.com",phone:"+233 30 123 4568"}])},G=async(e,t)=>{L(!0);try{const e=[{id:1,title:"INSURANCE COMPANY vs. CLAIMANT",suit_reference_number:"SUIT NO.: INS/001/2023",date:"2023-01-15",court:"High Court",status:"Resolved",amount:"GHS 50,000"}];E(e),I(e),R(e.length)}catch(i){console.error("Error loading related cases:",i)}finally{L(!1)}},q=e=>{d(t=>Ue(Ue({},t),{},{[e]:!t[e]}))},Y=e=>new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return l?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading insurance company details..."})]})}):i?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Kt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Error Loading Insurance Details"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:i}),(0,Te.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700",children:"Try Again"})]})}):s?(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,Te.jsx)("div",{className:"bg-white border-b border-slate-200",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-3",children:(0,Te.jsxs)("nav",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[(0,Te.jsx)("button",{onClick:()=>t("/"),className:"hover:text-slate-900 transition-colors",children:"Home"}),(0,Te.jsx)("span",{children:"/"}),(0,Te.jsx)("button",{onClick:()=>t("/insurance"),className:"hover:text-slate-900 transition-colors",children:"Insurance Companies"}),(0,Te.jsx)("span",{children:"/"}),(0,Te.jsx)("span",{className:"text-slate-900",children:s.name})]})})}),(0,Te.jsx)("div",{className:"bg-white border-b border-slate-200",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Te.jsxs)("div",{className:"h-20 w-20 rounded-full bg-sky-100 flex items-center justify-center overflow-hidden",children:[s.logo&&s.logo.startsWith("/")?(0,Te.jsx)("img",{src:s.logo,alt:"".concat(s.name," logo"),className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Te.jsx)("div",{className:"w-full h-full flex items-center justify-center text-3xl",style:{display:s.logo&&s.logo.startsWith("/")?"none":"flex"},children:"\ud83d\udee1\ufe0f"})]}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:s.name}),(0,Te.jsxs)("p",{className:"text-lg text-slate-600",children:["Established ",s.established," \u2022 ",s.headquarters]}),(0,Te.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,Te.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"Low":return"bg-emerald-50 text-emerald-600 ring-emerald-200";case"Medium":return"bg-yellow-50 text-yellow-600 ring-yellow-200";case"High":return"bg-red-50 text-red-600 ring-red-200";default:return"bg-gray-50 text-gray-600 ring-gray-200"}})(s.riskLevel)),children:[s.riskLevel," Risk"]}),(0,Te.jsxs)("span",{className:"text-sm text-slate-500",children:[s.totalCases," cases \u2022 Last activity: ",s.lastActivity]})]})]}),(0,Te.jsxs)("div",{className:"flex gap-3",children:[(0,Te.jsxs)("button",{onClick:()=>t("/insurance"),className:"px-4 py-2 text-slate-600 hover:text-slate-800 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4 mr-2 inline"}),"Back to Insurance"]}),(0,Te.jsxs)("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(yt,{className:"h-4 w-4 mr-2 inline"}),"Request Service"]})]})]})})}),(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"space-y-8",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 mr-2 text-sky-600"}),"Basic Information"]}),(0,Te.jsx)("button",{onClick:()=>q("basicInfo"),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.basicInfo?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.basicInfo&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 p-6",children:[(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(ot,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-800 uppercase tracking-wide",children:"Company Details"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Insurance Type:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.insuranceType})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Ownership Type:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.ownershipType})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"License Number:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.licenseNumber})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Registration Number:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.registrationNumber})]})]})]})}),(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(Xt,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-800 uppercase tracking-wide",children:"Establishment"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Established:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.established})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Headquarters:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.headquarters})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Target Market:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.targetMarket})]})]})]})})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[(0,Te.jsx)(ft,{className:"h-5 w-5 mr-2 text-sky-600"}),"Contact Information"]}),(0,Te.jsx)("button",{onClick:()=>q("contactInfo"),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.contactInfo?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.contactInfo&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 p-6",children:[(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(ft,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-800 uppercase tracking-wide",children:"Contact Details"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Phone:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.phone})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Email:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.email})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Website:"}),(0,Te.jsx)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-sky-600 hover:text-sky-800",children:s.website})]})]})]})}),(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(gt,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-800 uppercase tracking-wide",children:"Location"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Address:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.headquarters})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Branches:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.branchesCount})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Agents:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.agentsCount})]})]})]})})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[(0,Te.jsx)(ot,{className:"h-5 w-5 mr-2 text-sky-600"}),"Insurance Services"]}),(0,Te.jsx)("button",{onClick:()=>q("services"),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.services?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.services&&(0,Te.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h3",{className:"text-sm font-semibold text-slate-900 mb-3 flex items-center",children:[(0,Te.jsx)(ks,{className:"w-4 h-4 mr-2 text-sky-600"}),"Digital Services"]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsx)("div",{className:"p-3 rounded-lg border ".concat(s.hasMobileApp?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(ks,{className:"w-4 h-4 ".concat(s.hasMobileApp?"text-green-600":"text-gray-400")}),(0,Te.jsx)("span",{className:"text-sm font-medium ".concat(s.hasMobileApp?"text-green-800":"text-gray-500"),children:"Mobile App"})]})}),(0,Te.jsx)("div",{className:"p-3 rounded-lg border ".concat(s.hasOnlinePortal?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(ys,{className:"w-4 h-4 ".concat(s.hasOnlinePortal?"text-green-600":"text-gray-400")}),(0,Te.jsx)("span",{className:"text-sm font-medium ".concat(s.hasOnlinePortal?"text-green-800":"text-gray-500"),children:"Online Portal"})]})}),(0,Te.jsx)("div",{className:"p-3 rounded-lg border ".concat(s.hasOnlineClaims?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(xt,{className:"w-4 h-4 ".concat(s.hasOnlineClaims?"text-green-600":"text-gray-400")}),(0,Te.jsx)("span",{className:"text-sm font-medium ".concat(s.hasOnlineClaims?"text-green-800":"text-gray-500"),children:"Online Claims"})]})}),(0,Te.jsx)("div",{className:"p-3 rounded-lg border ".concat(s.has24_7Support?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(Qe,{className:"w-4 h-4 ".concat(s.has24_7Support?"text-green-600":"text-gray-400")}),(0,Te.jsx)("span",{className:"text-sm font-medium ".concat(s.has24_7Support?"text-green-800":"text-gray-500"),children:"24/7 Support"})]})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h3",{className:"text-sm font-semibold text-slate-900 mb-3 flex items-center",children:[(0,Te.jsx)(ot,{className:"w-4 h-4 mr-2 text-sky-600"}),"Insurance Products"]}),(0,Te.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:s.services&&s.services.map((e,t)=>(0,Te.jsx)("div",{className:"p-3 bg-sky-50 rounded-lg border border-sky-200",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(ot,{className:"w-4 h-4 text-sky-600"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-sky-800",children:e})]})},t))})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h3",{className:"text-sm font-semibold text-slate-900 mb-3 flex items-center",children:[(0,Te.jsx)(gt,{className:"w-4 h-4 mr-2 text-sky-600"}),"Coverage Areas"]}),(0,Te.jsx)("div",{className:"flex flex-wrap gap-2",children:s.coverageAreas&&s.coverageAreas.map((e,t)=>(0,Te.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 text-sm rounded-full",children:e},t))})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[(0,Te.jsx)(Wt,{className:"h-5 w-5 mr-2 text-sky-600"}),"Financial Information"]}),(0,Te.jsx)("button",{onClick:()=>q("financialInfo"),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.financialInfo?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.financialInfo&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 p-6",children:[(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(_s,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-800 uppercase tracking-wide",children:"Assets & Capital"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Total Assets:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:Y(s.totalAssets)})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Net Worth:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:Y(s.netWorth)})]})]})]})}),(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(ot,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-800 uppercase tracking-wide",children:"Revenue & Claims"})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Premium Income:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:Y(s.premiumIncome)})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Claims Paid:"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:Y(s.claimsPaid)})]})]})]})})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[(0,Te.jsx)(ct,{className:"h-5 w-5 mr-2 text-sky-600"}),"Management Team"]}),(0,Te.jsx)("button",{onClick:()=>q("management"),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.management?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.management&&(0,Te.jsx)("div",{className:"p-6 space-y-6",children:C.map(e=>(0,Te.jsx)("div",{className:"bg-slate-50 rounded-lg p-6 border border-slate-200 hover:border-sky-300 transition-colors",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-sky-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(St,{className:"w-6 h-6 text-sky-600"})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:e.name}),(0,Te.jsx)("p",{className:"text-sky-600 font-medium",children:e.position}),(0,Te.jsxs)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:["Experience: ",(0,Te.jsx)("span",{className:"font-medium text-slate-900",children:e.experience})]}),(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:["Qualifications: ",(0,Te.jsx)("span",{className:"font-medium text-slate-900",children:e.qualifications})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:["Email: ",(0,Te.jsx)("span",{className:"font-medium text-slate-900",children:e.email})]}),(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:["Phone: ",(0,Te.jsx)("span",{className:"font-medium text-slate-900",children:e.phone})]})]})]})]})]})},e.id))})]}),s.previousNames&&s.previousNames.length>0&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[(0,Te.jsx)(xt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Previous Names"]}),(0,Te.jsx)("button",{onClick:()=>q("previousNames"),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.previousNames?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.previousNames&&(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(xt,{className:"w-4 h-4 text-purple-600"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-purple-800 uppercase tracking-wide",children:"Historical Names"})]}),(0,Te.jsx)("div",{className:"space-y-2",children:s.previousNames.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,Te.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsxs)("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center",children:[(0,Te.jsx)(Ht,{className:"h-5 w-5 mr-2 text-sky-600"}),"Related Cases"]}),(0,Te.jsx)("button",{onClick:()=>q("cases"),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",children:c.cases?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.cases&&(0,Te.jsx)("div",{className:"p-6 space-y-4",children:P?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading cases..."})]}):M.length>0?(0,Te.jsx)("div",{className:"space-y-4",children:M.map(e=>(0,Te.jsx)("div",{className:"bg-slate-50 rounded-lg p-4 border border-slate-200 hover:border-sky-300 transition-colors",children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-sm font-semibold text-slate-900 mb-1",children:e.title}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-slate-600",children:[(0,Te.jsx)("span",{children:e.suit_reference_number}),(0,Te.jsx)("span",{children:e.date}),(0,Te.jsx)("span",{children:e.court}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full ".concat("Resolved"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]})]}),(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsx)("button",{onClick:()=>{b(e),g(!0)},className:"px-3 py-1 bg-sky-600 text-white text-xs rounded-lg hover:bg-sky-700 transition-colors",children:"View Details"})})]})},e.id))}):(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(Ht,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"No related cases found"})]})})]})]})}),p&&(0,Te.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Te.jsxs)("div",{className:"flex min-h-full items-center justify-center p-4",children:[(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>g(!1)}),(0,Te.jsx)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Request Service"}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Request Type"}),(0,Te.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"case_details",children:"Case Details"}),(0,Te.jsx)("option",{value:"document_request",children:"Document Request"}),(0,Te.jsx)("option",{value:"consultation",children:"Legal Consultation"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),(0,Te.jsx)("textarea",{value:y,onChange:e=>N(e.target.value),rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Describe your request..."})]})]}),(0,Te.jsxs)("div",{className:"flex gap-3 justify-end mt-6",children:[(0,Te.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-slate-600 hover:text-slate-800 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:()=>{g(!1),N("")},className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"Submit Request"})]})]})})]})})]}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading insurance company details..."})]})})},Ss=()=>{const{id:e}=ae(),t=se(),[s,a]=(ee(),(0,n.useState)(null)),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[m,u]=(0,n.useState)(!0),[x,h]=(0,n.useState)(null),[p,g]=(0,n.useState)(!0),[f,b]=(0,n.useState)("manager"),[j,v]=(0,n.useState)([]),[y,N]=(0,n.useState)([]),[w,k]=(0,n.useState)(!1),[_,C]=(0,n.useState)([]),[S,A]=(0,n.useState)(""),[E,M]=(0,n.useState)("date"),[I,P]=(0,n.useState)("desc"),[L,T]=(0,n.useState)(!1),[R,D]=(0,n.useState)(null),[O,F]=(0,n.useState)(!1),z={"SIC Insurance":"/insurances/sic.jpeg","Vanguard Assurance":"/insurances/vanguard.jpeg","Metropolitan Insurance":"/insurances/metropolitan.jpeg","Enterprise Insurance":"/insurances/enterprise.jpeg","Ghana Reinsurance":"/insurances/ghana-re.jpeg","Star Assurance":"/insurances/star.jpeg","Provident Insurance":"/insurances/provident.jpeg","Donewell Insurance":"/insurances/donewell.jpeg","GLICO Insurance":"/insurances/glico.jpeg","Quality Insurance":"/insurances/quality.jpeg","Prudential Life Insurance":"/insurances/prudential-life.jpeg","Old Mutual Life Assurance":"/insurances/old-mutual.jpeg","Sanlam Life Insurance":"/insurances/sanlam.jpeg","Allianz Life Insurance":"/insurances/allianz.jpeg","AXA Mansard Insurance":"/insurances/axa-mansard.jpeg","Zenith General Insurance":"/insurances/zenith-general.jpeg","Cornerstone Insurance":"/insurances/cornerstone.jpeg","Leadway Assurance":"/insurances/leadway.jpeg","Mutual Benefits Assurance":"/insurances/mutual-benefits.jpeg","Custodian Life Insurance":"/insurances/custodian.jpeg","FBN Insurance":"/insurances/fbn-insurance.jpeg","AIICO Insurance":"/insurances/aiico.jpeg","Lagos Building Investment":"/insurances/lagos-building.jpeg","NEM Insurance":"/insurances/nem.jpeg","Wapic Insurance":"/insurances/wapic.jpeg","Sovereign Trust Insurance":"/insurances/sovereign-trust.jpeg","Consolidated Hallmark Insurance":"/insurances/consolidated-hallmark.jpeg","Linkage Assurance":"/insurances/linkage.jpeg","Lasaco Assurance":"/insurances/lasaco.jpeg","Royal Exchange General Insurance":"/insurances/royal-exchange.jpeg","Hygeia HMO":"/insurances/hygeia.jpeg","Avon Healthcare":"/insurances/avon.jpeg","Clearline HMO":"/insurances/clearline.jpeg","Reliance HMO":"/insurances/reliance.jpeg","Total Health Trust":"/insurances/total-health.jpeg","Health Partners HMO":"/insurances/health-partners.jpeg","Mediplan Healthcare":"/insurances/mediplan.jpeg","Wellness HMO":"/insurances/wellness.jpeg","Ultimate Health HMO":"/insurances/ultimate-health.jpeg","Prepaid Medicare":"/insurances/prepaid-medicare.jpeg","IHMS HMO":"/insurances/ihms.jpeg","Ronsberger HMO":"/insurances/ronsberger.jpeg","Vcare HMO":"/insurances/vcare.jpeg","Healthguard HMO":"/insurances/healthguard.jpeg","ProHealth HMO":"/insurances/prohealth.jpeg","Healthplus HMO":"/insurances/healthplus.jpeg"};(0,n.useEffect)(()=>{console.log("URL Parameters - Insurance ID:",e),e&&(B(e),V(e),W(e),U(e),H(e))},[e]);const B=async e=>{try{r(!0),o(null),console.log("loadInsuranceData called with:",{insuranceId:e});const t="http://localhost:8000/api/insurance/".concat(e);console.log("Using insurance ID URL:",t);const s=await fetch(t,{headers:{"Content-Type":"application/json"}});if(console.log("Response status:",s.status),s.ok){const e=await s.json();if(console.log("Insurance data from ID:",e),e){console.log("Raw insurance data received:",e);const t={id:e.id,name:e.name,shortName:e.short_name||e.name,logo:e.logo_url||z[e.name]||"/insurances/default-insurance.jpeg",established:e.established_date?new Date(e.established_date).getFullYear().toString():"N/A",incorporated:e.established_date?new Date(e.established_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",headquarters:"".concat(e.city||"N/A",", ").concat(e.region||"N/A"),address:e.address||e.head_office_address||"N/A",city:e.city||"N/A",region:e.region||"N/A",country:e.country||"Ghana",postalCode:e.postal_code||"N/A",phone:e.phone||"N/A",customerServicePhone:e.customer_service_phone||"N/A",email:e.email||"N/A",customerServiceEmail:e.customer_service_email||"N/A",website:e.website||"N/A",licenseNumber:e.license_number||"N/A",registrationNumber:e.registration_number||"N/A",insuranceType:e.insurance_type||"N/A",ownershipType:e.ownership_type||"N/A",rating:e.rating||"N/A",totalAssets:e.total_assets||0,netWorth:e.net_worth||0,premiumIncome:e.premium_income||0,claimsPaid:e.claims_paid||0,branchesCount:e.branches_count||0,agentsCount:e.agents_count||0,hasMobileApp:e.has_mobile_app||!1,hasOnlinePortal:e.has_online_portal||!1,hasOnlineClaims:e.has_online_claims||!1,has24_7Support:e.has_24_7_support||!1,services:e.services||[],previousNames:e.previous_names||[],isVerified:e.is_verified||!1,verificationDate:e.verification_date?new Date(e.verification_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",verificationNotes:e.verification_notes||"N/A",searchCount:e.search_count||0,lastSearched:e.last_searched?new Date(e.last_searched).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",status:e.status||"Active",createdAt:e.created_at?new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",updatedAt:e.updated_at?new Date(e.updated_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",totalCases:0,activeCases:0,resolvedCases:0,riskLevel:"Low",riskScore:0,lastActivity:e.updated_at?new Date(e.updated_at).toISOString().split("T")[0]:"N/A",numberOfBranches:e.branches_count||0,managers:[],branches:[],cases:[]};console.log("Transformed insurance data:",t),a(t),console.log("Insurance data set successfully")}else console.error("No insurance data found"),o("Insurance company not found")}else console.error("Failed to fetch insurance data:",s.status),o("Failed to load insurance data: ".concat(s.status))}catch(i){console.error("Error loading insurance data:",i),o("Error loading insurance data")}finally{r(!1)}},U=async e=>{try{u(!0);const t=await fetch("http://localhost:8000/api/insurance/".concat(e,"/analytics"),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Insurance analytics loaded:",e),d(e)}else console.error("Failed to load insurance analytics:",t.status),d(null)}catch(i){console.error("Error loading insurance analytics:",i),d(null)}finally{u(!1)}},H=async e=>{try{g(!0);const t=await fetch("http://localhost:8000/api/insurance/".concat(e,"/case-statistics"),{headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();console.log("Insurance case stats loaded:",e),h(e)}else console.error("Failed to load insurance case stats:",t.status),h(null)}catch(i){console.error("Error loading insurance case stats:",i),h(null)}finally{g(!1)}},V=async e=>{v([{id:1,name:"Dr. Kwame Asante",position:"Chief Executive Officer",tenure:"2020 - Present",qualifications:"PhD Insurance, University of Ghana",experience:"20+ years in insurance and risk management",profileId:1,email:"ceo@sicinsurance.com",phone:"+233 302 123 456",bio:"Experienced insurance executive with extensive background in risk management and corporate governance."},{id:2,name:"Mrs. Efua Adjei",position:"Chief Operating Officer",tenure:"2019 - Present",qualifications:"MBA Insurance, GIMPA",experience:"15+ years in insurance operations",profileId:2,email:"coo@sicinsurance.com",phone:"+233 302 123 457",bio:"Operations expert with extensive experience in insurance processes and customer service."},{id:3,name:"Mr. Samuel Ofori",position:"Chief Financial Officer",tenure:"2021 - Present",qualifications:"ACCA, ICAG",experience:"18+ years in financial management",profileId:3,email:"cfo@sicinsurance.com",phone:"+233 302 123 458",bio:"Financial management expert with strong background in insurance accounting and regulatory compliance."}])},W=async e=>{try{k(!0),console.log("Loading related cases for insurance ID:",e);const t="http://localhost:8000/api/insurance/".concat(e,"/related-cases?limit=10");console.log("API URL:",t);const s=await fetch(t,{headers:{"Content-Type":"application/json"}});if(console.log("Response status:",s.status),s.ok){const e=await s.json();console.log("Related cases loaded:",e),e.related_cases&&e.related_cases.length>0?N(e.related_cases):(console.log("No cases found in API response"),N([]))}else{console.error("Failed to fetch related cases:",s.status);const e=await s.text();console.error("Error response:",e),N([])}}catch(i){console.error("Error loading related cases:",i),N([])}finally{k(!1)}};(0,n.useEffect)(()=>{const e=((e,t,s,a)=>{let n=e;return t&&(n=n.filter(e=>{var s,a,n,l;return(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().includes(t.toLowerCase()))||(null===(a=e.suit_reference_number)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.court_type)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null===(l=e.area_of_law)||void 0===l?void 0:l.toLowerCase().includes(t.toLowerCase()))})),n.sort((e,t)=>{let n,l;switch(s){case"title":n=e.title||"",l=t.title||"";break;case"court":n=e.court_type||"",l=t.court_type||"";break;default:n=new Date(e.date||0),l=new Date(t.date||0)}return"asc"===a?n<l?-1:n>l?1:0:n>l?-1:n<l?1:0}),n})(y,S,E,I);C(e)},[y,S,E,I]);const G=e=>e<=30?"text-emerald-600":e<=70?"text-amber-600":"text-red-600";return l?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading insurance company details..."})]})}):i&&!s?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(js,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Error Loading Insurance Company"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:i}),(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4"}),"Go Back"]})]})}):s?(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,Te.jsx)("div",{className:"sticky top-0 z-50 bg-white border-b border-slate-200 shadow-sm",children:(0,Te.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-5 w-5"}),"Back"]}),(0,Te.jsx)("div",{className:"h-6 w-px bg-slate-300"}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("img",{src:s.logo,alt:"".concat(s.name," logo"),className:"h-8 w-8 rounded object-contain",onError:e=>{e.target.src="/insurances/default-insurance.jpeg"}}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:s.name}),(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:s.status})]})]})]}),(0,Te.jsx)("div",{className:"flex items-center gap-3",children:(0,Te.jsx)("button",{onClick:()=>{F(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Request Profile Information"})})]})})}),(0,Te.jsx)("div",{className:"pt-24 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3",children:[(0,Te.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(ot,{className:"h-5 w-5 text-blue-600"}),"Insurance Company Information"]}),(0,Te.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Ut,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border-l-4 border-blue-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ot,{className:"w-4 h-4 text-blue-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-blue-800 uppercase tracking-wide",children:"Company Name"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-blue-900",children:s.name}),s.shortName&&s.shortName!==s.name&&(0,Te.jsxs)("p",{className:"text-xs text-blue-700",children:["Short: ",s.shortName]})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(Xt,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Established"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.established}),(0,Te.jsx)("p",{className:"text-xs text-gray-600",children:s.incorporated})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(xt,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"License Number"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.licenseNumber}),(0,Te.jsxs)("p",{className:"text-xs text-gray-600",children:["Reg: ",s.registrationNumber]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border-l-4 border-green-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(gt,{className:"w-4 h-4 text-green-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-green-800 uppercase tracking-wide",children:"Headquarters"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-green-900",children:s.headquarters}),(0,Te.jsx)("p",{className:"text-xs text-green-700",children:s.address})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ft,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Contact"})]}),(0,Te.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:s.phone}),(0,Te.jsx)("p",{className:"text-xs text-gray-600",children:s.email})]}),(0,Te.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Te.jsx)(ys,{className:"w-4 h-4 text-gray-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-gray-700 uppercase tracking-wide",children:"Website"})]}),(0,Te.jsx)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-blue-600 hover:text-blue-800",children:s.website})]})]})]})]}),s.previousNames&&s.previousNames.length>0&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Vt,{className:"h-5 w-5 text-purple-600"}),"Previous Names"]}),(0,Te.jsx)("div",{className:"flex flex-wrap gap-2",children:s.previousNames.map((e,t)=>(0,Te.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:e},t))})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-green-600"}),"Affiliations"]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(wt,{className:"w-4 h-4 text-green-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Ghana Insurance Association"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Member since 2010"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(ot,{className:"w-4 h-4 text-blue-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"National Insurance Commission"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Licensed Insurance Company"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:"Licensed"})]})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(Bt,{className:"w-4 h-4 text-amber-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"Ghana Stock Exchange"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Listed Company"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-amber-600 font-medium",children:"Listed"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)(ct,{className:"w-4 h-4 text-purple-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:"International Insurance Association"}),(0,Te.jsx)("p",{className:"text-xs text-slate-600",children:"Member since 2015"})]})]}),(0,Te.jsx)("span",{className:"text-xs text-purple-600 font-medium",children:"Member"})]})]})]})]}),c&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(js,{className:"h-5 w-5 text-red-600"}),"Financial Risk Profile"]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("div",{className:"relative w-32 h-32 mx-auto mb-4",children:[(0,Te.jsxs)("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:c.risk_score<=30?"#10b981":c.risk_score<=70?"#f59e0b":"#ef4444",strokeWidth:"8",fill:"none",strokeDasharray:"".concat(c.risk_score/100*251.2," 251.2"),className:"transition-all duration-1000 ease-out"})]}),(0,Te.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-3xl font-bold ".concat(G(c.risk_score)),children:c.risk_score})})]}),(0,Te.jsxs)("div",{className:"space-y-1",children:[(0,Te.jsxs)("p",{className:"text-xl font-semibold ".concat(G(c.risk_score)),children:[c.risk_level," Risk"]}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Financial Risk Score"})]})]})}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-700 mb-3",children:"Risk Assessment Details"}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Credit Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.credit_risk||"N/A"})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Market Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.market_risk||"N/A"})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Operational Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.operational_risk||"N/A"})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Liquidity Risk:"}),(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:c.liquidity_risk||"N/A"})]})]})]}),c.risk_factors&&c.risk_factors.length>0&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Key Risk Factors"}),(0,Te.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.risk_factors.slice(0,6).map((e,t)=>(0,Te.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:e},t)),c.risk_factors.length>6&&(0,Te.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",c.risk_factors.length-6," more"]})]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200",children:[(0,Te.jsx)("div",{className:"border-b border-slate-200",children:(0,Te.jsx)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:["manager","board","secretaries","auditors","capital","shareholders"].map(e=>(0,Te.jsx)("button",{className:"py-4 px-1 border-b-2 font-medium text-sm capitalize ".concat(f===e?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),onClick:()=>b(e),children:"board"===e?"Board of Directors":"secretaries"===e?"Secretaries":"auditors"===e?"Auditors":"capital"===e?"Capital Details":"shareholders"===e?"Shareholders":e},e))})}),(0,Te.jsx)("div",{className:"p-6",children:"manager"===f&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Management Team"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>(0,Te.jsx)("div",{className:"border border-slate-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Te.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-blue-600 font-semibold text-xs",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)})}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-1",children:e.name}),(0,Te.jsx)("p",{className:"text-sm font-medium text-blue-600 mb-2",children:e.position}),(0,Te.jsxs)("div",{className:"space-y-1 text-xs text-slate-600",children:[(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Tenure:"})," ",e.tenure]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Qualifications:"})," ",e.qualifications]}),(0,Te.jsxs)("p",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Experience:"})," ",e.experience]})]})]})]})},e.id))})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(Ht,{className:"h-5 w-5 text-blue-600"}),"Related Cases (",_.length," of ",y.length,")"]}),(0,Te.jsx)("button",{className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Ut,{className:"h-5 w-5"})})]}),(0,Te.jsx)("div",{className:"mb-6 space-y-4",children:(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search cases...",value:S,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("select",{value:E,onChange:e=>M(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"date",children:"Sort by Date"}),(0,Te.jsx)("option",{value:"title",children:"Sort by Title"}),(0,Te.jsx)("option",{value:"court",children:"Sort by Court"})]}),(0,Te.jsxs)("select",{value:I,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"desc",children:"Descending"}),(0,Te.jsx)("option",{value:"asc",children:"Ascending"})]}),(0,Te.jsx)("button",{onClick:()=>{A(""),M("date"),P("desc")},className:"px-4 py-2 text-slate-600 hover:text-slate-800 transition-colors",children:"Clear"})]})]})}),w?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading cases..."})]}):_.length>0?(0,Te.jsx)("div",{className:"space-y-4",children:_.map(e=>(0,Te.jsx)("div",{className:"bg-slate-50 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:e.title}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 text-sm text-slate-600 mb-3",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Suit Number:"})," ",e.suit_reference_number]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Court:"})," ",e.court_type||"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Date:"})," ",e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium",children:"Nature:"})," ",e.area_of_law||"N/A"]})]}),e.ai_case_outcome&&(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Outcome:"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("WON"===e.ai_case_outcome?"bg-emerald-100 text-emerald-800":"LOST"===e.ai_case_outcome?"bg-red-100 text-red-800":"bg-amber-100 text-amber-800"),children:e.ai_case_outcome})]})]}),(0,Te.jsxs)("div",{className:"ml-4 flex gap-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{D(e),T(!0)})(e),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Request Details"}),(0,Te.jsx)("button",{onClick:()=>t("/case-details/".concat(e.id)),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"View Case"})]})]})},e.id))}):(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(Ht,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-slate-500",children:"No related cases found for this insurance company."}),S&&(0,Te.jsx)("p",{className:"text-sm text-slate-400 mt-2",children:"Try adjusting your search criteria."})]})]})]}),(0,Te.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[c&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(js,{className:"h-5 w-5 text-red-600"}),"Financial Risk Assessment",m&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-red-600"})]}),m?(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"text-center mb-4",children:[(0,Te.jsxs)("div",{className:"relative w-24 h-24 mx-auto mb-2",children:[(0,Te.jsxs)("svg",{className:"w-24 h-24 transform -rotate-90",viewBox:"0 0 100 100",children:[(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),(0,Te.jsx)("circle",{cx:"50",cy:"50",r:"40",stroke:c.risk_score<=30?"#10b981":c.risk_score<=70?"#f59e0b":"#ef4444",strokeWidth:"8",fill:"none",strokeDasharray:"".concat(c.risk_score/100*251.2," 251.2"),className:"transition-all duration-1000 ease-out"})]}),(0,Te.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-2xl font-bold ".concat(G(c.risk_score)),children:c.risk_score})})]}),(0,Te.jsxs)("div",{className:"space-y-1",children:[(0,Te.jsxs)("p",{className:"text-lg font-semibold ".concat(G(c.risk_score)),children:[c.risk_level," Risk"]}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Financial Risk Score"})]})]}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Resolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-green-600",children:(null===x||void 0===x?void 0:x.resolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Unresolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-orange-600",children:(null===x||void 0===x?void 0:x.unresolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Mixed:"}),(0,Te.jsx)("span",{className:"font-semibold text-yellow-600",children:(null===x||void 0===x?void 0:x.mixed_cases)||0})]})]}),c.risk_factors&&c.risk_factors.length>0&&(0,Te.jsxs)("div",{className:"text-left mt-4",children:[(0,Te.jsx)("p",{className:"text-xs font-medium text-slate-700 mb-2",children:"Key Risk Factors:"}),(0,Te.jsxs)("div",{className:"flex flex-wrap gap-1",children:[c.risk_factors.slice(0,4).map((e,t)=>(0,Te.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs rounded",children:e},t)),c.risk_factors.length>4&&(0,Te.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:["+",c.risk_factors.length-4," more"]})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Qe,{className:"h-5 w-5 text-blue-600"}),"Quick Stats",(p||m)&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-blue-600"})]}),p||m?(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})}):(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Total Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===x||void 0===x?void 0:x.total_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Resolved Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===x||void 0===x?void 0:x.resolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Unresolved Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-slate-900",children:(null===x||void 0===x?void 0:x.unresolved_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Favorable Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-green-600",children:(null===x||void 0===x?void 0:x.favorable_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Unfavorable Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-red-600",children:(null===x||void 0===x?void 0:x.unfavorable_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Mixed Cases:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold text-yellow-600",children:(null===x||void 0===x?void 0:x.mixed_cases)||0})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Overall Outcome:"}),(0,Te.jsx)("span",{className:"text-sm font-semibold ".concat("Favorable"===(null===x||void 0===x?void 0:x.case_outcome)?"text-green-600":"Unfavorable"===(null===x||void 0===x?void 0:x.case_outcome)?"text-red-600":"Mixed"===(null===x||void 0===x?void 0:x.case_outcome)?"text-yellow-600":"text-gray-600"),children:(null===x||void 0===x?void 0:x.case_outcome)||"N/A"})]})]})]})]})]})}),(0,Te.jsx)(Gt,{isOpen:L,onClose:()=>T(!1),caseData:R,entityType:"Insurance",entityName:null===s||void 0===s?void 0:s.name}),(0,Te.jsx)(Gt,{isOpen:O,onClose:()=>F(!1),caseData:null,entityType:"Insurance",entityName:null===s||void 0===s?void 0:s.name,isProfileRequest:!0})]}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(ot,{className:"h-16 w-16 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Insurance Company Not Found"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:"The requested insurance company could not be found."}),(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"inline-flex items-center gap-2 rounded-lg bg-sky-600 px-4 py-2 text-sm font-medium text-white hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4"}),"Go Back"]})]})})},As=()=>{const e=se(),[t,s]=(0,n.useState)(""),[a,l]=(0,n.useState)("all"),r=(0,n.useRef)(null),[i,o]=(0,n.useState)(1),[c]=(0,n.useState)(9),[d,m]=(0,n.useState)([]),[u,x]=(0,n.useState)(!0),[h,p]=(0,n.useState)(!0),[g,f]=(0,n.useState)(0),b={"MTN Ghana Limited":"/companies/mtn-ghana.svg","Vodafone Ghana Limited":"/companies/vodafone-ghana.svg","Gold Fields Ghana Limited":"/companies/goldfields-ghana.svg","AngloGold Ashanti Ghana Limited":"/companies/anglogold-ashanti-ghana.svg","Access Bank Ghana Limited":"/companies/access-bank-ghana.svg","Ecobank Ghana Limited":"/companies/ecobank-ghana.svg","Newmont Ghana Gold Limited":"/companies/newmont-ghana.svg","GCB Bank Limited":"/banks/gcb bank.jpeg","Standard Chartered Bank Ghana":"/banks/stanchart.jpeg","Absa Bank Ghana":"/banks/absa.jpeg","Fidelity Bank Ghana":"/banks/Fidelity.jpeg","Zenith Bank Ghana":"/banks/zenith.jpeg","First Atlantic Bank":"/banks/first atlantic.jpeg","Ghana Exim Bank":"/banks/ghana exim bank.jpeg","GTBank Ghana":"/banks/gtbank.jpeg","National Investment Bank":"/banks/national invenstment bank.jpeg","Prudential Bank":"/banks/prudential bank.jpeg","Republic Bank Ghana":"/banks/republic bank.jpeg","Societe Generale Bank Ghana":"/banks/societe generale bank.jpeg","The Royal Bank":"/banks/the royal bank.jpeg","Universal Merchant Bank":"/banks/universal merchant bank.jpeg","FBN Bank Ghana":"/banks/fbn.jpeg","Agricultural Development Bank":"/banks/adb.jpeg","Bank of Africa Ghana":"/banks/bank of africa.jpeg","Bank of Ghana":"/banks/Bank of ghana.jpeg","CAL Bank":"/banks/calbank.jpeg","Consolidated Bank Ghana":"/banks/cbg.jpeg","Stanbic Bank Ghana":"/banks/stanbic bank.jpeg","UMB Bank Ghana":"/banks/umb.jpeg"};(0,n.useEffect)(()=>{(()=>{const e=localStorage.getItem("accessToken");return p(!!e),!!e})()?j():x(!1)},[i,c,t,a]);const j=async()=>{try{x(!0);const e=new URLSearchParams({page:i.toString(),limit:c.toString()});t&&e.append("name",t);const s=await fetch("http://localhost:8000/api/companies/search?".concat(e),{headers:{"Content-Type":"application/json"}});if(s.ok){const e=await s.json();console.log("Companies data loaded:",e);const t=await Promise.all((e.results||[]).map(async e=>{try{const[t,s]=await Promise.all([fetch("http://localhost:8000/api/companies/".concat(e.id,"/case-statistics"),{headers:{"Content-Type":"application/json"}}),fetch("http://localhost:8000/api/companies/".concat(e.id,"/analytics"),{headers:{"Content-Type":"application/json"}})]);let a={total_cases:0,resolved_cases:0,unresolved_cases:0,favorable_cases:0,unfavorable_cases:0,mixed_cases:0,case_outcome:"N/A"},n={risk_level:"Low",risk_score:0,risk_factors:[],financial_risk_level:"Low"};if(t.ok){const e=await t.json();a=e.case_statistics_available?e:a}if(s.ok){const e=await s.json();n=e.analytics_available?e:n}return Ue(Ue({id:e.id,name:String(e.name||"N/A"),shortName:String(e.short_name||"N/A"),industry:String(e.industry||"N/A"),phone:String(e.phone||"N/A"),email:String(e.email||"N/A"),address:String(e.address||"N/A"),website:String(e.website||"N/A"),established:e.established_date?new Date(e.established_date).getFullYear().toString():"N/A",companyType:String(e.company_type||"N/A"),logo:e.logo_url||b[e.name]||"/companies/default-company.svg",lastActivity:e.updated_at?new Date(e.updated_at).toISOString().split("T")[0]:"N/A"},a),n)}catch(t){return console.error("Error loading data for company ".concat(e.name,":"),t),{id:e.id,name:String(e.name||"N/A"),shortName:String(e.short_name||"N/A"),industry:String(e.industry||"N/A"),phone:String(e.phone||"N/A"),email:String(e.email||"N/A"),address:String(e.address||"N/A"),website:String(e.website||"N/A"),established:e.established_date?new Date(e.established_date).getFullYear().toString():"N/A",companyType:String(e.company_type||"N/A"),logo:e.logo_url||b[e.name]||"/companies/default-company.svg",lastActivity:e.updated_at?new Date(e.updated_at).toISOString().split("T")[0]:"N/A",total_cases:0,resolved_cases:0,unresolved_cases:0,favorable_cases:0,unfavorable_cases:0,mixed_cases:0,case_outcome:"N/A",risk_level:"Low",risk_score:0,risk_factors:[],financial_risk_level:"Low"}}}));m(t),f(e.total||0)}else console.error("Failed to load companies data:",s.status)}catch(e){console.error("Error loading companies data:",e)}finally{x(!1)}},v=d.filter(e=>"all"===a||e.riskLevel===a),y=Math.ceil(g/c),N=(i-1)*c,w=N+c;return u?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading companies..."})]})}):h?(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Companies"}),(0,Te.jsxs)("p",{className:"text-gray-600 mt-1",children:[g," companies found"]})]}),(0,Te.jsxs)("button",{onClick:()=>e("/"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,Te.jsx)(zt,{className:"h-5 w-5 mr-1"}),"Back to Home"]})]})})}),(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(1),j()},className:"flex flex-col lg:flex-row gap-4",children:[(0,Te.jsxs)("div",{className:"flex-1 relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,Te.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Search companies...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",ref:r})]}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("select",{value:a,onChange:e=>l(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[(0,Te.jsx)("option",{value:"all",children:"All Risk Levels"}),(0,Te.jsx)("option",{value:"Low",children:"Low Risk"}),(0,Te.jsx)("option",{value:"Medium",children:"Medium Risk"}),(0,Te.jsx)("option",{value:"High",children:"High Risk"})]}),(0,Te.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors flex items-center",children:[(0,Te.jsx)(Je,{className:"h-4 w-4 mr-2"}),"Search"]})]})]})}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(t=>(0,Te.jsx)("div",{onClick:()=>(t=>{e("/company-profile/".concat(t.id,"?name=").concat(encodeURIComponent(t.name)))})(t),className:"bg-white rounded-lg shadow-sm border hover:shadow-md transition-shadow cursor-pointer",children:(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Te.jsx)("img",{src:t.logo,alt:t.name,className:"h-12 w-12 rounded-lg object-cover mr-4",onError:e=>{e.target.src="/companies/default-company.svg"}}),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.name}),(0,Te.jsx)("p",{className:"text-sm text-gray-600",children:t.established})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Low"===t.risk_level?"bg-green-100 text-green-800":"Medium"===t.risk_level?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[t.risk_level," Risk"]}),t.risk_score>0&&(0,Te.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Score: ",t.risk_score,"/100"]})]})]}),(0,Te.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2"}),t.industry]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(ft,{className:"h-4 w-4 mr-2"}),t.phone]}),(0,Te.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Te.jsx)(bt,{className:"h-4 w-4 mr-2"}),t.email]})]}),(0,Te.jsxs)("div",{className:"border-t pt-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Total Cases:"}),(0,Te.jsx)("span",{className:"font-semibold text-gray-900",children:t.total_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Resolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-green-600",children:t.resolved_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Unresolved:"}),(0,Te.jsx)("span",{className:"font-semibold text-red-600",children:t.unresolved_cases||0})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,Te.jsx)("span",{className:"text-gray-600",children:"Outcome:"}),(0,Te.jsx)("span",{className:"font-semibold text-purple-600",children:t.case_outcome||"N/A"})]})]}),t.risk_score>0&&(0,Te.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600 mb-2",children:[(0,Te.jsx)("span",{children:"Risk Assessment"}),(0,Te.jsxs)("span",{className:"font-medium",children:[t.risk_score,"/100"]})]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,Te.jsx)("div",{className:"h-1.5 rounded-full ".concat(t.risk_score<=30?"bg-green-500":t.risk_score<=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(Math.min(t.risk_score,100),"%")}})}),t.risk_factors&&t.risk_factors.length>0&&(0,Te.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,Te.jsx)("span",{className:"font-medium",children:"Key Risks:"})," ",t.risk_factors.slice(0,2).join(", "),t.risk_factors.length>2&&"..."]})]})]})]})},t.id))}),0===v.length&&!u&&(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(wt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No companies found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria"})]}),y>1&&(0,Te.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",N+1," to ",Math.min(w,g)," of ",g," companies"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>o(e=>Math.max(e-1,1)),disabled:1===i,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-4 w-4"})}),(0,Te.jsxs)("span",{className:"px-4 py-2 text-sm font-medium text-gray-700",children:["Page ",i," of ",y]}),(0,Te.jsx)("button",{onClick:()=>o(e=>Math.min(e+1,y)),disabled:i===y,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-4 w-4"})})]})]})]})]}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,Te.jsx)(js,{className:"h-16 w-16 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold",children:"Authentication Required"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:"Please log in to view companies data"})]}),(0,Te.jsx)("button",{onClick:()=>e("/login"),className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Go to Login"})]})})},Es=Ge("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Ms=Ge("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Is=()=>{const{id:e}=ae(),t=se(),[s,a]=(0,n.useState)(null),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)({basicInfo:!0,contactInfo:!0,businessInfo:!0,financialInfo:!0,management:!0,previousNames:!0,subsidiaries:!0,activities:!0});(0,n.useEffect)(()=>{(async()=>{if(!e)return o("Company ID not provided"),void r(!1);try{const t=localStorage.getItem("accessToken")||"test-token-123",s=await fetch("http://localhost:8000/api/companies/".concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(s.ok){const e=await s.json();a(e)}else{const e=await s.json();o(e.detail||"Failed to load company data")}}catch(t){o("Network error. Please try again.")}finally{r(!1)}})()},[e]);const m=e=>{d(t=>Ue(Ue({},t),{},{[e]:!t[e]}))},u=e=>e&&0!==e?new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"N/A",x=e=>{if(!e)return"N/A";return{GAR:"Greater Accra Region",ASR:"Ashanti Region",UWR:"Upper West Region",UER:"Upper East Region",NR:"Northern Region",BR:"Brong-Ahafo Region",VR:"Volta Region",ER:"Eastern Region",CR:"Central Region",WR:"Western Region",WNR:"Western North Region",AHA:"Ahafo Region",BON:"Bono Region",BON_E:"Bono East Region",OTI:"Oti Region",SAV:"Savannah Region",NEA:"North East Region"}[e.toUpperCase()]||e};return l?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Loading company details..."})]})}):i?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Ye,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-red-600",children:i}),(0,Te.jsx)("button",{onClick:()=>t(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})}):s?(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,Te.jsx)(zt,{className:"w-5 h-5"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),(0,Te.jsxs)("p",{className:"text-gray-600",children:[s.short_name&&"".concat(s.short_name," \u2022 "),s.industry||"N/A"," \u2022 ",x(s.region)]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[s.rating&&(0,Te.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Te.jsx)(Bt,{className:"w-5 h-5 text-yellow-400 fill-current"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s.rating})]}),(0,Te.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(s.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:s.is_active?"Active":"Inactive"})]})]})})}),(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-blue-600"}),"Basic Information"]}),(0,Te.jsx)("button",{onClick:()=>m("basicInfo"),className:"text-slate-400 hover:text-slate-600",children:c.basicInfo?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.basicInfo&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Company Name"}),(0,Te.jsx)("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:s.name})]}),s.short_name&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Short Name"}),(0,Te.jsx)("p",{className:"mt-1 text-slate-900",children:s.short_name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Company Type"}),(0,Te.jsx)("p",{className:"mt-1 text-slate-900",children:s.company_type||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Industry"}),(0,Te.jsx)("p",{className:"mt-1 text-slate-900",children:s.industry||"N/A"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Registration Number"}),(0,Te.jsx)("p",{className:"mt-1 text-slate-900",children:s.registration_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"TIN Number"}),(0,Te.jsx)("p",{className:"mt-1 text-slate-900",children:s.tin_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Established Date"}),(0,Te.jsx)("p",{className:"mt-1 text-slate-900",children:(e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return e}})(s.established_date)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Ownership Type"}),(0,Te.jsx)("p",{className:"mt-1 text-slate-900",children:s.ownership_type||"N/A"})]})]})]})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(ft,{className:"h-5 w-5 text-green-600"}),"Contact Information"]}),(0,Te.jsx)("button",{onClick:()=>m("contactInfo"),className:"text-slate-400 hover:text-slate-600",children:c.contactInfo?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.contactInfo&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[s.phone&&(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(ft,{className:"h-5 w-5 text-green-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500",children:"Phone"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.phone})]})]}),s.email&&(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(bt,{className:"h-5 w-5 text-green-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500",children:"Email"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.email})]})]}),s.website&&(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(ys,{className:"h-5 w-5 text-green-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500",children:"Website"}),(0,Te.jsx)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:s.website})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[s.address&&(0,Te.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Te.jsx)(gt,{className:"h-5 w-5 text-green-600 mt-1"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500",children:"Address"}),(0,Te.jsx)("p",{className:"text-slate-900",children:s.address})]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)(gt,{className:"h-5 w-5 text-green-600"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500",children:"Location"}),(0,Te.jsxs)("p",{className:"text-slate-900",children:[s.city||"N/A",", ",x(s.region)]})]})]})]})]})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(Es,{className:"h-5 w-5 text-purple-600"}),"Business Information"]}),(0,Te.jsx)("button",{onClick:()=>m("businessInfo"),className:"text-slate-400 hover:text-slate-600",children:c.businessInfo?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.businessInfo&&(0,Te.jsxs)("div",{className:"space-y-6",children:[s.description&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide mb-2",children:"Description"}),(0,Te.jsx)("p",{className:"text-slate-700 leading-relaxed",children:s.description})]}),s.business_activities&&s.business_activities.length>0&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide mb-3",children:"Business Activities"}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.business_activities.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,Te.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))})]})]})]}),(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(Wt,{className:"h-5 w-5 text-yellow-600"}),"Financial Information"]}),(0,Te.jsx)("button",{onClick:()=>m("financialInfo"),className:"text-slate-400 hover:text-slate-600",children:c.financialInfo?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.financialInfo&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Te.jsx)(_s,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Annual Revenue"}),(0,Te.jsx)("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:u(s.annual_revenue)})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Te.jsx)(Ms,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Net Worth"}),(0,Te.jsx)("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:u(s.net_worth)})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center mb-2",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wide",children:"Employees"}),(0,Te.jsx)("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:s.employee_count||0})]})]})]}),s.board_of_directors&&s.board_of_directors.length>0&&(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(St,{className:"h-5 w-5 text-indigo-600"}),"Management Team"]}),(0,Te.jsx)("button",{onClick:()=>m("management"),className:"text-slate-400 hover:text-slate-600",children:c.management?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.management&&(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.board_of_directors.map((e,t)=>(0,Te.jsxs)("div",{className:"bg-slate-50 p-4 rounded-lg",children:[(0,Te.jsx)("h3",{className:"font-medium text-slate-900",children:e.name}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:e.position}),e.nationality&&(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:e.nationality})]},t))})]}),s.previous_names&&s.previous_names.length>0&&(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(Qe,{className:"h-5 w-5 text-purple-600"}),"Previous Names"]}),(0,Te.jsx)("button",{onClick:()=>m("previousNames"),className:"text-slate-400 hover:text-slate-600",children:c.previousNames?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.previousNames&&(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border-l-4 border-purple-500",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(Qe,{className:"w-4 h-4 text-purple-600"}),(0,Te.jsx)("span",{className:"text-xs font-medium text-purple-800 uppercase tracking-wide",children:"Historical Names"})]}),(0,Te.jsx)("div",{className:"space-y-2",children:s.previous_names.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,Te.jsx)("span",{className:"text-sm text-purple-900",children:e})]},t))})]})})]}),s.subsidiaries&&s.subsidiaries.length>0&&(0,Te.jsxs)("section",{className:"rounded-xl border border-slate-200 bg-white p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsxs)("h2",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2",children:[(0,Te.jsx)(wt,{className:"h-5 w-5 text-orange-600"}),"Subsidiaries"]}),(0,Te.jsx)("button",{onClick:()=>m("subsidiaries"),className:"text-slate-400 hover:text-slate-600",children:c.subsidiaries?(0,Te.jsx)(ps,{className:"h-5 w-5"}):(0,Te.jsx)(es,{className:"h-5 w-5"})})]}),c.subsidiaries&&(0,Te.jsx)("div",{className:"space-y-2",children:s.subsidiaries.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"w-2 h-2 bg-orange-400 rounded-full"}),(0,Te.jsx)("span",{className:"text-sm text-slate-700",children:e})]},t))})]})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Company Status"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Status"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:s.is_active?"Active":"Inactive"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Verified"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.is_verified?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:s.is_verified?"Verified":"Unverified"})]}),s.rating&&(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Rating"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Te.jsx)(Bt,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:s.rating})]})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Digital Presence"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Website"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.has_website?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:s.has_website?"Yes":"No"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Social Media"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.has_social_media?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:s.has_social_media?"Yes":"No"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Mobile App"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.has_mobile_app?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:s.has_mobile_app?"Yes":"No"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Quick Actions"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(xt,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Request Information"})]}),(0,Te.jsxs)("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,Te.jsx)($t,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Download Report"})]}),s.website&&(0,Te.jsxs)("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:[(0,Te.jsx)(ss,{className:"w-4 h-4"}),(0,Te.jsx)("span",{children:"Visit Website"})]})]})]})]})]})})]}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(wt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Company not found"}),(0,Te.jsx)("button",{onClick:()=>t(-1),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})})},Ps=()=>{const{id:e}=ae(),t=se(),s=ee(),[a,l]=(0,n.useState)(null),[r,i]=(0,n.useState)(!0),[o,c]=(0,n.useState)(null),[d,m]=(0,n.useState)({overview:!0,contact:!0,management:!0,cases:!0,analytics:!0}),[u,x]=(0,n.useState)(!1),[h,p]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1);new URLSearchParams(s.search).get("q");(0,n.useEffect)(()=>{e?b():(c("No company ID provided"),i(!1))},[e]);const b=async()=>{try{i(!0);const t=localStorage.getItem("accessToken");if(!t)return c("Authentication required"),void i(!1);const s=await fetch("http://localhost:8000/api/companies/".concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(s.ok){const e=await s.json();console.log("Company data loaded:",e),l(e)}else{const e=await s.json();c(e.detail||"Failed to load company data")}}catch(t){c("Network error. Please try again.")}finally{i(!1)}},j=e=>{m(t=>Ue(Ue({},t),{},{[e]:!t[e]}))},v=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(t){return"N/A"}},y=e=>e?Array.isArray(e)?e:"string"===typeof e?e.split(",").map(e=>e.trim()):[]:[],N=e=>{let{label:t,value:s,icon:a}=e;return(0,Te.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(a,{className:"w-4 h-4 text-gray-500"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t})]}),(0,Te.jsx)("span",{className:"text-sm text-gray-900",children:s||"N/A"})]})},w=e=>{let{label:t,items:s,icon:a}=e;return(0,Te.jsxs)("div",{className:"py-2",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Te.jsx)(a,{className:"w-4 h-4 text-gray-500"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-gray-700",children:t})]}),(0,Te.jsx)("div",{className:"space-y-1",children:s.map((e,t)=>(0,Te.jsx)("div",{className:"text-sm text-gray-900 bg-gray-50 px-3 py-1 rounded",children:e},t))})]})},k=e=>{let{title:t,icon:s,isExpanded:a,onToggle:n}=e;return(0,Te.jsxs)("button",{onClick:n,className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 transition-colors",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)(s,{className:"w-5 h-5 text-gray-600"}),(0,Te.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:t})]}),a?(0,Te.jsx)(Pt,{className:"w-5 h-5 text-gray-400"}):(0,Te.jsx)(Xe,{className:"w-5 h-5 text-gray-400"})]})};return r?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading company profile..."})]})}):o?(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,Te.jsx)(js,{className:"h-16 w-16 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold",children:"Error Loading Company"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:o})]}),(0,Te.jsx)("button",{onClick:()=>t("/companies"),className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Back to Companies"})]})}):a?(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("button",{onClick:()=>t("/companies"),className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,Te.jsx)(zt,{className:"h-5 w-5 mr-1"}),"Back to Companies"]}),(0,Te.jsx)("div",{className:"h-8 w-px bg-gray-300"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:a.name}),(0,Te.jsxs)("p",{className:"text-gray-600 mt-1",children:[a.short_name&&"".concat(a.short_name," \u2022 "),a.industry||"Company Profile"]})]})]}),(0,Te.jsx)("div",{className:"flex items-center gap-3",children:(0,Te.jsx)("button",{onClick:()=>{f(!0)},className:"inline-flex items-center gap-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Request Profile Information"})})]})})}),(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(xt,{className:"w-6 h-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(qe,{className:"w-6 h-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Resolved Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(Qe,{className:"w-6 h-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(Ms,{className:"w-6 h-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Risk Level"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Low"})]})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(k,{title:"Company Overview",icon:wt,isExpanded:d.overview,onToggle:()=>j("overview")}),d.overview&&(0,Te.jsxs)("div",{className:"p-6 border-t border-gray-200 space-y-4",children:[(0,Te.jsx)(N,{label:"Company Name",value:a.name,icon:wt}),(0,Te.jsx)(N,{label:"Short Name",value:a.short_name,icon:wt}),(0,Te.jsx)(N,{label:"Industry",value:a.industry,icon:Es}),(0,Te.jsx)(N,{label:"Company Type",value:a.company_type,icon:ot}),(0,Te.jsx)(N,{label:"Established",value:v(a.established_date),icon:Xt}),(0,Te.jsx)(N,{label:"Registration Number",value:a.registration_number,icon:xt}),(0,Te.jsx)(N,{label:"Tax ID",value:a.tax_id,icon:xt}),a.description&&(0,Te.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Te.jsx)("p",{className:"text-sm text-gray-900",children:a.description})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(k,{title:"Contact Information",icon:ft,isExpanded:d.contact,onToggle:()=>j("contact")}),d.contact&&(0,Te.jsxs)("div",{className:"p-6 border-t border-gray-200 space-y-4",children:[(0,Te.jsx)(N,{label:"Phone",value:a.phone,icon:ft}),(0,Te.jsx)(N,{label:"Email",value:a.email,icon:bt}),(0,Te.jsx)(N,{label:"Website",value:a.website,icon:ys}),(0,Te.jsx)(N,{label:"Address",value:a.address,icon:gt}),(0,Te.jsx)(N,{label:"City",value:a.city,icon:gt}),(0,Te.jsx)(N,{label:"Region",value:a.region,icon:gt}),(0,Te.jsx)(N,{label:"Postal Code",value:a.postal_code,icon:gt})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(k,{title:"Management & Key Personnel",icon:ct,isExpanded:d.management,onToggle:()=>j("management")}),d.management&&(0,Te.jsxs)("div",{className:"p-6 border-t border-gray-200 space-y-4",children:[(0,Te.jsx)(w,{label:"Directors",items:y(a.directors),icon:ct}),(0,Te.jsx)(w,{label:"Managers",items:y(a.managers),icon:ct}),(0,Te.jsx)(w,{label:"Secretaries",items:y(a.secretaries),icon:ct}),(0,Te.jsx)(w,{label:"Shareholders",items:y(a.shareholders),icon:ct}),(0,Te.jsx)(N,{label:"Employee Count",value:a.employee_count,icon:ct}),(0,Te.jsx)(N,{label:"Annual Revenue",value:(_=a.annual_revenue,_&&0!==_?new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(_):"N/A"),icon:_s})]})]}),a.business_activities&&y(a.business_activities).length>0&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(k,{title:"Business Activities",icon:Es,isExpanded:d.activities,onToggle:()=>j("activities")}),d.activities&&(0,Te.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,Te.jsx)(w,{label:"Activities",items:y(a.business_activities),icon:Es})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(k,{title:"Legal Cases",icon:Ht,isExpanded:d.cases,onToggle:()=>j("cases")}),d.cases&&(0,Te.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(Ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Cases Found"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"This company has no legal cases in the database"})]})})]})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Te.jsx)(k,{title:"Analytics",icon:_s,isExpanded:d.analytics,onToggle:()=>j("analytics")}),d.analytics&&(0,Te.jsx)("div",{className:"p-6 border-t border-gray-200 space-y-4",children:(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(_s,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Available"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Analytics will be available once cases are added"})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Company Status"}),(0,Te.jsxs)("div",{className:"space-y-3",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:"Active Status"}),(0,Te.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(a.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:a.is_active?"Active":"Inactive"})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:"Last Updated"}),(0,Te.jsx)("span",{className:"text-sm text-gray-900",children:v(a.updated_at)})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-gray-600",children:"Created"}),(0,Te.jsx)("span",{className:"text-sm text-gray-900",children:v(a.created_at)})]})]})]})]})]})]}),(0,Te.jsx)(Gt,{isOpen:u,onClose:()=>x(!1),caseData:h,entityType:"Company",entityName:null===a||void 0===a?void 0:a.name}),(0,Te.jsx)(Gt,{isOpen:g,onClose:()=>f(!1),caseData:null,entityType:"Company",entityName:null===a||void 0===a?void 0:a.name,isProfileRequest:!0})]}):(0,Te.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("div",{className:"text-gray-600 mb-4",children:[(0,Te.jsx)(wt,{className:"h-16 w-16 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold",children:"Company Not Found"}),(0,Te.jsx)("p",{className:"text-gray-600 mt-2",children:"The requested company could not be found"})]}),(0,Te.jsx)("button",{onClick:()=>t("/companies"),className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Back to Companies"})]})});var _},Ls=Ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Ts=Ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Rs=Ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Ds=Ge("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Os=()=>{const[e,t]=(0,n.useState)([]),s=(0,n.useCallback)(e=>{const s=Date.now()+Math.random(),a=Ue({id:s,type:"info",duration:5e3},e);return t(e=>[...e,a]),s},[]),a=(0,n.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),l=(0,n.useCallback)(function(e,t){return s({type:"success",title:e,message:t,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3})},[s]),r=(0,n.useCallback)(function(e,t){return s({type:"error",title:e,message:t,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:7e3})},[s]),i=(0,n.useCallback)(function(e,t){return s({type:"warning",title:e,message:t,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e3})},[s]),o=(0,n.useCallback)(function(e,t){return s({type:"info",title:e,message:t,duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3})},[s]),c=(0,n.useCallback)(()=>{t([])},[]);return{notifications:e,addNotification:s,removeNotification:a,showSuccess:l,showError:r,showWarning:i,showInfo:o,clearAll:c}},Fs=e=>{let{id:t,type:s="info",title:a,message:l,duration:r=5e3,onClose:i}=e;const[o,c]=(0,n.useState)(!0),[d,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(r>0){const e=setTimeout(()=>{u()},r);return()=>clearTimeout(e)}},[r]);const u=()=>{m(!0),setTimeout(()=>{c(!1),null===i||void 0===i||i(t)},300)};return o?(0,Te.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full bg-white rounded-lg shadow-lg border-l-4 ".concat((()=>{switch(s){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}})()," transform transition-all duration-300 ease-in-out ").concat(d?"translate-x-full opacity-0":"translate-x-0 opacity-100"),children:(0,Te.jsx)("div",{className:"p-4",children:(0,Te.jsxs)("div",{className:"flex items-start",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(s){case"success":return(0,Te.jsx)(qe,{className:"h-5 w-5 text-green-500"});case"error":return(0,Te.jsx)(Kt,{className:"h-5 w-5 text-red-500"});case"warning":return(0,Te.jsx)(Ye,{className:"h-5 w-5 text-yellow-500"});default:return(0,Te.jsx)($e,{className:"h-5 w-5 text-blue-500"})}})()}),(0,Te.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[a&&(0,Te.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a}),(0,Te.jsx)("p",{className:"text-sm ".concat(a?"mt-1":""," text-gray-600"),children:l})]}),(0,Te.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,Te.jsxs)("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:u,children:[(0,Te.jsx)("span",{className:"sr-only",children:"Close"}),(0,Te.jsx)(tt,{className:"h-5 w-5"})]})})]})})}):null},zs=e=>{let{notifications:t,onRemove:s}=e;return(0,Te.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,Te.jsx)(Fs,Ue(Ue({},e),{},{onClose:s}),e.id))})},Bs=e=>{let{onSubmit:t,showError:s,showSuccess:a}=e;const[l,r]=(0,n.useState)({current_password:"",new_password:"",confirm_password:""}),[i,o]=(0,n.useState)(!1),c=e=>{const{name:t,value:s}=e.target;r(e=>Ue(Ue({},e),{},{[t]:s}))};return(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),l.new_password!==l.confirm_password)return void s("Password Mismatch","New password and confirmation do not match");if(l.new_password.length<8)return void s("Invalid Password","New password must be at least 8 characters long");o(!0);await t(l)&&r({current_password:"",new_password:"",confirm_password:""}),o(!1)},className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Current Password"}),(0,Te.jsx)("input",{type:"password",name:"current_password",value:l.current_password,onChange:c,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter current password"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Password"}),(0,Te.jsx)("input",{type:"password",name:"new_password",value:l.new_password,onChange:c,required:!0,minLength:8,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Enter new password"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Confirm New Password"}),(0,Te.jsx)("input",{type:"password",name:"confirm_password",value:l.confirm_password,onChange:c,required:!0,minLength:8,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",placeholder:"Confirm new password"})]}),(0,Te.jsx)("button",{type:"submit",disabled:i,className:"bg-sky-600 text-white py-2 px-4 rounded-lg hover:bg-sky-700 disabled:opacity-50 transition-colors",children:i?"Updating...":"Update Password"})]})},Us=()=>{var e,t,s,a,l,r,i,o,c,d,m,u,x,h;const p=se(),{notifications:g,removeNotification:f,showSuccess:b,showError:j,showWarning:v,showInfo:y}=Os(),[N,w]=(0,n.useState)(!1),[k,_]=(0,n.useState)(null),[C,S]=(0,n.useState)(!0),[A,E]=(0,n.useState)("profile"),[M,I]=(0,n.useState)(!1),[P,L]=(0,n.useState)({first_name:"",last_name:"",email:"",phone_number:"",organization:"",job_title:"",bio:"",language:"en",timezone:"UTC",email_notifications:!0,sms_notifications:!1}),[T,R]=(0,n.useState)({plan:"Free",status:"Active",expires_at:null,is_premium:!1,features:[],usage:{},limits:{}}),[D,O]=(0,n.useState)([]),[F,z]=(0,n.useState)({total:0,unread:0,read:0,archived:0}),[B,U]=(0,n.useState)({two_factor_auth:{is_enabled:!1},api_keys:[],active_sessions:[],recent_events:[],security_score:0}),H=async()=>{try{const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/subscription/current",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();R({plan:e.plan,status:e.status,expires_at:e.expires_at,is_premium:e.is_premium,features:e.features,usage:e.usage,limits:e.limits})}}catch(e){console.error("Error loading subscription data:",e)}},V=async()=>{try{const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/notifications/",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();O(e)}}catch(e){console.error("Error loading notifications:",e)}},W=async()=>{try{const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/notifications/stats",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();z(e)}}catch(e){console.error("Error loading notification stats:",e)}};(0,n.useEffect)(()=>{const e=localStorage.getItem("isAuthenticated"),t=localStorage.getItem("userData");if("true"===e&&t){w(!0);const e=JSON.parse(t);_(e),L({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone_number:e.phone_number||"",organization:e.organization||"",job_title:e.job_title||"",bio:e.bio||"",language:e.language||"en",timezone:e.timezone||"UTC",email_notifications:!1!==e.email_notifications,sms_notifications:!0===e.sms_notifications}),H(),V(),W(),(async()=>{try{const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/security/settings",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();U(e)}}catch(e){console.error("Error loading security settings:",e)}})()}else p("/login");S(!1)},[p]);const G=e=>{const{name:t,value:s,type:a,checked:n}=e.target;L(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s}))},q=async e=>{y("Upgrading Subscription","Processing your subscription upgrade...");try{const t=localStorage.getItem("accessToken"),s=await fetch("http://localhost:8000/api/subscription/upgrade",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({plan:e})});if(s.ok){const e=await s.json();b("Subscription Upgraded",e.message),H()}else{const e=await s.json();j("Upgrade Failed",e.detail||"Error upgrading subscription")}}catch(t){console.error("Error upgrading subscription:",t),j("Upgrade Failed","Error upgrading subscription")}};if(C)return(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-4 text-slate-600",children:"Loading settings..."})]})});if(!N)return(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Access Denied"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-6",children:"You need to be logged in to access settings."}),(0,Te.jsx)("button",{onClick:()=>p("/login"),className:"bg-sky-600 text-white px-6 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Go to Login"})]})});const Y=[{id:"profile",name:"Profile",icon:St},{id:"subscription",name:"Subscription",icon:pt},{id:"notifications",name:"Notifications",icon:Ke},{id:"security",name:"Security",icon:ot}];return(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,Te.jsx)(zs,{notifications:g,onRemove:f}),(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Te.jsx)(Ze,{className:"h-8 w-8 text-sky-600"}),(0,Te.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Settings"})]}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage your account settings and preferences"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-4",children:[(0,Te.jsx)("div",{className:"lg:col-span-1",children:(0,Te.jsx)("nav",{className:"space-y-1",children:Y.map(e=>{const t=e.icon;return(0,Te.jsxs)("button",{onClick:()=>E(e.id),className:"w-full flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(A===e.id?"bg-sky-50 text-sky-700 border border-sky-200":"text-slate-600 hover:text-slate-900 hover:bg-slate-100"),children:[(0,Te.jsx)(t,{className:"h-4 w-4"}),e.name]},e.id)})})}),(0,Te.jsxs)("div",{className:"lg:col-span-3",children:["profile"===A&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Profile Information"}),M?(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsxs)("button",{onClick:async()=>{S(!0),y("Saving Profile","Updating your profile information...");try{const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify(P)});if(t.ok){const e=await t.json();localStorage.setItem("userData",JSON.stringify(e)),_(e),I(!1),b("Profile Updated","Your profile has been updated successfully!")}else{const e=await t.json();j("Update Failed",e.detail||"Error updating profile. Please try again.")}}catch(e){console.error("Error updating profile:",e),j("Update Failed","Error updating profile. Please try again.")}finally{S(!1)}},disabled:C,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-sky-600 hover:bg-sky-700 disabled:opacity-50 rounded-lg transition-colors",children:[(0,Te.jsx)(Ts,{className:"h-4 w-4"}),C?"Saving...":"Save Changes"]}),(0,Te.jsxs)("button",{onClick:()=>{L({first_name:(null===k||void 0===k?void 0:k.first_name)||"",last_name:(null===k||void 0===k?void 0:k.last_name)||"",email:(null===k||void 0===k?void 0:k.email)||"",phone_number:(null===k||void 0===k?void 0:k.phone_number)||"",organization:(null===k||void 0===k?void 0:k.organization)||"",job_title:(null===k||void 0===k?void 0:k.job_title)||"",bio:(null===k||void 0===k?void 0:k.bio)||"",language:(null===k||void 0===k?void 0:k.language)||"en",timezone:(null===k||void 0===k?void 0:k.timezone)||"UTC",email_notifications:!1!==(null===k||void 0===k?void 0:k.email_notifications),sms_notifications:!0===(null===k||void 0===k?void 0:k.sms_notifications)}),I(!1)},className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[(0,Te.jsx)(tt,{className:"h-4 w-4"}),"Cancel"]})]}):(0,Te.jsxs)("button",{onClick:()=>I(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg transition-colors",children:[(0,Te.jsx)(Ls,{className:"h-4 w-4"}),"Edit Profile"]})]})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"First Name"}),(0,Te.jsx)("input",{type:"text",name:"first_name",value:P.first_name,onChange:G,disabled:!M,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-50 disabled:text-slate-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Last Name"}),(0,Te.jsx)("input",{type:"text",name:"last_name",value:P.last_name,onChange:G,disabled:!M,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-50 disabled:text-slate-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"email",name:"email",value:P.email,onChange:G,disabled:!M,className:"w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-50 disabled:text-slate-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone Number"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"tel",name:"phone_number",value:P.phone_number,onChange:G,disabled:!M,className:"w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-50 disabled:text-slate-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Organization"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",name:"organization",value:P.organization,onChange:G,disabled:!M,className:"w-full pl-10 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-50 disabled:text-slate-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Job Title"}),(0,Te.jsx)("input",{type:"text",name:"job_title",value:P.job_title,onChange:G,disabled:!M,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-50 disabled:text-slate-500"})]}),(0,Te.jsxs)("div",{className:"sm:col-span-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Bio"}),(0,Te.jsx)("textarea",{name:"bio",rows:3,value:P.bio,onChange:G,disabled:!M,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-50 disabled:text-slate-500",placeholder:"Tell us about yourself..."})]})]})})]}),"subscription"===A&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Current Subscription"})}),(0,Te.jsxs)("div",{className:"p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsx)("div",{className:"p-2 rounded-lg ".concat(T.is_premium?"bg-amber-100":"bg-slate-100"),children:(0,Te.jsx)(Ds,{className:"h-6 w-6 ".concat(T.is_premium?"text-amber-600":"text-slate-600")})}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h3",{className:"text-xl font-semibold text-slate-900",children:[T.plan," Plan"]}),(0,Te.jsxs)("p",{className:"text-slate-600",children:["Status: ",(0,Te.jsx)("span",{className:"text-green-600 font-medium",children:T.status})]})]})]}),T.is_premium&&(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Expires on"}),(0,Te.jsx)("p",{className:"font-medium text-slate-900",children:($=T.expires_at,$?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A")})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-medium text-slate-900 mb-2",children:"Included Features"}),(0,Te.jsx)("ul",{className:"space-y-1",children:T.features.map((e,t)=>(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),e]},t))})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-medium text-slate-900 mb-2",children:"Usage This Month"}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"Searches"}),(0,Te.jsxs)("span",{className:"font-medium",children:[(null===(e=T.usage)||void 0===e?void 0:e.searches_this_month)||0," / ",(null===(t=T.limits)||void 0===t?void 0:t.searches_per_month)||"Unlimited"]})]}),(0,Te.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"bg-sky-600 h-2 rounded-full",style:{width:"".concat(null!==(s=T.limits)&&void 0!==s&&s.searches_per_month?Math.min(((null===(a=T.usage)||void 0===a?void 0:a.searches_this_month)||0)/T.limits.searches_per_month*100,100):0,"%")}})}),void 0!==(null===(l=T.usage)||void 0===l?void 0:l.api_calls_this_month)&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Te.jsx)("span",{className:"text-slate-600",children:"API Calls"}),(0,Te.jsxs)("span",{className:"font-medium",children:[T.usage.api_calls_this_month," / ",(null===(r=T.limits)||void 0===r?void 0:r.api_calls_per_month)||"Unlimited"]})]}),(0,Te.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:"".concat(null!==(i=T.limits)&&void 0!==i&&i.api_calls_per_month?Math.min((T.usage.api_calls_this_month||0)/T.limits.api_calls_per_month*100,100):0,"%")}})})]})]})]})]})]})]}),!T.is_premium&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Upgrade Your Plan"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Te.jsxs)("div",{className:"border border-slate-200 rounded-lg p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Professional"}),(0,Te.jsxs)("p",{className:"text-3xl font-bold text-slate-900 mb-4",children:["$29",(0,Te.jsx)("span",{className:"text-lg font-normal text-slate-600",children:"/month"})]}),(0,Te.jsxs)("ul",{className:"space-y-2 mb-6",children:[(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"Unlimited searches"]}),(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"Advanced filters"]}),(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"Priority support"]}),(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"Export capabilities"]})]}),(0,Te.jsx)("button",{onClick:()=>q("professional"),className:"w-full bg-sky-600 text-white py-2 px-4 rounded-lg hover:bg-sky-700 transition-colors",children:"Upgrade to Professional"})]}),(0,Te.jsxs)("div",{className:"border border-amber-200 rounded-lg p-6 bg-amber-50",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Enterprise"}),(0,Te.jsx)("span",{className:"bg-amber-100 text-amber-800 text-xs font-medium px-2 py-1 rounded-full",children:"Popular"})]}),(0,Te.jsxs)("p",{className:"text-3xl font-bold text-slate-900 mb-4",children:["$99",(0,Te.jsx)("span",{className:"text-lg font-normal text-slate-600",children:"/month"})]}),(0,Te.jsxs)("ul",{className:"space-y-2 mb-6",children:[(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"Everything in Professional"]}),(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"API access"]}),(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"Custom integrations"]}),(0,Te.jsxs)("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,Te.jsx)(xs,{className:"h-4 w-4 text-green-500"}),"Dedicated support"]})]}),(0,Te.jsx)("button",{onClick:()=>q("enterprise"),className:"w-full bg-amber-600 text-white py-2 px-4 rounded-lg hover:bg-amber-700 transition-colors",children:"Upgrade to Enterprise"})]})]})})]}),T.is_premium&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Manage Subscription"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-900",children:"Cancel Subscription"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"You can cancel your subscription at any time"})]}),(0,Te.jsx)("button",{onClick:async()=>{v("Cancel Subscription","Are you sure you want to cancel your subscription?",0),y("Cancelling Subscription","Processing your subscription cancellation...");try{const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/subscription/cancel",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();b("Subscription Cancelled",e.message),H()}else{const e=await t.json();j("Cancellation Failed",e.detail||"Error cancelling subscription")}}catch(e){console.error("Error cancelling subscription:",e),j("Cancellation Failed","Error cancelling subscription")}},className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Subscription"})]})})]})]}),"notifications"===A&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Notifications"}),F.unread>0&&(0,Te.jsx)("button",{onClick:async()=>{y("Updating Notifications","Marking all notifications as read...");try{const e=localStorage.getItem("accessToken");(await fetch("http://localhost:8000/api/notifications/mark-all-read",{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})).ok&&(b("Notifications Updated","All notifications marked as read"),V(),W())}catch(e){console.error("Error marking all notifications as read:",e)}},className:"text-sm text-sky-600 hover:text-sky-700 font-medium",children:"Mark all as read"})]})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:F.total}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Total"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:F.unread}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Unread"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-green-600",children:F.read}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Read"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-400",children:F.archived}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Archived"})]})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent Notifications"})}),(0,Te.jsxs)("div",{className:"divide-y divide-slate-200",children:[D.slice(0,10).map(e=>(0,Te.jsx)("div",{className:"p-4 hover:bg-slate-50",children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-900",children:e.title}),"unread"===e.status&&(0,Te.jsx)("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})]}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:e.message}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:new Date(e.created_at).toLocaleString()})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:["unread"===e.status&&(0,Te.jsx)("button",{onClick:()=>(async e=>{y("Updating Notification","Marking notification as read...");try{const t=localStorage.getItem("accessToken");(await fetch("http://localhost:8000/api/notifications/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:"read"})})).ok&&(b("Notification Updated","Notification marked as read"),V(),W())}catch(t){console.error("Error marking notification as read:",t)}})(e.id),className:"text-xs text-sky-600 hover:text-sky-700 font-medium",children:"Mark as read"}),e.action_url&&(0,Te.jsx)("a",{href:e.action_url,className:"text-xs text-sky-600 hover:text-sky-700 font-medium",children:e.action_text||"View"})]})]})},e.id)),0===D.length&&(0,Te.jsxs)("div",{className:"p-8 text-center text-slate-500",children:[(0,Te.jsx)(Ke,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,Te.jsx)("p",{children:"No notifications yet"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Notification Preferences"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-900",children:"Email Notifications"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Receive updates about your searches and account activity"})]}),(0,Te.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Te.jsx)("input",{type:"checkbox",name:"email_notifications",checked:P.email_notifications,onChange:G,className:"sr-only peer"}),(0,Te.jsx)("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-sky-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-sky-600"})]})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-900",children:"SMS Notifications"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Receive urgent updates via text message"})]}),(0,Te.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Te.jsx)("input",{type:"checkbox",name:"sms_notifications",checked:P.sms_notifications,onChange:G,className:"sr-only peer"}),(0,Te.jsx)("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-sky-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-slate-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-sky-600"})]})]}),(0,Te.jsx)("div",{className:"pt-4 border-t border-slate-200",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Language"}),(0,Te.jsxs)("select",{name:"language",value:P.language,onChange:G,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"en",children:"English"}),(0,Te.jsx)("option",{value:"fr",children:"Fran\xe7ais"}),(0,Te.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,Te.jsx)("option",{value:"de",children:"Deutsch"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Timezone"}),(0,Te.jsxs)("select",{name:"timezone",value:P.timezone,onChange:G,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"UTC",children:"UTC"}),(0,Te.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,Te.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,Te.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,Te.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,Te.jsx)("option",{value:"Europe/London",children:"London"}),(0,Te.jsx)("option",{value:"Europe/Paris",children:"Paris"}),(0,Te.jsx)("option",{value:"Asia/Tokyo",children:"Tokyo"})]})]})]})})]})})]})]}),"security"===A&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Security Overview"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-900",children:"Security Score"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Based on your security settings and activity"})]}),(0,Te.jsxs)("div",{className:"text-right",children:[(0,Te.jsxs)("div",{className:"text-3xl font-bold text-slate-900",children:[B.security_score,"/100"]}),(0,Te.jsx)("div",{className:"w-32 bg-slate-200 rounded-full h-2 mt-2",children:(0,Te.jsx)("div",{className:"h-2 rounded-full ".concat(B.security_score>=80?"bg-green-500":B.security_score>=60?"bg-yellow-500":"bg-red-500"),style:{width:"".concat(B.security_score,"%")}})})]})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Change Password"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsx)(Bs,{onSubmit:async e=>{try{const t=localStorage.getItem("accessToken"),s=await fetch("http://localhost:8000/api/security/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(s.ok){const e=await s.json();return b("Password Changed",e.message),!0}{const e=await s.json();return j("Password Change Failed",e.detail||"Error changing password"),!1}}catch(t){return console.error("Error changing password:",t),j("Password Change Failed","Error changing password"),!1}},showError:j,showSuccess:b})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Two-Factor Authentication"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-slate-900",children:"2FA Status"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:null!==(o=B.two_factor_auth)&&void 0!==o&&o.is_enabled?"Enabled":"Disabled"})]}),(0,Te.jsx)("button",{className:"py-2 px-4 rounded-lg transition-colors ".concat(null!==(c=B.two_factor_auth)&&void 0!==c&&c.is_enabled?"bg-red-600 text-white hover:bg-red-700":"bg-sky-600 text-white hover:bg-sky-700"),children:null!==(d=B.two_factor_auth)&&void 0!==d&&d.is_enabled?"Disable 2FA":"Enable 2FA"})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"API Keys"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsxs)("div",{className:"space-y-4",children:[null===(m=B.api_keys)||void 0===m?void 0:m.map(e=>(0,Te.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:["\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",e.key_prefix]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Active":"Inactive"}),(0,Te.jsx)("button",{className:"text-red-600 text-sm hover:text-red-700",children:"Revoke"})]})]},e.id)),0===(null===(u=B.api_keys)||void 0===u?void 0:u.length)&&(0,Te.jsx)("p",{className:"text-slate-500 text-sm",children:"No API keys created"})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Active Sessions"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsx)("div",{className:"space-y-4",children:null===(x=B.active_sessions)||void 0===x?void 0:x.map(e=>(0,Te.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.country?"".concat(e.city,", ").concat(e.country):"Unknown Location"}),(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:[e.ip_address," \u2022 ",new Date(e.last_activity).toLocaleString()]})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("span",{className:"text-green-600 text-sm font-medium",children:"Active"}),(0,Te.jsx)("button",{className:"text-red-600 text-sm hover:text-red-700",children:"Terminate"})]})]},e.id))})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"px-6 py-4 border-b border-slate-200",children:(0,Te.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Recent Security Events"})}),(0,Te.jsx)("div",{className:"p-6",children:(0,Te.jsx)("div",{className:"space-y-4",children:null===(h=B.recent_events)||void 0===h?void 0:h.map(e=>(0,Te.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-slate-100",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.description}),(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:[e.ip_address," \u2022 ",new Date(e.created_at).toLocaleString()]})]}),(0,Te.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat(e.risk_score>=70?"bg-red-100 text-red-800":e.risk_score>=40?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.risk_score?"Risk: ".concat(e.risk_score):"Low Risk"})]},e.id))})})]})]})]})]})]})]});var $},Hs=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Vs=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)("all"),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)([]),[m,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{u(!0);const e=await fetch("http://localhost:8000/api/notifications/");if(e.ok){const s=await e.json();t(s.notifications||[]),a(s.notifications||[])}else console.error("Failed to fetch notifications"),t([]),a([])}catch(e){console.error("Error fetching notifications:",e),t([]),a([])}finally{u(!1)}})()},[]),(0,n.useEffect)(()=>{let t=e;"unread"===l?t=t.filter(e=>"unread"===e.status):"read"===l&&(t=t.filter(e=>"read"===e.status)),i&&(t=t.filter(e=>e.title.toLowerCase().includes(i.toLowerCase())||e.message.toLowerCase().includes(i.toLowerCase()))),a(t)},[e,l,i]);const x=()=>{t(e=>e.filter(e=>!c.includes(e.id))),d([])},h=e=>{switch(e){case"subscription":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case"cases":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";case"billing":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";case"system":default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300";case"profile":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"reports":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300";case"storage":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300";case"features":return"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300"}},p=e.filter(e=>"unread"===e.status).length;return m?(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:(0,Te.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-8 bg-slate-200 dark:bg-slate-700 rounded w-1/4 mb-6"}),(0,Te.jsx)("div",{className:"space-y-4",children:[...Array(5)].map((e,t)=>(0,Te.jsx)("div",{className:"h-20 bg-slate-200 dark:bg-slate-700 rounded"},t))})]})})}):(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 py-8",children:(0,Te.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,Te.jsx)(Ke,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,Te.jsx)("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Notifications"}),p>0&&(0,Te.jsxs)("span",{className:"px-3 py-1 bg-red-500 text-white text-sm font-medium rounded-full",children:[p," unread"]})]}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"Stay updated with the latest activity and important information"})]}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 mb-6",children:(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[(0,Te.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search notifications...",value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsxs)("select",{value:l,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Te.jsx)("option",{value:"all",children:"All notifications"}),(0,Te.jsx)("option",{value:"unread",children:"Unread only"}),(0,Te.jsx)("option",{value:"read",children:"Read only"})]}),c.length>0&&(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsxs)("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[c.length," selected"]}),(0,Te.jsx)("button",{onClick:x,className:"px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]}),p>0&&(0,Te.jsx)("button",{onClick:async()=>{try{(await fetch("http://localhost:8000/api/notifications/mark-all-read?user_id=1",{method:"PUT"})).ok&&t(e=>e.map(e=>Ue(Ue({},e),{},{status:"read",read_at:(new Date).toISOString()})))}catch(e){console.error("Error marking all notifications as read:",e)}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:"Mark all as read"})]})]})}),(0,Te.jsx)("div",{className:"space-y-4",children:0===s.length?(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-12 text-center",children:[(0,Te.jsx)(Ke,{className:"h-12 w-12 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:i?"No notifications found":"No notifications"}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:i?"Try adjusting your search terms or filters":"You're all caught up! New notifications will appear here."})]}):s.map(e=>{const s=(e=>{switch(e){case"SUBSCRIPTION":return qe;case"PAYMENT":case"SECURITY":return Ye;default:return $e}})(e.type),a=(e=>{switch(e){case"SUBSCRIPTION":return"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20";case"PAYMENT":return"text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20";case"SYSTEM":default:return"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20";case"CASE_UPDATE":return"text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20";case"SECURITY":return"text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20";case"SEARCH":return"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20";case"GENERAL":return"text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-900/20"}})(e.type),n=c.includes(e.id);return(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 transition-all duration-200 ".concat(n?"ring-2 ring-blue-500":""," ").concat("unread"===e.status?"border-l-4 border-l-blue-500":""),children:(0,Te.jsxs)("div",{className:"flex items-start gap-4",children:[(0,Te.jsx)("input",{type:"checkbox",checked:n,onChange:()=>{return t=e.id,void d(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 dark:border-slate-600 rounded"}),(0,Te.jsx)("div",{className:"p-2 rounded-lg ".concat(a),children:(0,Te.jsx)(s,{className:"h-5 w-5"})}),(0,Te.jsx)("div",{className:"flex-1 min-w-0",children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold ".concat("unread"===e.status?"text-slate-900 dark:text-white":"text-slate-700 dark:text-slate-300"),children:e.title}),(0,Te.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(h(e.category)),children:e.category}),"unread"===e.status&&(0,Te.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"})]}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-400 mb-3 leading-relaxed",children:e.message}),(0,Te.jsx)("div",{className:"flex items-center gap-4 text-sm text-slate-500 dark:text-slate-500",children:(0,Te.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Te.jsx)(Qe,{className:"h-4 w-4"}),e.time]})})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:["unread"===e.status?(0,Te.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("http://localhost:8000/api/notifications/".concat(e,"/read"),{method:"PUT"})).ok&&t(t=>t.map(t=>t.id===e?Ue(Ue({},t),{},{status:"read",read_at:(new Date).toISOString()}):t))}catch(s){console.error("Error marking notification as read:",s)}})(e.id),className:"p-2 text-slate-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Mark as read",children:(0,Te.jsx)(xs,{className:"h-4 w-4"})}):(0,Te.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("http://localhost:8000/api/notifications/".concat(e,"/unread"),{method:"PUT"})).ok&&t(t=>t.map(t=>t.id===e?Ue(Ue({},t),{},{status:"unread",read_at:null}):t))}catch(s){console.error("Error marking notification as unread:",s)}})(e.id),className:"p-2 text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Mark as unread",children:(0,Te.jsx)(tt,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(async e=>{try{(await fetch("http://localhost:8000/api/notifications/".concat(e),{method:"DELETE"})).ok&&t(t=>t.filter(t=>t.id!==e))}catch(s){console.error("Error deleting notification:",s)}})(e.id),className:"p-2 text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete notification",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})]})})]})},e.id)})}),c.length>0&&(0,Te.jsx)("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 p-4",children:(0,Te.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Te.jsxs)("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:[c.length," notification",1!==c.length?"s":""," selected"]}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsx)("button",{onClick:()=>{d(s.map(e=>e.id))},className:"px-3 py-1 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:"Select All"}),(0,Te.jsx)("button",{onClick:()=>{d([])},className:"px-3 py-1 text-sm text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg transition-colors",children:"Deselect All"}),(0,Te.jsx)("button",{onClick:x,className:"px-3 py-1 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:"Delete Selected"})]})]})})]})})},Ws=Ge("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Gs=()=>{const[e]=Le(),t=se(),s=e.get("q")||e.get("search")||"",[a,l]=(0,n.useState)([]),[r,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),[d,m]=(0,n.useState)(0),[u,x]=(0,n.useState)(""),[h,p]=(0,n.useState)({totalResults:0,searchTime:0,courtsSearched:0,totalCourts:0}),[g,f]=(0,n.useState)({sortBy:"relevance",region:"all",caseType:"all"}),[b,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{s.trim()&&(async e=>{i(!0),c(null),m(0),p({totalResults:0,searchTime:0,courtsSearched:0,totalCourts:0});const t=["Supreme Court","Court of Appeal","High Court - Accra","High Court - Kumasi","High Court - Tamale","Circuit Court - Accra","Circuit Court - Kumasi","District Court - Accra","District Court - Kumasi","Commercial Court","Family Court","Land Court"],s=t.length;let a=Date.now();try{for(let e=0;e<t.length;e++){x(t[e]),p(t=>Ue(Ue({},t),{},{courtsSearched:e+1,totalCourts:s})),await new Promise(e=>setTimeout(e,150+200*Math.random()));const a=Math.round((e+1)/s*100);m(a)}const n=localStorage.getItem("accessToken"),r=new URLSearchParams({q:e,page:1,limit:50,sort_by:g.sortBy,sort_order:"relevance"===g.sortBy?"desc":"asc"}),i=await fetch("http://localhost:8000/api/enhanced-search/search?".concat(r),{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});if(i.ok){const e=await i.json();l(e.results||[]),p(t=>Ue(Ue({},t),{},{totalResults:e.total||0,searchTime:e.search_time||Math.round((Date.now()-a)/1e3)}))}else{const e=await i.json();c(e.detail||"Search failed")}}catch(n){c("Network error. Please try again.")}finally{i(!1),x(""),m(100)}})(s)},[s]);const v=(e,t)=>{f(s=>Ue(Ue({},s),{},{[e]:t}))};(0,n.useEffect)(()=>{if(a.length>0){const e=((e,t)=>{let s=[...e];return"all"!==t.region&&(s=s.filter(e=>e.region===t.region)),"all"!==t.caseType&&(s=s.filter(e=>e.case_types&&e.case_types.includes(t.caseType))),s.sort((e,s)=>{switch(t.sortBy){case"date":return new Date(s.date||0)-new Date(e.date||0);case"relevance":return(s.relevance_score||0)-(e.relevance_score||0);case"name":return(e.title||"").localeCompare(s.title||"");default:return 0}}),s})(a,g);l(e)}},[g]);const y=e=>{if(!e)return"Unknown";const t=new Date(e),s=new Date,a=Math.floor((s-t)/36e5);if(a<1)return"Just now";if(a<24)return"".concat(a," hour").concat(a>1?"s":""," ago");const n=Math.floor(a/24);return"".concat(n," day").concat(n>1?"s":""," ago")};return(0,Te.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Te.jsx)("div",{className:"flex items-center justify-between h-16",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsxs)("button",{onClick:()=>t(-1),className:"flex items-center text-blue-600 hover:text-blue-800 mr-4",children:[(0,Te.jsx)(zt,{className:"h-5 w-5 mr-1"}),"Back to Search"]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Search Results"}),(0,Te.jsxs)("p",{className:"text-sm text-gray-600",children:["Found ",h.totalResults,' results matching "',s,'"']})]})]})})})}),r&&(0,Te.jsx)("div",{className:"bg-blue-50 border-b",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),(0,Te.jsxs)("span",{className:"text-sm font-medium text-blue-800",children:["Searching ",u,"..."]})]}),(0,Te.jsxs)("span",{className:"text-sm text-blue-600",children:[d,"%"]})]}),(0,Te.jsx)("div",{className:"w-full bg-blue-200 rounded-full h-2",children:(0,Te.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(d,"%")}})}),(0,Te.jsxs)("div",{className:"flex justify-between text-xs text-blue-600 mt-1",children:[(0,Te.jsxs)("span",{children:["Courts searched: ",h.courtsSearched,"/",h.totalCourts]}),(0,Te.jsxs)("span",{children:["Time: ",h.searchTime,"s"]})]})]})}),(0,Te.jsx)("div",{className:"bg-white border-b",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("button",{onClick:()=>j(!b),className:"flex items-center px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,Te.jsx)(Ct,{className:"h-4 w-4 mr-2"}),"Filter by",(0,Te.jsx)(Xe,{className:"h-4 w-4 ml-2"})]}),(0,Te.jsxs)("select",{value:g.sortBy,onChange:e=>v("sortBy",e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"relevance",children:"Sort by Relevance"}),(0,Te.jsx)("option",{value:"date",children:"Sort by Date"}),(0,Te.jsx)("option",{value:"name",children:"Sort by Name"})]})]}),h.searchTime>0&&(0,Te.jsxs)("div",{className:"text-sm text-gray-600",children:["Search completed in ",h.searchTime,"s"]})]}),b&&(0,Te.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region"}),(0,Te.jsxs)("select",{value:g.region,onChange:e=>v("region",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Regions"}),(0,Te.jsx)("option",{value:"GAR",children:"Greater Accra Region"}),(0,Te.jsx)("option",{value:"ASR",children:"Ashanti Region"}),(0,Te.jsx)("option",{value:"VR",children:"Volta Region"}),(0,Te.jsx)("option",{value:"ER",children:"Eastern Region"}),(0,Te.jsx)("option",{value:"WR",children:"Western Region"}),(0,Te.jsx)("option",{value:"CR",children:"Central Region"}),(0,Te.jsx)("option",{value:"NR",children:"Northern Region"}),(0,Te.jsx)("option",{value:"UER",children:"Upper East Region"}),(0,Te.jsx)("option",{value:"UWR",children:"Upper West Region"}),(0,Te.jsx)("option",{value:"BR",children:"Brong-Ahafo Region"}),(0,Te.jsx)("option",{value:"WNR",children:"Western North Region"}),(0,Te.jsx)("option",{value:"AHR",children:"Ahafo Region"}),(0,Te.jsx)("option",{value:"BER",children:"Bono East Region"}),(0,Te.jsx)("option",{value:"NER",children:"North East Region"}),(0,Te.jsx)("option",{value:"SR",children:"Savannah Region"}),(0,Te.jsx)("option",{value:"OR",children:"Oti Region"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Court Type"}),(0,Te.jsxs)("select",{value:g.caseType,onChange:e=>v("caseType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Court Types"}),(0,Te.jsx)("option",{value:"Supreme Court",children:"Supreme Court"}),(0,Te.jsx)("option",{value:"High Court",children:"High Court"}),(0,Te.jsx)("option",{value:"Court of Appeal",children:"Court of Appeal"}),(0,Te.jsx)("option",{value:"Circuit Court",children:"Circuit Court"}),(0,Te.jsx)("option",{value:"District Court",children:"District Court"}),(0,Te.jsx)("option",{value:"Commercial Court",children:"Commercial Court"}),(0,Te.jsx)("option",{value:"Family Court",children:"Family Court"}),(0,Te.jsx)("option",{value:"Land Court",children:"Land Court"})]})]})]})]})}),(0,Te.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600",children:"Searching through court records..."})]}):o?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(Ye,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-red-600 mb-2",children:"Error loading search results"}),(0,Te.jsx)("p",{className:"text-gray-600",children:o})]}):0===a.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(Je,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-gray-600 mb-2",children:"No results found"}),(0,Te.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search terms or filters"})]}):(0,Te.jsx)("div",{className:"space-y-4",children:a.map((e,a)=>{return(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6 hover:shadow-md transition-shadow",children:(0,Te.jsx)("div",{className:"flex items-start justify-between",children:(0,Te.jsxs)("div",{className:"flex items-start space-x-4 flex-1",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:"person"===e.type?(0,Te.jsx)(ct,{className:"h-6 w-6 text-gray-600"}):"bank"===e.type?(0,Te.jsx)(wt,{className:"h-6 w-6 text-gray-600"}):"insurance"===e.type?(0,Te.jsx)(Ws,{className:"h-6 w-6 text-gray-600"}):(0,Te.jsx)(Ht,{className:"h-6 w-6 text-gray-600"})})}),(0,Te.jsx)("div",{className:"flex-1 min-w-0",children:(0,Te.jsx)("div",{className:"flex items-start justify-between",children:(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>{"person"===e.type?t("/person-profile/".concat(e.id,"?search=").concat(encodeURIComponent(s))):"bank"===e.type?t("/bank-detail?id=".concat(e.id,"&name=").concat(encodeURIComponent(e.name))):"insurance"===e.type?t("/insurance-detail?id=".concat(e.id,"&name=").concat(encodeURIComponent(e.name))):t("/case-details?id=".concat(e.id))},children:e.title||e.full_name||e.name}),(0,Te.jsx)("p",{className:"text-gray-700 mb-3 line-clamp-2",children:e.case_summary||e.description||e.notes||"No description available"}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Qe,{className:"h-4 w-4 mr-1"}),y(e.updated_at||e.created_at)]}),e.region&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(gt,{className:"h-4 w-4 mr-1"}),(l=e.region,{GAR:"Greater Accra Region",ASR:"Ashanti Region",AR:"Ashanti Region",VR:"Volta Region",ER:"Eastern Region",WR:"Western Region",CR:"Central Region",NR:"Northern Region",UER:"Upper East Region",UWR:"Upper West Region",BR:"Brong-Ahafo Region",WNR:"Western North Region",AHR:"Ahafo Region",BER:"Bono East Region",NER:"North East Region",SR:"Savannah Region",OR:"Oti Region",gar:"Greater Accra Region",asr:"Ashanti Region","Greater Accra Region":"Greater Accra Region","Ashanti Region":"Ashanti Region","Volta Region":"Volta Region","Eastern Region":"Eastern Region","Western Region":"Western Region","Central Region":"Central Region","Northern Region":"Northern Region","Upper East Region":"Upper East Region","Upper West Region":"Upper West Region","Brong-Ahafo Region":"Brong-Ahafo Region","Western North Region":"Western North Region","Ahafo Region":"Ahafo Region","Bono East Region":"Bono East Region","North East Region":"North East Region","Savannah Region":"Savannah Region","Oti Region":"Oti Region"}[l]||l)]}),e.court_type&&(0,Te.jsxs)("span",{className:"flex items-center",children:[(0,Te.jsx)(Ht,{className:"h-4 w-4 mr-1"}),(n=e.court_type,{SC:"Supreme Court",HC:"High Court",CA:"Court of Appeal","Supreme Court":"Supreme Court","High Court":"High Court","Court of Appeal":"Court of Appeal","Circuit Court":"Circuit Court","District Court":"District Court","Commercial Court":"Commercial Court","Family Court":"Family Court","Land Court":"Land Court"}[n]||n)]})]}),(0,Te.jsxs)("button",{onClick:()=>{"person"===e.type?t("/person-profile/".concat(e.id,"?search=").concat(encodeURIComponent(s))):"bank"===e.type?t("/bank-detail?id=".concat(e.id,"&name=").concat(encodeURIComponent(e.name))):"insurance"===e.type?t("/insurance-detail?id=".concat(e.id,"&name=").concat(encodeURIComponent(e.name))):t("/case-details?id=".concat(e.id))},className:"flex items-center text-blue-600 hover:text-blue-800 text-sm font-medium",children:[(0,Te.jsx)(es,{className:"h-4 w-4 mr-1"}),"Click to view details"]})]})]})})})]})})},e.id||a);var n,l})})})]})};function qs(e){return e+.5|0}const Ys=(e,t,s)=>Math.max(Math.min(e,s),t);function $s(e){return Ys(qs(2.55*e),0,255)}function Js(e){return Ys(qs(255*e),0,255)}function Ks(e){return Ys(qs(e/2.55)/100,0,1)}function Qs(e){return Ys(qs(100*e),0,100)}const Xs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zs=[..."0123456789ABCDEF"],ea=e=>Zs[15&e],ta=e=>Zs[(240&e)>>4]+Zs[15&e],sa=e=>(240&e)>>4===(15&e);function aa(e){var t=(e=>sa(e.r)&&sa(e.g)&&sa(e.b)&&sa(e.a))(e)?ea:ta;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const na=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function la(e,t,s){const a=t*Math.min(s,1-s),n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return s-a*Math.max(Math.min(n-3,9-n,1),-1)};return[n(0),n(8),n(4)]}function ra(e,t,s){const a=function(a){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a+e/60)%6;return s-s*t*Math.max(Math.min(n,4-n,1),0)};return[a(5),a(3),a(1)]}function ia(e,t,s){const a=la(e,1,.5);let n;for(t+s>1&&(n=1/(t+s),t*=n,s*=n),n=0;n<3;n++)a[n]*=1-t-s,a[n]+=t;return a}function oa(e){const t=e.r/255,s=e.g/255,a=e.b/255,n=Math.max(t,s,a),l=Math.min(t,s,a),r=(n+l)/2;let i,o,c;return n!==l&&(c=n-l,o=r>.5?c/(2-n-l):c/(n+l),i=function(e,t,s,a,n){return e===n?(t-s)/a+(t<s?6:0):t===n?(s-e)/a+2:(e-t)/a+4}(t,s,a,c,n),i=60*i+.5),[0|i,o||0,r]}function ca(e,t,s,a){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,a)).map(Js)}function da(e,t,s){return ca(la,e,t,s)}function ma(e){return(e%360+360)%360}function ua(e){const t=na.exec(e);let s,a=255;if(!t)return;t[5]!==s&&(a=t[6]?$s(+t[5]):Js(+t[5]));const n=ma(+t[2]),l=+t[3]/100,r=+t[4]/100;return s="hwb"===t[1]?function(e,t,s){return ca(ia,e,t,s)}(n,l,r):"hsv"===t[1]?function(e,t,s){return ca(ra,e,t,s)}(n,l,r):da(n,l,r),{r:s[0],g:s[1],b:s[2],a:a}}const xa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ha={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let pa;function ga(e){pa||(pa=function(){const e={},t=Object.keys(ha),s=Object.keys(xa);let a,n,l,r,i;for(a=0;a<t.length;a++){for(r=i=t[a],n=0;n<s.length;n++)l=s[n],i=i.replace(l,xa[l]);l=parseInt(ha[r],16),e[i]=[l>>16&255,l>>8&255,255&l]}return e}(),pa.transparent=[0,0,0,0]);const t=pa[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const fa=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const ba=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,ja=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function va(e,t,s){if(e){let a=oa(e);a[t]=Math.max(0,Math.min(a[t]+a[t]*s,0===t?360:1)),a=da(a),e.r=a[0],e.g=a[1],e.b=a[2]}}function ya(e,t){return e?Object.assign(t||{},e):e}function Na(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Js(e[3]))):(t=ya(e,{r:0,g:0,b:0,a:1})).a=Js(t.a),t}function wa(e){return"r"===e.charAt(0)?function(e){const t=fa.exec(e);let s,a,n,l=255;if(t){if(t[7]!==s){const e=+t[7];l=t[8]?$s(e):Ys(255*e,0,255)}return s=+t[1],a=+t[3],n=+t[5],s=255&(t[2]?$s(s):Ys(s,0,255)),a=255&(t[4]?$s(a):Ys(a,0,255)),n=255&(t[6]?$s(n):Ys(n,0,255)),{r:s,g:a,b:n,a:l}}}(e):ua(e)}class ka{constructor(e){if(e instanceof ka)return e;const t=typeof e;let s;"object"===t?s=Na(e):"string"===t&&(s=function(e){var t,s=e.length;return"#"===e[0]&&(4===s||5===s?t={r:255&17*Xs[e[1]],g:255&17*Xs[e[2]],b:255&17*Xs[e[3]],a:5===s?17*Xs[e[4]]:255}:7!==s&&9!==s||(t={r:Xs[e[1]]<<4|Xs[e[2]],g:Xs[e[3]]<<4|Xs[e[4]],b:Xs[e[5]]<<4|Xs[e[6]],a:9===s?Xs[e[7]]<<4|Xs[e[8]]:255})),t}(e)||ga(e)||wa(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=ya(this._rgb);return e&&(e.a=Ks(e.a)),e}set rgb(e){this._rgb=Na(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Ks(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?aa(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=oa(e),s=t[0],a=Qs(t[1]),n=Qs(t[2]);return e.a<255?"hsla(".concat(s,", ").concat(a,"%, ").concat(n,"%, ").concat(Ks(e.a),")"):"hsl(".concat(s,", ").concat(a,"%, ").concat(n,"%)")}(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let n;const l=t===n?.5:t,r=2*l-1,i=s.a-a.a,o=((r*i===-1?r:(r+i)/(1+r*i))+1)/2;n=1-o,s.r=255&o*s.r+n*a.r+.5,s.g=255&o*s.g+n*a.g+.5,s.b=255&o*s.b+n*a.b+.5,s.a=l*s.a+(1-l)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,s){const a=ja(Ks(e.r)),n=ja(Ks(e.g)),l=ja(Ks(e.b));return{r:Js(ba(a+s*(ja(Ks(t.r))-a))),g:Js(ba(n+s*(ja(Ks(t.g))-n))),b:Js(ba(l+s*(ja(Ks(t.b))-l))),a:e.a+s*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ka(this.rgb)}alpha(e){return this._rgb.a=Js(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=qs(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return va(this._rgb,2,e),this}darken(e){return va(this._rgb,2,-e),this}saturate(e){return va(this._rgb,1,e),this}desaturate(e){return va(this._rgb,1,-e),this}rotate(e){return function(e,t){var s=oa(e);s[0]=ma(s[0]+t),s=da(s),e.r=s[0],e.g=s[1],e.b=s[2]}(this._rgb,e),this}}function _a(){}const Ca=(()=>{let e=0;return()=>e++})();function Sa(e){return null===e||void 0===e}function Aa(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Ea(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Ma(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Ia(e,t){return Ma(e)?e:t}function Pa(e,t){return"undefined"===typeof e?t:e}const La=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ta(e,t,s){if(e&&"function"===typeof e.call)return e.apply(s,t)}function Ra(e,t,s,a){let n,l,r;if(Aa(e))if(l=e.length,a)for(n=l-1;n>=0;n--)t.call(s,e[n],n);else for(n=0;n<l;n++)t.call(s,e[n],n);else if(Ea(e))for(r=Object.keys(e),l=r.length,n=0;n<l;n++)t.call(s,e[r[n]],r[n])}function Da(e,t){let s,a,n,l;if(!e||!t||e.length!==t.length)return!1;for(s=0,a=e.length;s<a;++s)if(n=e[s],l=t[s],n.datasetIndex!==l.datasetIndex||n.index!==l.index)return!1;return!0}function Oa(e){if(Aa(e))return e.map(Oa);if(Ea(e)){const t=Object.create(null),s=Object.keys(e),a=s.length;let n=0;for(;n<a;++n)t[s[n]]=Oa(e[s[n]]);return t}return e}function Fa(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function za(e,t,s,a){if(!Fa(e))return;const n=t[e],l=s[e];Ea(n)&&Ea(l)?Ba(n,l,a):t[e]=Oa(l)}function Ba(e,t,s){const a=Aa(t)?t:[t],n=a.length;if(!Ea(e))return e;const l=(s=s||{}).merger||za;let r;for(let i=0;i<n;++i){if(r=a[i],!Ea(r))continue;const t=Object.keys(r);for(let a=0,n=t.length;a<n;++a)l(t[a],e,r,s)}return e}function Ua(e,t){return Ba(e,t,{merger:Ha})}function Ha(e,t,s){if(!Fa(e))return;const a=t[e],n=s[e];Ea(a)&&Ea(n)?Ua(a,n):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Oa(n))}const Va={"":e=>e,x:e=>e.x,y:e=>e.y};function Wa(e,t){const s=Va[t]||(Va[t]=function(e){const t=function(e){const t=e.split("."),s=[];let a="";for(const n of t)a+=n,a.endsWith("\\")?a=a.slice(0,-1)+".":(s.push(a),a="");return s}(e);return e=>{for(const s of t){if(""===s)break;e=e&&e[s]}return e}}(t));return s(e)}function Ga(e){return e.charAt(0).toUpperCase()+e.slice(1)}const qa=e=>"undefined"!==typeof e,Ya=e=>"function"===typeof e,$a=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};const Ja=Math.PI,Ka=2*Ja,Qa=Ka+Ja,Xa=Number.POSITIVE_INFINITY,Za=Ja/180,en=Ja/2,tn=Ja/4,sn=2*Ja/3,an=Math.log10,nn=Math.sign;function ln(e,t,s){return Math.abs(e-t)<s}function rn(e){const t=Math.round(e);e=ln(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(an(e))),a=e/s;return(a<=1?1:a<=2?2:a<=5?5:10)*s}function on(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function cn(e,t,s){let a,n,l;for(a=0,n=e.length;a<n;a++)l=e[a][s],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function dn(e){return e*(Ja/180)}function mn(e){return e*(180/Ja)}function un(e){if(!Ma(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function xn(e,t){const s=t.x-e.x,a=t.y-e.y,n=Math.sqrt(s*s+a*a);let l=Math.atan2(a,s);return l<-.5*Ja&&(l+=Ka),{angle:l,distance:n}}function hn(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function pn(e,t){return(e-t+Qa)%Ka-Ja}function gn(e){return(e%Ka+Ka)%Ka}function fn(e,t,s,a){const n=gn(e),l=gn(t),r=gn(s),i=gn(l-n),o=gn(r-n),c=gn(n-l),d=gn(n-r);return n===l||n===r||a&&l===r||i>o&&c<d}function bn(e,t,s){return Math.max(t,Math.min(s,e))}function jn(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,s)-a&&e<=Math.max(t,s)+a}function vn(e,t,s){s=s||(s=>e[s]<t);let a,n=e.length-1,l=0;for(;n-l>1;)a=l+n>>1,s(a)?l=a:n=a;return{lo:l,hi:n}}const yn=(e,t,s,a)=>vn(e,s,a?a=>{const n=e[a][t];return n<s||n===s&&e[a+1][t]===s}:a=>e[a][t]<s),Nn=(e,t,s)=>vn(e,s,a=>e[a][t]>=s);const wn=["push","pop","shift","splice","unshift"];function kn(e,t){const s=e._chartjs;if(!s)return;const a=s.listeners,n=a.indexOf(t);-1!==n&&a.splice(n,1),a.length>0||(wn.forEach(t=>{delete e[t]}),delete e._chartjs)}function _n(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Cn="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Sn(e,t){let s=[],a=!1;return function(){for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];s=l,a||(a=!0,Cn.call(window,()=>{a=!1,e.apply(t,s)}))}}const An=e=>"start"===e?"left":"end"===e?"right":"center",En=(e,t,s)=>"start"===e?t:"end"===e?s:(t+s)/2;function Mn(e,t,s){const a=t.length;let n=0,l=a;if(e._sorted){const{iScale:r,vScale:i,_parsed:o}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:m,max:u,minDefined:x,maxDefined:h}=r.getUserBounds();if(x){if(n=Math.min(yn(o,d,m).lo,s?a:yn(t,d,r.getPixelForValue(m)).lo),c){const e=o.slice(0,n+1).reverse().findIndex(e=>!Sa(e[i.axis]));n-=Math.max(0,e)}n=bn(n,0,a-1)}if(h){let e=Math.max(yn(o,r.axis,u,!0).hi+1,s?0:yn(t,d,r.getPixelForValue(u),!0).hi+1);if(c){const t=o.slice(e-1).findIndex(e=>!Sa(e[i.axis]));e+=Math.max(0,t)}l=bn(e,n,a)-n}else l=a-n}return{start:n,count:l}}function In(e){const{xScale:t,yScale:s,_scaleRanges:a}=e,n={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!a)return e._scaleRanges=n,!0;const l=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==s.min||a.ymax!==s.max;return Object.assign(a,n),l}const Pn=e=>0===e||1===e,Ln=(e,t,s)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ka/s),Tn=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ka/s)+1,Rn={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*en),easeOutSine:e=>Math.sin(e*en),easeInOutSine:e=>-.5*(Math.cos(Ja*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Pn(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Pn(e)?e:Ln(e,.075,.3),easeOutElastic:e=>Pn(e)?e:Tn(e,.075,.3),easeInOutElastic(e){const t=.1125;return Pn(e)?e:e<.5?.5*Ln(2*e,t,.45):.5+.5*Tn(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Rn.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,s=2.75;return e<1/s?t*e*e:e<2/s?t*(e-=1.5/s)*e+.75:e<2.5/s?t*(e-=2.25/s)*e+.9375:t*(e-=2.625/s)*e+.984375},easeInOutBounce:e=>e<.5?.5*Rn.easeInBounce(2*e):.5*Rn.easeOutBounce(2*e-1)+.5};function Dn(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function On(e){return Dn(e)?e:new ka(e)}function Fn(e){return Dn(e)?e:new ka(e).saturate(.5).darken(.1).hexString()}const zn=["x","y","borderWidth","radius","tension"],Bn=["color","borderColor","backgroundColor"];const Un=new Map;function Hn(e,t,s){return function(e,t){t=t||{};const s=e+JSON.stringify(t);let a=Un.get(s);return a||(a=new Intl.NumberFormat(e,t),Un.set(s,a)),a}(t,s).format(e)}const Vn={values:e=>Aa(e)?e:""+e,numeric(e,t,s){if(0===e)return"0";const a=this.chart.options.locale;let n,l=e;if(s.length>1){const t=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(t<1e-4||t>1e15)&&(n="scientific"),l=function(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e));return s}(e,s)}const r=an(Math.abs(l)),i=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),o={notation:n,minimumFractionDigits:i,maximumFractionDigits:i};return Object.assign(o,this.options.ticks.format),Hn(e,a,o)},logarithmic(e,t,s){if(0===e)return"0";const a=s[t].significand||e/Math.pow(10,Math.floor(an(e)));return[1,2,3,5,10,15].includes(a)||t>.8*s.length?Vn.numeric.call(this,e,t,s):""}};var Wn={formatters:Vn};const Gn=Object.create(null),qn=Object.create(null);function Yn(e,t){if(!t)return e;const s=t.split(".");for(let a=0,n=s.length;a<n;++a){const t=s[a];e=e[t]||(e[t]=Object.create(null))}return e}function $n(e,t,s){return"string"===typeof t?Ba(Yn(e,t),s):Ba(Yn(e,""),t)}class Jn{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Fn(t.backgroundColor),this.hoverBorderColor=(e,t)=>Fn(t.borderColor),this.hoverColor=(e,t)=>Fn(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return $n(this,e,t)}get(e){return Yn(this,e)}describe(e,t){return $n(qn,e,t)}override(e,t){return $n(Gn,e,t)}route(e,t,s,a){const n=Yn(this,e),l=Yn(this,s),r="_"+t;Object.defineProperties(n,{[r]:{value:n[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=l[a];return Ea(e)?Object.assign({},t,e):Pa(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach(e=>e(this))}}var Kn=new Jn({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Bn},numbers:{type:"number",properties:zn}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Wn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Qn(e,t,s,a,n){let l=t[n];return l||(l=t[n]=e.measureText(n).width,s.push(n)),l>a&&(a=l),a}function Xn(e,t,s,a){let n=(a=a||{}).data=a.data||{},l=a.garbageCollect=a.garbageCollect||[];a.font!==t&&(n=a.data={},l=a.garbageCollect=[],a.font=t),e.save(),e.font=t;let r=0;const i=s.length;let o,c,d,m,u;for(o=0;o<i;o++)if(m=s[o],void 0===m||null===m||Aa(m)){if(Aa(m))for(c=0,d=m.length;c<d;c++)u=m[c],void 0===u||null===u||Aa(u)||(r=Qn(e,n,l,r,u))}else r=Qn(e,n,l,r,m);e.restore();const x=l.length/2;if(x>s.length){for(o=0;o<x;o++)delete n[l[o]];l.splice(0,x)}return r}function Zn(e,t,s){const a=e.currentDevicePixelRatio,n=0!==s?Math.max(s/2,.5):0;return Math.round((t-n)*a)/a+n}function el(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function tl(e,t,s,a){sl(e,t,s,a,null)}function sl(e,t,s,a,n){let l,r,i,o,c,d,m,u;const x=t.pointStyle,h=t.rotation,p=t.radius;let g=(h||0)*Za;if(x&&"object"===typeof x&&(l=x.toString(),"[object HTMLImageElement]"===l||"[object HTMLCanvasElement]"===l))return e.save(),e.translate(s,a),e.rotate(g),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),x){default:n?e.ellipse(s,a,n/2,p,0,0,Ka):e.arc(s,a,p,0,Ka),e.closePath();break;case"triangle":d=n?n/2:p,e.moveTo(s+Math.sin(g)*d,a-Math.cos(g)*p),g+=sn,e.lineTo(s+Math.sin(g)*d,a-Math.cos(g)*p),g+=sn,e.lineTo(s+Math.sin(g)*d,a-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=.516*p,o=p-c,r=Math.cos(g+tn)*o,m=Math.cos(g+tn)*(n?n/2-c:o),i=Math.sin(g+tn)*o,u=Math.sin(g+tn)*(n?n/2-c:o),e.arc(s-m,a-i,c,g-Ja,g-en),e.arc(s+u,a-r,c,g-en,g),e.arc(s+m,a+i,c,g,g+en),e.arc(s-u,a+r,c,g+en,g+Ja),e.closePath();break;case"rect":if(!h){o=Math.SQRT1_2*p,d=n?n/2:o,e.rect(s-d,a-o,2*d,2*o);break}g+=tn;case"rectRot":m=Math.cos(g)*(n?n/2:p),r=Math.cos(g)*p,i=Math.sin(g)*p,u=Math.sin(g)*(n?n/2:p),e.moveTo(s-m,a-i),e.lineTo(s+u,a-r),e.lineTo(s+m,a+i),e.lineTo(s-u,a+r),e.closePath();break;case"crossRot":g+=tn;case"cross":m=Math.cos(g)*(n?n/2:p),r=Math.cos(g)*p,i=Math.sin(g)*p,u=Math.sin(g)*(n?n/2:p),e.moveTo(s-m,a-i),e.lineTo(s+m,a+i),e.moveTo(s+u,a-r),e.lineTo(s-u,a+r);break;case"star":m=Math.cos(g)*(n?n/2:p),r=Math.cos(g)*p,i=Math.sin(g)*p,u=Math.sin(g)*(n?n/2:p),e.moveTo(s-m,a-i),e.lineTo(s+m,a+i),e.moveTo(s+u,a-r),e.lineTo(s-u,a+r),g+=tn,m=Math.cos(g)*(n?n/2:p),r=Math.cos(g)*p,i=Math.sin(g)*p,u=Math.sin(g)*(n?n/2:p),e.moveTo(s-m,a-i),e.lineTo(s+m,a+i),e.moveTo(s+u,a-r),e.lineTo(s-u,a+r);break;case"line":r=n?n/2:Math.cos(g)*p,i=Math.sin(g)*p,e.moveTo(s-r,a-i),e.lineTo(s+r,a+i);break;case"dash":e.moveTo(s,a),e.lineTo(s+Math.cos(g)*(n?n/2:p),a+Math.sin(g)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function al(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function nl(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ll(e){e.restore()}function rl(e,t,s,a,n){if(!t)return e.lineTo(s.x,s.y);if("middle"===n){const a=(t.x+s.x)/2;e.lineTo(a,t.y),e.lineTo(a,s.y)}else"after"===n!==!!a?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function il(e,t,s,a){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?s.cp2x:s.cp1x,a?s.cp2y:s.cp1y,s.x,s.y)}function ol(e,t,s,a,n){if(n.strikethrough||n.underline){const l=e.measureText(a),r=t-l.actualBoundingBoxLeft,i=t+l.actualBoundingBoxRight,o=s-l.actualBoundingBoxAscent,c=s+l.actualBoundingBoxDescent,d=n.strikethrough?(o+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(r,d),e.lineTo(i,d),e.stroke()}}function cl(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function dl(e,t,s,a,n){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const r=Aa(t)?t:[t],i=l.strokeWidth>0&&""!==l.strokeColor;let o,c;for(e.save(),e.font=n.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Sa(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,l),o=0;o<r.length;++o)c=r[o],l.backdrop&&cl(e,l.backdrop),i&&(l.strokeColor&&(e.strokeStyle=l.strokeColor),Sa(l.strokeWidth)||(e.lineWidth=l.strokeWidth),e.strokeText(c,s,a,l.maxWidth)),e.fillText(c,s,a,l.maxWidth),ol(e,s,a,c,l),a+=Number(n.lineHeight);e.restore()}function ml(e,t){const{x:s,y:a,w:n,h:l,radius:r}=t;e.arc(s+r.topLeft,a+r.topLeft,r.topLeft,1.5*Ja,Ja,!0),e.lineTo(s,a+l-r.bottomLeft),e.arc(s+r.bottomLeft,a+l-r.bottomLeft,r.bottomLeft,Ja,en,!0),e.lineTo(s+n-r.bottomRight,a+l),e.arc(s+n-r.bottomRight,a+l-r.bottomRight,r.bottomRight,en,0,!0),e.lineTo(s+n,a+r.topRight),e.arc(s+n-r.topRight,a+r.topRight,r.topRight,0,-en,!0),e.lineTo(s+r.topLeft,a)}const ul=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hl(e,t){const s=(""+e).match(ul);if(!s||"normal"===s[1])return 1.2*t;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100}return t*e}const pl=e=>+e||0;function gl(e,t){const s={},a=Ea(t),n=a?Object.keys(t):t,l=Ea(e)?a?s=>Pa(e[s],e[t[s]]):t=>e[t]:()=>e;for(const r of n)s[r]=pl(l(r));return s}function fl(e){return gl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function bl(e){return gl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function jl(e){const t=fl(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function vl(e,t){e=e||{},t=t||Kn.font;let s=Pa(e.size,t.size);"string"===typeof s&&(s=parseInt(s,10));let a=Pa(e.style,t.style);a&&!(""+a).match(xl)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const n={family:Pa(e.family,t.family),lineHeight:hl(Pa(e.lineHeight,t.lineHeight),s),size:s,style:a,weight:Pa(e.weight,t.weight),string:""};return n.string=function(e){return!e||Sa(e.size)||Sa(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(n),n}function yl(e,t,s,a){let n,l,r,i=!0;for(n=0,l=e.length;n<l;++n)if(r=e[n],void 0!==r&&(void 0!==t&&"function"===typeof r&&(r=r(t),i=!1),void 0!==s&&Aa(r)&&(r=r[s%r.length],i=!1),void 0!==r))return a&&!i&&(a.cacheable=!1),r}function Nl(e,t){return Object.assign(Object.create(e),t)}function wl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const n=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof s&&(s=Tl("_fallback",e));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:s,_getTarget:a,override:a=>wl([a,...e],t,n,s)};return new Proxy(l,{deleteProperty:(t,s)=>(delete t[s],delete t._keys,delete e[0][s],!0),get:(s,a)=>Al(s,a,()=>function(e,t,s,a){let n;for(const l of t)if(n=Tl(Cl(l,e),s),"undefined"!==typeof n)return Sl(e,n)?Pl(s,a,e,n):n}(a,t,e,s)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Rl(e).includes(t),ownKeys:e=>Rl(e),set(e,t,s){const n=e._storage||(e._storage=a());return e[t]=n[t]=s,delete e._keys,!0}})}function kl(e,t,s,a){const n={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:_l(e,a),setContext:t=>kl(e,t,s,a),override:n=>kl(e.override(n),t,s,a)};return new Proxy(n,{deleteProperty:(t,s)=>(delete t[s],delete e[s],!0),get:(e,t,s)=>Al(e,t,()=>function(e,t,s){const{_proxy:a,_context:n,_subProxy:l,_descriptors:r}=e;let i=a[t];Ya(i)&&r.isScriptable(t)&&(i=function(e,t,s,a){const{_proxy:n,_context:l,_subProxy:r,_stack:i}=s;if(i.has(e))throw new Error("Recursion detected: "+Array.from(i).join("->")+"->"+e);i.add(e);let o=t(l,r||a);i.delete(e),Sl(e,o)&&(o=Pl(n._scopes,n,e,o));return o}(t,i,e,s));Aa(i)&&i.length&&(i=function(e,t,s,a){const{_proxy:n,_context:l,_subProxy:r,_descriptors:i}=s;if("undefined"!==typeof l.index&&a(e))return t[l.index%t.length];if(Ea(t[0])){const s=t,a=n._scopes.filter(e=>e!==s);t=[];for(const o of s){const s=Pl(a,n,e,o);t.push(kl(s,l,r&&r[e],i))}}return t}(t,i,e,r.isIndexable));Sl(t,i)&&(i=kl(i,n,l&&l[t],r));return i}(e,t,s)),getOwnPropertyDescriptor:(t,s)=>t._descriptors.allKeys?Reflect.has(e,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,s),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,s)=>Reflect.has(e,s),ownKeys:()=>Reflect.ownKeys(e),set:(t,s,a)=>(e[s]=a,delete t[s],!0)})}function _l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:s=t.scriptable,_indexable:a=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:s,indexable:a,isScriptable:Ya(s)?s:()=>s,isIndexable:Ya(a)?a:()=>a}}const Cl=(e,t)=>e?e+Ga(t):t,Sl=(e,t)=>Ea(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Al(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const a=s();return e[t]=a,a}function El(e,t,s){return Ya(e)?e(t,s):e}const Ml=(e,t)=>!0===e?t:"string"===typeof e?Wa(t,e):void 0;function Il(e,t,s,a,n){for(const l of t){const t=Ml(s,l);if(t){e.add(t);const l=El(t._fallback,s,n);if("undefined"!==typeof l&&l!==s&&l!==a)return l}else if(!1===t&&"undefined"!==typeof a&&s!==a)return null}return!1}function Pl(e,t,s,a){const n=t._rootScopes,l=El(t._fallback,s,a),r=[...e,...n],i=new Set;i.add(a);let o=Ll(i,r,s,l||s,a);return null!==o&&(("undefined"===typeof l||l===s||(o=Ll(i,r,l,o,a),null!==o))&&wl(Array.from(i),[""],n,l,()=>function(e,t,s){const a=e._getTarget();t in a||(a[t]={});const n=a[t];if(Aa(n)&&Ea(s))return s;return n||{}}(t,s,a)))}function Ll(e,t,s,a,n){for(;s;)s=Il(e,t,s,a,n);return s}function Tl(e,t){for(const s of t){if(!s)continue;const t=s[e];if("undefined"!==typeof t)return t}}function Rl(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const s of e)for(const e of Object.keys(s).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function Dl(e,t,s,a){const{iScale:n}=e,{key:l="r"}=this._parsing,r=new Array(a);let i,o,c,d;for(i=0,o=a;i<o;++i)c=i+s,d=t[c],r[i]={r:n.parse(Wa(d,l),c)};return r}const Ol=Number.EPSILON||1e-14,Fl=(e,t)=>t<e.length&&!e[t].skip&&e[t],zl=e=>"x"===e?"y":"x";function Bl(e,t,s,a){const n=e.skip?t:e,l=t,r=s.skip?t:s,i=hn(l,n),o=hn(r,l);let c=i/(i+o),d=o/(i+o);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const m=a*c,u=a*d;return{previous:{x:l.x-m*(r.x-n.x),y:l.y-m*(r.y-n.y)},next:{x:l.x+u*(r.x-n.x),y:l.y+u*(r.y-n.y)}}}function Ul(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const s=zl(t),a=e.length,n=Array(a).fill(0),l=Array(a);let r,i,o,c=Fl(e,0);for(r=0;r<a;++r)if(i=o,o=c,c=Fl(e,r+1),o){if(c){const e=c[t]-o[t];n[r]=0!==e?(c[s]-o[s])/e:0}l[r]=i?c?nn(n[r-1])!==nn(n[r])?0:(n[r-1]+n[r])/2:n[r-1]:n[r]}!function(e,t,s){const a=e.length;let n,l,r,i,o,c=Fl(e,0);for(let d=0;d<a-1;++d)o=c,c=Fl(e,d+1),o&&c&&(ln(t[d],0,Ol)?s[d]=s[d+1]=0:(n=s[d]/t[d],l=s[d+1]/t[d],i=Math.pow(n,2)+Math.pow(l,2),i<=9||(r=3/Math.sqrt(i),s[d]=n*r*t[d],s[d+1]=l*r*t[d])))}(e,n,l),function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const a=zl(s),n=e.length;let l,r,i,o=Fl(e,0);for(let c=0;c<n;++c){if(r=i,i=o,o=Fl(e,c+1),!i)continue;const n=i[s],d=i[a];r&&(l=(n-r[s])/3,i["cp1".concat(s)]=n-l,i["cp1".concat(a)]=d-l*t[c]),o&&(l=(o[s]-n)/3,i["cp2".concat(s)]=n+l,i["cp2".concat(a)]=d+l*t[c])}}(e,l,t)}function Hl(e,t,s){return Math.max(Math.min(e,s),t)}function Vl(e,t,s,a,n){let l,r,i,o;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)Ul(e,n);else{let s=a?e[e.length-1]:e[0];for(l=0,r=e.length;l<r;++l)i=e[l],o=Bl(s,i,e[Math.min(l+1,r-(a?0:1))%r],t.tension),i.cp1x=o.previous.x,i.cp1y=o.previous.y,i.cp2x=o.next.x,i.cp2y=o.next.y,s=i}t.capBezierPoints&&function(e,t){let s,a,n,l,r,i=al(e[0],t);for(s=0,a=e.length;s<a;++s)r=l,l=i,i=s<a-1&&al(e[s+1],t),l&&(n=e[s],r&&(n.cp1x=Hl(n.cp1x,t.left,t.right),n.cp1y=Hl(n.cp1y,t.top,t.bottom)),i&&(n.cp2x=Hl(n.cp2x,t.left,t.right),n.cp2y=Hl(n.cp2y,t.top,t.bottom)))}(e,s)}function Wl(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Gl(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ql(e,t,s){let a;return"string"===typeof e?(a=parseInt(e,10),-1!==e.indexOf("%")&&(a=a/100*t.parentNode[s])):a=e,a}const Yl=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const $l=["top","right","bottom","left"];function Jl(e,t,s){const a={};s=s?"-"+s:"";for(let n=0;n<4;n++){const l=$l[n];a[l]=parseFloat(e[t+"-"+l+s])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function Kl(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:a}=t,n=Yl(s),l="border-box"===n.boxSizing,r=Jl(n,"padding"),i=Jl(n,"border","width"),{x:o,y:c,box:d}=function(e,t){const s=e.touches,a=s&&s.length?s[0]:e,{offsetX:n,offsetY:l}=a;let r,i,o=!1;if(((e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot))(n,l,e.target))r=n,i=l;else{const e=t.getBoundingClientRect();r=a.clientX-e.left,i=a.clientY-e.top,o=!0}return{x:r,y:i,box:o}}(e,s),m=r.left+(d&&i.left),u=r.top+(d&&i.top);let{width:x,height:h}=t;return l&&(x-=r.width+i.width,h-=r.height+i.height),{x:Math.round((o-m)/x*s.width/a),y:Math.round((c-u)/h*s.height/a)}}const Ql=e=>Math.round(10*e)/10;function Xl(e,t,s,a){const n=Yl(e),l=Jl(n,"margin"),r=ql(n.maxWidth,e,"clientWidth")||Xa,i=ql(n.maxHeight,e,"clientHeight")||Xa,o=function(e,t,s){let a,n;if(void 0===t||void 0===s){const l=e&&Gl(e);if(l){const e=l.getBoundingClientRect(),r=Yl(l),i=Jl(r,"border","width"),o=Jl(r,"padding");t=e.width-o.width-i.width,s=e.height-o.height-i.height,a=ql(r.maxWidth,l,"clientWidth"),n=ql(r.maxHeight,l,"clientHeight")}else t=e.clientWidth,s=e.clientHeight}return{width:t,height:s,maxWidth:a||Xa,maxHeight:n||Xa}}(e,t,s);let{width:c,height:d}=o;if("content-box"===n.boxSizing){const e=Jl(n,"border","width"),t=Jl(n,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-l.width),d=Math.max(0,a?c/a:d-l.height),c=Ql(Math.min(c,r,o.maxWidth)),d=Ql(Math.min(d,i,o.maxHeight)),c&&!d&&(d=Ql(c/2));return(void 0!==t||void 0!==s)&&a&&o.height&&d>o.height&&(d=o.height,c=Ql(Math.floor(d*a))),{width:c,height:d}}function Zl(e,t,s){const a=t||1,n=Math.floor(e.height*a),l=Math.floor(e.width*a);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height="".concat(e.height,"px"),r.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==a||r.height!==n||r.width!==l)&&(e.currentDevicePixelRatio=a,r.height=n,r.width=l,e.ctx.setTransform(a,0,0,a,0,0),!0)}const er=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Wl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(cm){}return e}();function tr(e,t){const s=function(e,t){return Yl(e).getPropertyValue(t)}(e,t),a=s&&s.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function sr(e,t,s,a){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function ar(e,t,s,a){return{x:e.x+s*(t.x-e.x),y:"middle"===a?s<.5?e.y:t.y:"after"===a?s<1?e.y:t.y:s>0?t.y:e.y}}function nr(e,t,s,a){const n={x:e.cp2x,y:e.cp2y},l={x:t.cp1x,y:t.cp1y},r=sr(e,n,s),i=sr(n,l,s),o=sr(l,t,s),c=sr(r,i,s),d=sr(i,o,s);return sr(c,d,s)}function lr(e,t,s){return e?function(e,t){return{x:s=>e+e+t-s,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,s):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function rr(e,t){let s,a;"ltr"!==t&&"rtl"!==t||(s=e.canvas.style,a=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=a)}function ir(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function or(e){return"angle"===e?{between:fn,compare:pn,normalize:gn}:{between:jn,compare:(e,t)=>e-t,normalize:e=>e}}function cr(e){let{start:t,end:s,count:a,loop:n,style:l}=e;return{start:t%a,end:s%a,loop:n&&(s-t+1)%a===0,style:l}}function dr(e,t,s){if(!s)return[e];const{property:a,start:n,end:l}=s,r=t.length,{compare:i,between:o,normalize:c}=or(a),{start:d,end:m,loop:u,style:x}=function(e,t,s){const{property:a,start:n,end:l}=s,{between:r,normalize:i}=or(a),o=t.length;let c,d,{start:m,end:u,loop:x}=e;if(x){for(m+=o,u+=o,c=0,d=o;c<d&&r(i(t[m%o][a]),n,l);++c)m--,u--;m%=o,u%=o}return u<m&&(u+=o),{start:m,end:u,loop:x,style:e.style}}(e,t,s),h=[];let p,g,f,b=!1,j=null;const v=()=>b||o(n,f,p)&&0!==i(n,f),y=()=>!b||0===i(l,p)||o(l,f,p);for(let N=d,w=d;N<=m;++N)g=t[N%r],g.skip||(p=c(g[a]),p!==f&&(b=o(p,n,l),null===j&&v()&&(j=0===i(p,n)?N:w),null!==j&&y()&&(h.push(cr({start:j,end:N,loop:u,count:r,style:x})),j=null),w=N,f=p));return null!==j&&h.push(cr({start:j,end:m,loop:u,count:r,style:x})),h}function mr(e,t){const s=[],a=e.segments;for(let n=0;n<a.length;n++){const l=dr(a[n],e.points,t);l.length&&s.push(...l)}return s}function ur(e,t,s,a){return a&&a.setContext&&s?function(e,t,s,a){const n=e._chart.getContext(),l=xr(e.options),{_datasetIndex:r,options:{spanGaps:i}}=e,o=s.length,c=[];let d=l,m=t[0].start,u=m;function x(e,t,a,n){const l=i?-1:1;if(e!==t){for(e+=o;s[e%o].skip;)e-=l;for(;s[t%o].skip;)t+=l;e%o!==t%o&&(c.push({start:e%o,end:t%o,loop:a,style:n}),d=n,m=t%o)}}for(const h of t){m=i?m:h.start;let e,t=s[m%o];for(u=m+1;u<=h.end;u++){const l=s[u%o];e=xr(a.setContext(Nl(n,{type:"segment",p0:t,p1:l,p0DataIndex:(u-1)%o,p1DataIndex:u%o,datasetIndex:r}))),hr(e,d)&&x(m,u-1,h.loop,d),t=l,d=e}m<u-1&&x(m,u-1,h.loop,d)}return c}(e,t,s,a):t}function xr(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function hr(e,t){if(!t)return!1;const s=[],a=function(e,t){return Dn(t)?(s.includes(t)||s.push(t),s.indexOf(t)):t};return JSON.stringify(e,a)!==JSON.stringify(t,a)}function pr(e,t,s){return e.options.clip?e[s]:t[s]}function gr(e,t){const s=t._clip;if(s.disabled)return!1;const a=function(e,t){const{xScale:s,yScale:a}=e;return s&&a?{left:pr(s,t,"left"),right:pr(s,t,"right"),top:pr(a,t,"top"),bottom:pr(a,t,"bottom")}:t}(t,e.chartArea);return{left:!1===s.left?0:a.left-(!0===s.left?0:s.left),right:!1===s.right?e.width:a.right+(!0===s.right?0:s.right),top:!1===s.top?0:a.top-(!0===s.top?0:s.top),bottom:!1===s.bottom?e.height:a.bottom+(!0===s.bottom?0:s.bottom)}}class fr{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const n=t.listeners[a],l=t.duration;n.forEach(a=>a({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(s-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Cn.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const n=s.items;let l,r=n.length-1,i=!1;for(;r>=0;--r)l=n[r],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),i=!0):(n[r]=n[n.length-1],n.pop());i&&(a.draw(),this._notify(a,s,e,"progress")),n.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=n.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var br=new fr;const jr="transparent",vr={boolean:(e,t,s)=>s>.5?t:e,color(e,t,s){const a=On(e||jr),n=a.valid&&On(t||jr);return n&&n.valid?n.mix(a,s).hexString():t},number:(e,t,s)=>e+(t-e)*s};class yr{constructor(e,t,s,a){const n=t[s];a=yl([e.to,a,n,e.from]);const l=yl([e.from,n,a]);this._active=!0,this._fn=e.fn||vr[e.type||typeof l],this._easing=Rn[e.easing]||Rn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=l,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],n=s-this._start,l=this._duration-n;this._start=s,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=n,this._loop=!!e.loop,this._to=yl([e.to,t,a,e.from]),this._from=yl([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,n=this._from,l=this._loop,r=this._to;let i;if(this._active=n!==r&&(l||t<s),!this._active)return this._target[a]=r,void this._notify(!0);t<0?this._target[a]=n:(i=t/s%2,i=l&&i>1?2-i:i,i=this._easing(Math.min(1,Math.max(0,i))),this._target[a]=this._fn(n,r,i))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class Nr{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ea(e))return;const t=Object.keys(Kn.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const n=e[a];if(!Ea(n))return;const l={};for(const e of t)l[e]=n[e];(Aa(n.properties)&&n.properties||[a]).forEach(e=>{e!==a&&s.has(e)||s.set(e,l)})})}_animateOptions(e,t){const s=t.options,a=function(e,t){if(!t)return;let s=e.options;if(!s)return void(e.options=t);s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}}));return s}(e,s);if(!a)return[];const n=this._createAnimations(a,s);return s.$shared&&function(e,t){const s=[],a=Object.keys(t);for(let n=0;n<a.length;n++){const t=e[a[n]];t&&t.active()&&s.push(t.wait())}return Promise.all(s)}(e.options.$animations,s).then(()=>{e.options=s},()=>{}),n}_createAnimations(e,t){const s=this._properties,a=[],n=e.$animations||(e.$animations={}),l=Object.keys(t),r=Date.now();let i;for(i=l.length-1;i>=0;--i){const o=l[i];if("$"===o.charAt(0))continue;if("options"===o){a.push(...this._animateOptions(e,t));continue}const c=t[o];let d=n[o];const m=s.get(o);if(d){if(m&&d.active()){d.update(m,c,r);continue}d.cancel()}m&&m.duration?(n[o]=d=new yr(m,e,o,c),a.push(d)):e[o]=c}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const s=this._createAnimations(e,t);return s.length?(br.add(this._chart,s),!0):void 0}}function wr(e,t){const s=e&&e.options||{},a=s.reverse,n=void 0===s.min?t:0,l=void 0===s.max?t:0;return{start:a?l:n,end:a?n:l}}function kr(e,t){const s=[],a=e._getSortedDatasetMetas(t);let n,l;for(n=0,l=a.length;n<l;++n)s.push(a[n].index);return s}function _r(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=e.keys,l="single"===a.mode;let r,i,o,c;if(null===t)return;let d=!1;for(r=0,i=n.length;r<i;++r){if(o=+n[r],o===s){if(d=!0,a.all)continue;break}c=e.values[o],Ma(c)&&(l||0===t||nn(t)===nn(c))&&(t+=c)}return d||a.all?t:0}function Cr(e,t){const s=e&&e.options.stacked;return s||void 0===s&&void 0!==t.stack}function Sr(e,t,s){const a=e[t]||(e[t]={});return a[s]||(a[s]={})}function Ar(e,t,s,a){for(const n of t.getMatchingVisibleMetas(a).reverse()){const t=e[n.index];if(s&&t>0||!s&&t<0)return n.index}return null}function Er(e,t){const{chart:s,_cachedMeta:a}=e,n=s._stacks||(s._stacks={}),{iScale:l,vScale:r,index:i}=a,o=l.axis,c=r.axis,d=function(e,t,s){return"".concat(e.id,".").concat(t.id,".").concat(s.stack||s.type)}(l,r,a),m=t.length;let u;for(let x=0;x<m;++x){const e=t[x],{[o]:s,[c]:l}=e;u=(e._stacks||(e._stacks={}))[c]=Sr(n,d,s),u[i]=l,u._top=Ar(u,r,!0,a.type),u._bottom=Ar(u,r,!1,a.type);(u._visualValues||(u._visualValues={}))[i]=l}}function Mr(e,t){const s=e.scales;return Object.keys(s).filter(e=>s[e].axis===t).shift()}function Ir(e,t){const s=e.controller.index,a=e.vScale&&e.vScale.axis;if(a){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[a]||void 0===t[a][s])return;delete t[a][s],void 0!==t[a]._visualValues&&void 0!==t[a]._visualValues[s]&&delete t[a]._visualValues[s]}}}const Pr=e=>"reset"===e||"none"===e,Lr=(e,t)=>t?e:Object.assign({},e);class Tr{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Cr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ir(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(e,t,s,a)=>"x"===e?t:"r"===e?a:s,n=t.xAxisID=Pa(s.xAxisID,Mr(e,"x")),l=t.yAxisID=Pa(s.yAxisID,Mr(e,"y")),r=t.rAxisID=Pa(s.rAxisID,Mr(e,"r")),i=t.indexAxis,o=t.iAxisID=a(i,n,l,r),c=t.vAxisID=a(i,l,n,r);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(o),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kn(this._data,this),e._stacked&&Ir(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Ea(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:s,vScale:a}=t,n="x"===s.axis?"x":"y",l="x"===a.axis?"x":"y",r=Object.keys(e),i=new Array(r.length);let o,c,d;for(o=0,c=r.length;o<c;++o)d=r[o],i[o]={[n]:d,[l]:e[d]};return i}(t,e)}else if(s!==t){if(s){kn(s,this);const e=this._cachedMeta;Ir(e),e._parsed=[]}t&&Object.isExtensible(t)&&(n=this,(a=t)._chartjs?a._chartjs.listeners.push(n):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),wn.forEach(e=>{const t="_onData"+Ga(e),s=a[e];Object.defineProperty(a,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,n=new Array(e),l=0;l<e;l++)n[l]=arguments[l];const r=s.apply(this,n);return a._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...n)}),r}})}))),this._syncList=[],this._data=t}var a,n}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const n=t._stacked;t._stacked=Cr(t.vScale,t),t.stack!==s.stack&&(a=!0,Ir(t),t.stack=s.stack),this._resyncElements(e),(a||n!==t._stacked)&&(Er(this,t._parsed),t._stacked=Cr(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:n,_stacked:l}=s,r=n.axis;let i,o,c,d=0===e&&t===a.length||s._sorted,m=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=a,s._sorted=!0,c=a;else{c=Aa(a[e])?this.parseArrayData(s,a,e,t):Ea(a[e])?this.parseObjectData(s,a,e,t):this.parsePrimitiveData(s,a,e,t);const n=()=>null===o[r]||m&&o[r]<m[r];for(i=0;i<t;++i)s._parsed[i+e]=o=c[i],d&&(n()&&(d=!1),m=o);s._sorted=d}l&&Er(this,c)}parsePrimitiveData(e,t,s,a){const{iScale:n,vScale:l}=e,r=n.axis,i=l.axis,o=n.getLabels(),c=n===l,d=new Array(a);let m,u,x;for(m=0,u=a;m<u;++m)x=m+s,d[m]={[r]:c||n.parse(o[x],x),[i]:l.parse(t[x],x)};return d}parseArrayData(e,t,s,a){const{xScale:n,yScale:l}=e,r=new Array(a);let i,o,c,d;for(i=0,o=a;i<o;++i)c=i+s,d=t[c],r[i]={x:n.parse(d[0],c),y:l.parse(d[1],c)};return r}parseObjectData(e,t,s,a){const{xScale:n,yScale:l}=e,{xAxisKey:r="x",yAxisKey:i="y"}=this._parsing,o=new Array(a);let c,d,m,u;for(c=0,d=a;c<d;++c)m=c+s,u=t[m],o[c]={x:n.parse(Wa(u,r),m),y:l.parse(Wa(u,i),m)};return o}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,n=this._cachedMeta,l=t[e.axis];return _r({keys:kr(a,!0),values:t._stacks[e.axis]._visualValues},l,n.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const n=s[t.axis];let l=null===n?NaN:n;const r=a&&s._stacks[t.axis];a&&r&&(a.values=r,l=_r(a,n,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,n=s._sorted&&e===s.iScale,l=a.length,r=this._getOtherScale(e),i=((e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:kr(s,!0),values:null})(t,s,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:s,minDefined:a,maxDefined:n}=e.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}(r);let m,u;function x(){u=a[m];const t=u[r.axis];return!Ma(u[e.axis])||c>t||d<t}for(m=0;m<l&&(x()||(this.updateRangeFromParsed(o,e,u,i),!n));++m);if(n)for(m=l-1;m>=0;--m)if(!x()){this.updateRangeFromParsed(o,e,u,i);break}return o}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,n,l;for(a=0,n=t.length;a<n;++a)l=t[a][e.axis],Ma(l)&&s.push(l);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,n=this.getParsed(e);return{label:s?""+s.getLabelForValue(n[s.axis]):"",value:a?""+a.getLabelForValue(n[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,s,a,n;return Ea(e)?(t=e.top,s=e.right,a=e.bottom,n=e.left):t=s=a=n=e,{top:t,right:s,bottom:a,left:n,disabled:!1===e}}(Pa(this.options.clip,function(e,t,s){if(!1===s)return!1;const a=wr(e,s),n=wr(t,s);return{top:n.end,right:a.end,bottom:n.start,left:a.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],n=t.chartArea,l=[],r=this._drawStart||0,i=this._drawCount||a.length-r,o=this.options.drawActiveElementsOnTop;let c;for(s.dataset&&s.dataset.draw(e,n,r,i),c=r;c<r+i;++c){const t=a[c];t.hidden||(t.active&&o?l.push(t):t.draw(e,n))}for(c=0;c<l.length;++c)l[c].draw(e,n)}getStyle(e,t){const s=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let n;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];n=t.$context||(t.$context=function(e,t,s){return Nl(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),n.parsed=this.getParsed(e),n.raw=a.data[e],n.index=n.dataIndex=e}else n=this.$context||(this.$context=function(e,t){return Nl(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=a,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=s,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0;const a="active"===t,n=this._cachedDataOpts,l=e+"-"+t,r=n[l],i=this.enableOptionSharing&&qa(s);if(r)return Lr(r,i);const o=this.chart.config,c=o.datasetElementScopeKeys(this._type,e),d=a?["".concat(e,"Hover"),"hover",e,""]:[e,""],m=o.getOptionScopes(this.getDataset(),c),u=Object.keys(Kn.elements[e]),x=o.resolveNamedOptions(m,u,()=>this.getContext(s,a,t),d);return x.$shared&&(x.$shared=i,n[l]=Object.freeze(Lr(x,i))),x}_resolveAnimations(e,t,s){const a=this.chart,n=this._cachedDataOpts,l="animation-".concat(t),r=n[l];if(r)return r;let i;if(!1!==a.options.animation){const a=this.chart.config,n=a.datasetAnimationScopeKeys(this._type,t),l=a.getOptionScopes(this.getDataset(),n);i=a.createResolver(l,this.getContext(e,s,t))}const o=new Nr(a,i&&i.animations);return i&&i._cacheable&&(n[l]=Object.freeze(o)),o}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Pr(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,n=this.getSharedOptions(s),l=this.includeOptions(t,n)||n!==a;return this.updateSharedOptions(n,t,s),{sharedOptions:n,includeOptions:l}}updateElement(e,t,s,a){Pr(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!Pr(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const n=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(n)||n})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[r,i,o]of this._syncList)this[r](i,o);this._syncList=[];const a=s.length,n=t.length,l=Math.min(n,a);l&&this.parse(0,l),n>a?this._insertElements(a,n-a,e):n<a&&this._removeElements(n,a-n)}_insertElements(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this._cachedMeta,n=a.data,l=e+t;let r;const i=e=>{for(e.length+=t,r=e.length-1;r>=l;r--)e[r]=e[r-t]};for(i(n),r=e;r<l;++r)n[r]=new this.dataElementType;this._parsing&&i(a._parsed),this.parse(e,t),s&&this.updateElements(n,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&Ir(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Rr(e){const t=e.iScale,s=function(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let a=[];for(let t=0,n=s.length;t<n;t++)a=a.concat(s[t].controller.getAllParsedValues(e));e._cache.$bar=_n(a.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let a,n,l,r,i=t._length;const o=()=>{32767!==l&&-32768!==l&&(qa(r)&&(i=Math.min(i,Math.abs(l-r)||i)),r=l)};for(a=0,n=s.length;a<n;++a)l=t.getPixelForValue(s[a]),o();for(r=void 0,a=0,n=t.ticks.length;a<n;++a)l=t.getPixelForTick(a),o();return i}function Dr(e,t,s,a){return Aa(e)?function(e,t,s,a){const n=s.parse(e[0],a),l=s.parse(e[1],a),r=Math.min(n,l),i=Math.max(n,l);let o=r,c=i;Math.abs(r)>Math.abs(i)&&(o=i,c=r),t[s.axis]=c,t._custom={barStart:o,barEnd:c,start:n,end:l,min:r,max:i}}(e,t,s,a):t[s.axis]=s.parse(e,a),t}function Or(e,t,s,a){const n=e.iScale,l=e.vScale,r=n.getLabels(),i=n===l,o=[];let c,d,m,u;for(c=s,d=s+a;c<d;++c)u=t[c],m={},m[n.axis]=i||n.parse(r[c],c),o.push(Dr(u,m,l,c));return o}function Fr(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function zr(e,t,s,a){let n=t.borderSkipped;const l={};if(!n)return void(e.borderSkipped=l);if(!0===n)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:i,reverse:o,top:c,bottom:d}=function(e){let t,s,a,n,l;return e.horizontal?(t=e.base>e.x,s="left",a="right"):(t=e.base<e.y,s="bottom",a="top"),t?(n="end",l="start"):(n="start",l="end"),{start:s,end:a,reverse:t,top:n,bottom:l}}(e);"middle"===n&&s&&(e.enableBorderRadius=!0,(s._top||0)===a?n=c:(s._bottom||0)===a?n=d:(l[Br(d,r,i,o)]=!0,n=c)),l[Br(n,r,i,o)]=!0,e.borderSkipped=l}function Br(e,t,s,a){var n,l,r;return a?(r=s,e=Ur(e=(n=e)===(l=t)?r:n===r?l:n,s,t)):e=Ur(e,t,s),e}function Ur(e,t,s){return"start"===e?t:"end"===e?s:e}function Hr(e,t,s){let{inflateAmount:a}=t;e.inflateAmount="auto"===a?1===s?.33:0:a}ze(Tr,"defaults",{}),ze(Tr,"datasetElementType",null),ze(Tr,"dataElementType",null);class Vr extends Tr{parsePrimitiveData(e,t,s,a){return Or(e,t,s,a)}parseArrayData(e,t,s,a){return Or(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:n,vScale:l}=e,{xAxisKey:r="x",yAxisKey:i="y"}=this._parsing,o="x"===n.axis?r:i,c="x"===l.axis?r:i,d=[];let m,u,x,h;for(m=s,u=s+a;m<u;++m)h=t[m],x={},x[n.axis]=n.parse(Wa(h,o),m),d.push(Dr(Wa(h,c),x,l,m));return d}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const n=s._custom;n&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,n=this.getParsed(e),l=n._custom,r=Fr(l)?"["+l.start+", "+l.end+"]":""+a.getLabelForValue(n[a.axis]);return{label:""+s.getLabelForValue(n[s.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const n="reset"===a,{index:l,_cachedMeta:{vScale:r}}=this,i=r.getBasePixel(),o=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:m}=this._getSharedOptions(t,a);for(let u=t;u<t+s;u++){const t=this.getParsed(u),s=n||Sa(t[r.axis])?{base:i,head:i}:this._calculateBarValuePixels(u),x=this._calculateBarIndexPixels(u,c),h=(t._stacks||{})[r.axis],p={horizontal:o,base:s.base,enableBorderRadius:!h||Fr(t._custom)||l===h._top||l===h._bottom,x:o?s.head:x.center,y:o?x.center:s.head,height:o?x.size:Math.abs(s.size),width:o?Math.abs(s.size):x.size};m&&(p.options=d||this.resolveDataElementOptions(u,e[u].active?"active":a));const g=p.options||e[u].options;zr(p,g,h,l),Hr(p,g,c.ratio),this.updateElement(e[u],u,p,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),n=s.options.stacked,l=[],r=this._cachedMeta.controller.getParsed(t),i=r&&r[s.axis],o=e=>{const t=e._parsed.find(e=>e[s.axis]===i),a=t&&t[e.vScale.axis];if(Sa(a)||isNaN(a))return!0};for(const c of a)if((void 0===t||!o(c))&&((!1===n||-1===l.indexOf(c.stack)||void 0===n&&void 0===c.stack)&&l.push(c.stack),c.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Pa("x"===this.chart.options.indexAxis?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),n=void 0!==t?a.indexOf(t):-1;return-1===n?a.length-1:n}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let n,l;for(n=0,l=t.data.length;n<l;++n)a.push(s.getPixelForValue(this.getParsed(n)[s.axis],n));const r=e.barThickness;return{min:r||Rr(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:n,minBarLength:l}}=this,r=n||0,i=this.getParsed(e),o=i._custom,c=Fr(o);let d,m,u=i[t.axis],x=0,h=s?this.applyStack(t,i,s):u;h!==u&&(x=h-u,h=u),c&&(u=o.barStart,h=o.barEnd-o.barStart,0!==u&&nn(u)!==nn(o.barEnd)&&(x=0),x+=u);const p=Sa(n)||c?x:n;let g=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(x+h):g,m=d-g,Math.abs(m)<l){m=function(e,t,s){return 0!==e?nn(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}(m,t,r)*l,u===r&&(g-=m/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),o=Math.min(e,n),x=Math.max(e,n);g=Math.max(Math.min(g,x),o),d=g+m,s&&!c&&(i._stacks[t.axis]._visualValues[a]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(r)){const e=nn(m)*t.getLineWidthForValue(r)/2;g+=e,m-=e}return{size:m,base:g,head:d,center:d+m/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,n=a.skipNull,l=Pa(a.maxBarThickness,1/0);let r,i;const o=this._getAxisCount();if(t.grouped){const s=n?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,s,a){const n=t.pixels,l=n[e];let r=e>0?n[e-1]:null,i=e<n.length-1?n[e+1]:null;const o=s.categoryPercentage;null===r&&(r=l-(null===i?t.end-t.start:i-l)),null===i&&(i=l+l-r);const c=l-(l-Math.min(r,i))/2*o;return{chunk:Math.abs(i-r)/2*o/a,ratio:s.barPercentage,start:c}}(e,t,a,s*o):function(e,t,s,a){const n=s.barThickness;let l,r;return Sa(n)?(l=t.min*s.categoryPercentage,r=s.barPercentage):(l=n*a,r=1),{chunk:l/a,ratio:r,start:t.pixels[e]-l/2}}(e,t,a,s*o),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,m=this._getAxis().indexOf(Pa(d,this.getFirstScaleIdForIndexAxis())),u=this._getStackIndex(this.index,this._cachedMeta.stack,n?e:void 0)+m;r=c.start+c.chunk*u+c.chunk/2,i=Math.min(l,c.chunk*c.ratio)}else r=s.getPixelForValue(this.getParsed(e)[s.axis],e),i=Math.min(l,t.min*t.ratio);return{base:r-i/2,head:r+i/2,center:r,size:i}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let n=0;for(;n<a;++n)null===this.getParsed(n)[t.axis]||s[n].hidden||s[n].draw(this._ctx)}}ze(Vr,"id","bar"),ze(Vr,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ze(Vr,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Wr extends Tr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,s,a){const n=super.parsePrimitiveData(e,t,s,a);for(let l=0;l<n.length;l++)n[l]._custom=this.resolveDataElementOptions(l+s).radius;return n}parseArrayData(e,t,s,a){const n=super.parseArrayData(e,t,s,a);for(let l=0;l<n.length;l++){const e=t[s+l];n[l]._custom=Pa(e[2],this.resolveDataElementOptions(l+s).radius)}return n}parseObjectData(e,t,s,a){const n=super.parseObjectData(e,t,s,a);for(let l=0;l<n.length;l++){const e=t[s+l];n[l]._custom=Pa(e&&e.r&&+e.r,this.resolveDataElementOptions(l+s).radius)}return n}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let s=e.length-1;s>=0;--s)t=Math.max(t,e[s].size(this.resolveDataElementOptions(s))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:n}=t,l=this.getParsed(e),r=a.getLabelForValue(l.x),i=n.getLabelForValue(l.y),o=l._custom;return{label:s[e]||"",value:"("+r+", "+i+(o?", "+o:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,s,a){const n="reset"===a,{iScale:l,vScale:r}=this._cachedMeta,{sharedOptions:i,includeOptions:o}=this._getSharedOptions(t,a),c=l.axis,d=r.axis;for(let m=t;m<t+s;m++){const t=e[m],s=!n&&this.getParsed(m),u={},x=u[c]=n?l.getPixelForDecimal(.5):l.getPixelForValue(s[c]),h=u[d]=n?r.getBasePixel():r.getPixelForValue(s[d]);u.skip=isNaN(x)||isNaN(h),o&&(u.options=i||this.resolveDataElementOptions(m,t.active?"active":a),n&&(u.options.radius=0)),this.updateElement(t,m,u,a)}}resolveDataElementOptions(e,t){const s=this.getParsed(e);let a=super.resolveDataElementOptions(e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const n=a.radius;return"active"!==t&&(a.radius=0),a.radius+=Pa(s&&s._custom,n),a}}ze(Wr,"id","bubble"),ze(Wr,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ze(Wr,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Gr extends Tr{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=s;else{let n,l,r=e=>+s[e];if(Ea(s[e])){const{key:e="value"}=this._parsing;r=t=>+Wa(s[t],e)}for(n=e,l=e+t;n<l;++n)a._parsed[n]=r(n)}}_getRotation(){return dn(this.options.rotation-90)}_getCircumference(){return dn(this.options.circumference)}_getRotationExtents(){let e=Ka,t=-Ka;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,n=a._getRotation(),l=a._getCircumference();e=Math.min(e,n),t=Math.max(t,n+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,n=a.data,l=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,r=Math.max((Math.min(s.width,s.height)-l)/2,0),i=Math.min((o=this.options.cutout,c=r,"string"===typeof o&&o.endsWith("%")?parseFloat(o)/100:+o/c),1);var o,c;const d=this._getRingWeight(this.index),{circumference:m,rotation:u}=this._getRotationExtents(),{ratioX:x,ratioY:h,offsetX:p,offsetY:g}=function(e,t,s){let a=1,n=1,l=0,r=0;if(t<Ka){const i=e,o=i+t,c=Math.cos(i),d=Math.sin(i),m=Math.cos(o),u=Math.sin(o),x=(e,t,a)=>fn(e,i,o,!0)?1:Math.max(t,t*s,a,a*s),h=(e,t,a)=>fn(e,i,o,!0)?-1:Math.min(t,t*s,a,a*s),p=x(0,c,m),g=x(en,d,u),f=h(Ja,c,m),b=h(Ja+en,d,u);a=(p-f)/2,n=(g-b)/2,l=-(p+f)/2,r=-(g+b)/2}return{ratioX:a,ratioY:n,offsetX:l,offsetY:r}}(u,m,i),f=(s.width-l)/x,b=(s.height-l)/h,j=Math.max(Math.min(f,b)/2,0),v=La(this.options.radius,j),y=(v-Math.max(v*i,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*v,this.offsetY=g*v,a.total=this.calculateTotal(),this.outerRadius=v-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*d,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,n=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*n/Ka)}updateElements(e,t,s,a){const n="reset"===a,l=this.chart,r=l.chartArea,i=l.options.animation,o=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=n&&i.animateScale,m=d?0:this.innerRadius,u=d?0:this.outerRadius,{sharedOptions:x,includeOptions:h}=this._getSharedOptions(t,a);let p,g=this._getRotation();for(p=0;p<t;++p)g+=this._circumference(p,n);for(p=t;p<t+s;++p){const t=this._circumference(p,n),s=e[p],l={x:o+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:u,innerRadius:m};h&&(l.options=x||this.resolveDataElementOptions(p,s.active?"active":a)),g+=t,this.updateElement(s,p,l,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s,a=0;for(s=0;s<t.length;s++){const n=e._parsed[s];null===n||isNaN(n)||!this.chart.getDataVisibility(s)||t[s].hidden||(a+=Math.abs(n))}return a}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ka*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],n=Hn(t._parsed[e],s.options.locale);return{label:a[e]||"",value:n}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,n,l,r,i;if(!e)for(a=0,n=s.data.datasets.length;a<n;++a)if(s.isDatasetVisible(a)){l=s.getDatasetMeta(a),e=l.data,r=l.controller;break}if(!e)return 0;for(a=0,n=e.length;a<n;++a)i=r.resolveDataElementOptions(a),"inner"!==i.borderAlign&&(t=Math.max(t,i.borderWidth||0,i.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const e=this.resolveDataElementOptions(s);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Pa(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ze(Gr,"id","doughnut"),ze(Gr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ze(Gr,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ze(Gr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((t,n)=>{const l=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}});class qr extends Tr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:n}=t,l=this.chart._animationsDisabled;let{start:r,count:i}=Mn(t,a,l);this._drawStart=r,this._drawCount=i,In(t)&&(r=0,i=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!n._decimated,s.points=a;const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),o.segment=this.options.segment,this.updateElement(s,void 0,{animated:!l,options:o},e),this.updateElements(a,r,i,e)}updateElements(e,t,s,a){const n="reset"===a,{iScale:l,vScale:r,_stacked:i,_dataset:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,a),m=l.axis,u=r.axis,{spanGaps:x,segment:h}=this.options,p=on(x)?x:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||n||"none"===a,f=t+s,b=e.length;let j=t>0&&this.getParsed(t-1);for(let v=0;v<b;++v){const s=e[v],x=g?s:{};if(v<t||v>=f){x.skip=!0;continue}const b=this.getParsed(v),y=Sa(b[u]),N=x[m]=l.getPixelForValue(b[m],v),w=x[u]=n||y?r.getBasePixel():r.getPixelForValue(i?this.applyStack(r,b,i):b[u],v);x.skip=isNaN(N)||isNaN(w)||y,x.stop=v>0&&Math.abs(b[m]-j[m])>p,h&&(x.parsed=b,x.raw=o.data[v]),d&&(x.options=c||this.resolveDataElementOptions(v,s.active?"active":a)),g||this.updateElement(s,v,x,a),j=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const n=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,n,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ze(qr,"id","line"),ze(qr,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ze(qr,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Yr extends Tr{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],n=Hn(t._parsed[e].r,s.options.locale);return{label:a[e]||"",value:n}}parseObjectData(e,t,s,a){return Dl.bind(this)(e,t,s,a)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,s)=>{const a=this.getParsed(s).r;!isNaN(a)&&this.chart.getDataVisibility(s)&&(a<t.min&&(t.min=a),a>t.max&&(t.max=a))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,s=e.options,a=Math.min(t.right-t.left,t.bottom-t.top),n=Math.max(a/2,0),l=(n-Math.max(s.cutoutPercentage?n/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=n-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,s,a){const n="reset"===a,l=this.chart,r=l.options.animation,i=this._cachedMeta.rScale,o=i.xCenter,c=i.yCenter,d=i.getIndexAngle(0)-.5*Ja;let m,u=d;const x=360/this.countVisibleElements();for(m=0;m<t;++m)u+=this._computeAngle(m,a,x);for(m=t;m<t+s;m++){const t=e[m];let s=u,h=u+this._computeAngle(m,a,x),p=l.getDataVisibility(m)?i.getDistanceFromCenterForValue(this.getParsed(m).r):0;u=h,n&&(r.animateScale&&(p=0),r.animateRotate&&(s=h=d));const g={x:o,y:c,innerRadius:0,outerRadius:p,startAngle:s,endAngle:h,options:this.resolveDataElementOptions(m,t.active?"active":a)};this.updateElement(t,m,g,a)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&t++}),t}_computeAngle(e,t,s){return this.chart.getDataVisibility(e)?dn(this.resolveDataElementOptions(e,t).angle||s):0}}ze(Yr,"id","polarArea"),ze(Yr,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ze(Yr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return t.labels.map((t,n)=>{const l=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:a,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(n),index:n}})}return[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class $r extends Gr{}ze($r,"id","pie"),ze($r,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Jr extends Tr{getLabelAndValue(e){const t=this._cachedMeta.vScale,s=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(s[t.axis])}}parseObjectData(e,t,s,a){return Dl.bind(this)(e,t,s,a)}update(e){const t=this._cachedMeta,s=t.dataset,a=t.data||[],n=t.iScale.getLabels();if(s.points=a,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const l={_loop:!0,_fullLoop:n.length===a.length,options:t};this.updateElement(s,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,t,s,a){const n=this._cachedMeta.rScale,l="reset"===a;for(let r=t;r<t+s;r++){const t=e[r],s=this.resolveDataElementOptions(r,t.active?"active":a),i=n.getPointPositionForValue(r,this.getParsed(r).r),o=l?n.xCenter:i.x,c=l?n.yCenter:i.y,d={x:o,y:c,angle:i.angle,skip:isNaN(o)||isNaN(c),options:s};this.updateElement(t,r,d,a)}}}ze(Jr,"id","radar"),ze(Jr,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ze(Jr,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Kr extends Tr{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:a,yScale:n}=t,l=this.getParsed(e),r=a.getLabelForValue(l.x),i=n.getLabelForValue(l.y);return{label:s[e]||"",value:"("+r+", "+i+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,a=this.chart._animationsDisabled;let{start:n,count:l}=Mn(t,s,a);if(this._drawStart=n,this._drawCount=l,In(t)&&(n=0,l=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:n,_dataset:l}=t;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!l._decimated,n.points=s;const r=this.resolveDatasetElementOptions(e);r.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:r},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,n,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,a){const n="reset"===a,{iScale:l,vScale:r,_stacked:i,_dataset:o}=this._cachedMeta,c=this.resolveDataElementOptions(t,a),d=this.getSharedOptions(c),m=this.includeOptions(a,d),u=l.axis,x=r.axis,{spanGaps:h,segment:p}=this.options,g=on(h)?h:Number.POSITIVE_INFINITY,f=this.chart._animationsDisabled||n||"none"===a;let b=t>0&&this.getParsed(t-1);for(let j=t;j<t+s;++j){const t=e[j],s=this.getParsed(j),c=f?t:{},h=Sa(s[x]),v=c[u]=l.getPixelForValue(s[u],j),y=c[x]=n||h?r.getBasePixel():r.getPixelForValue(i?this.applyStack(r,s,i):s[x],j);c.skip=isNaN(v)||isNaN(y)||h,c.stop=j>0&&Math.abs(s[u]-b[u])>g,p&&(c.parsed=s,c.raw=o.data[j]),m&&(c.options=d||this.resolveDataElementOptions(j,t.active?"active":a)),f||this.updateElement(t,j,c,a),b=s}this.updateSharedOptions(d,a,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let s=t.length-1;s>=0;--s)e=Math.max(e,t[s].size(this.resolveDataElementOptions(s))/2);return e>0&&e}const s=e.dataset,a=s.options&&s.options.borderWidth||0;if(!t.length)return a;const n=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,n,l)/2}}ze(Kr,"id","scatter"),ze(Kr,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ze(Kr,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function Qr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xr{static override(e){Object.assign(Xr.prototype,e)}constructor(e){ze(this,"options",void 0),this.options=e||{}}init(){}formats(){return Qr()}parse(){return Qr()}format(){return Qr()}add(){return Qr()}diff(){return Qr()}startOf(){return Qr()}endOf(){return Qr()}}var Zr=Xr;function ei(e,t,s,a){const{controller:n,data:l,_sorted:r}=e,i=n._cachedMeta.iScale,o=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(i&&t===i.axis&&"r"!==t&&r&&l.length){const r=i._reversePixels?Nn:yn;if(!a){const a=r(l,t,s);if(o){const{vScale:t}=n._cachedMeta,{_parsed:s}=e,l=s.slice(0,a.lo+1).reverse().findIndex(e=>!Sa(e[t.axis]));a.lo-=Math.max(0,l);const r=s.slice(a.hi).findIndex(e=>!Sa(e[t.axis]));a.hi+=Math.max(0,r)}return a}if(n._sharedOptions){const e=l[0],a="function"===typeof e.getRange&&e.getRange(t);if(a){const e=r(l,t,s-a),n=r(l,t,s+a);return{lo:e.lo,hi:n.hi}}}}return{lo:0,hi:l.length-1}}function ti(e,t,s,a,n){const l=e.getSortedVisibleDatasetMetas(),r=s[t];for(let i=0,o=l.length;i<o;++i){const{index:e,data:s}=l[i],{lo:o,hi:c}=ei(l[i],t,r,n);for(let t=o;t<=c;++t){const n=s[t];n.skip||a(n,e,t)}}}function si(e,t,s,a,n){const l=[];if(!n&&!e.isPointInArea(t))return l;return ti(e,s,t,function(s,r,i){(n||al(s,e.chartArea,0))&&s.inRange(t.x,t.y,a)&&l.push({element:s,datasetIndex:r,index:i})},!0),l}function ai(e,t,s,a,n,l){let r=[];const i=function(e){const t=-1!==e.indexOf("x"),s=-1!==e.indexOf("y");return function(e,a){const n=t?Math.abs(e.x-a.x):0,l=s?Math.abs(e.y-a.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(l,2))}}(s);let o=Number.POSITIVE_INFINITY;return ti(e,s,t,function(s,c,d){const m=s.inRange(t.x,t.y,n);if(a&&!m)return;const u=s.getCenterPoint(n);if(!(!!l||e.isPointInArea(u))&&!m)return;const x=i(t,u);x<o?(r=[{element:s,datasetIndex:c,index:d}],o=x):x===o&&r.push({element:s,datasetIndex:c,index:d})}),r}function ni(e,t,s,a,n,l){return l||e.isPointInArea(t)?"r"!==s||a?ai(e,t,s,a,n,l):function(e,t,s,a){let n=[];return ti(e,s,t,function(e,s,l){const{startAngle:r,endAngle:i}=e.getProps(["startAngle","endAngle"],a),{angle:o}=xn(e,{x:t.x,y:t.y});fn(o,r,i)&&n.push({element:e,datasetIndex:s,index:l})}),n}(e,t,s,n):[]}function li(e,t,s,a,n){const l=[],r="x"===s?"inXRange":"inYRange";let i=!1;return ti(e,s,t,(e,a,o)=>{e[r]&&e[r](t[s],n)&&(l.push({element:e,datasetIndex:a,index:o}),i=i||e.inRange(t.x,t.y,n))}),a&&!i?[]:l}var ri={evaluateInteractionItems:ti,modes:{index(e,t,s,a){const n=Kl(t,e),l=s.axis||"x",r=s.includeInvisible||!1,i=s.intersect?si(e,n,l,a,r):ni(e,n,l,!1,a,r),o=[];return i.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=i[0].index,s=e.data[t];s&&!s.skip&&o.push({element:s,datasetIndex:e.index,index:t})}),o):[]},dataset(e,t,s,a){const n=Kl(t,e),l=s.axis||"xy",r=s.includeInvisible||!1;let i=s.intersect?si(e,n,l,a,r):ni(e,n,l,!1,a,r);if(i.length>0){const t=i[0].datasetIndex,s=e.getDatasetMeta(t).data;i=[];for(let e=0;e<s.length;++e)i.push({element:s[e],datasetIndex:t,index:e})}return i},point:(e,t,s,a)=>si(e,Kl(t,e),s.axis||"xy",a,s.includeInvisible||!1),nearest(e,t,s,a){const n=Kl(t,e),l=s.axis||"xy",r=s.includeInvisible||!1;return ni(e,n,l,s.intersect,a,r)},x:(e,t,s,a)=>li(e,Kl(t,e),"x",s.intersect,a),y:(e,t,s,a)=>li(e,Kl(t,e),"y",s.intersect,a)}};const ii=["left","top","right","bottom"];function oi(e,t){return e.filter(e=>e.pos===t)}function ci(e,t){return e.filter(e=>-1===ii.indexOf(e.pos)&&e.box.axis===t)}function di(e,t){return e.sort((e,s)=>{const a=t?s:e,n=t?e:s;return a.weight===n.weight?a.index-n.index:a.weight-n.weight})}function mi(e,t){const s=function(e){const t={};for(const s of e){const{stack:e,pos:a,stackWeight:n}=s;if(!e||!ii.includes(a))continue;const l=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=n}return t}(e),{vBoxMaxWidth:a,hBoxMaxHeight:n}=t;let l,r,i;for(l=0,r=e.length;l<r;++l){i=e[l];const{fullSize:r}=i.box,o=s[i.stack],c=o&&i.stackWeight/o.weight;i.horizontal?(i.width=c?c*a:r&&t.availableWidth,i.height=n):(i.width=a,i.height=c?c*n:r&&t.availableHeight)}return s}function ui(e,t,s,a){return Math.max(e[s],t[s])+Math.max(e[a],t[a])}function xi(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function hi(e,t,s,a){const{pos:n,box:l}=s,r=e.maxPadding;if(!Ea(n)){s.size&&(e[n]-=s.size);const t=a[s.stack]||{size:0,count:1};t.size=Math.max(t.size,s.horizontal?l.height:l.width),s.size=t.size/t.count,e[n]+=s.size}l.getPadding&&xi(r,l.getPadding());const i=Math.max(0,t.outerWidth-ui(r,e,"left","right")),o=Math.max(0,t.outerHeight-ui(r,e,"top","bottom")),c=i!==e.w,d=o!==e.h;return e.w=i,e.h=o,s.horizontal?{same:c,other:d}:{same:d,other:c}}function pi(e,t){const s=t.maxPadding;function a(e){const a={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{a[e]=Math.max(t[e],s[e])}),a}return a(e?["left","right"]:["top","bottom"])}function gi(e,t,s,a){const n=[];let l,r,i,o,c,d;for(l=0,r=e.length,c=0;l<r;++l){i=e[l],o=i.box,o.update(i.width||t.w,i.height||t.h,pi(i.horizontal,t));const{same:r,other:m}=hi(t,s,i,a);c|=r&&n.length,d=d||m,o.fullSize||n.push(i)}return c&&gi(n,t,s,a)||d}function fi(e,t,s,a,n){e.top=s,e.left=t,e.right=t+a,e.bottom=s+n,e.width=a,e.height=n}function bi(e,t,s,a){const n=s.padding;let{x:l,y:r}=t;for(const i of e){const e=i.box,o=a[i.stack]||{count:1,placed:0,weight:1},c=i.stackWeight/o.weight||1;if(i.horizontal){const a=t.w*c,l=o.size||e.height;qa(o.start)&&(r=o.start),e.fullSize?fi(e,n.left,r,s.outerWidth-n.right-n.left,l):fi(e,t.left+o.placed,r,a,l),o.start=r,o.placed+=a,r=e.bottom}else{const a=t.h*c,r=o.size||e.width;qa(o.start)&&(l=o.start),e.fullSize?fi(e,l,n.top,r,s.outerHeight-n.bottom-n.top):fi(e,l,t.top+o.placed,r,a),o.start=l,o.placed+=a,l=e.right}}t.x=l,t.y=r}var ji={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;-1!==s&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,a){if(!e)return;const n=jl(e.options.layout.padding),l=Math.max(t-n.width,0),r=Math.max(s-n.height,0),i=function(e){const t=function(e){const t=[];let s,a,n,l,r,i;for(s=0,a=(e||[]).length;s<a;++s)n=e[s],({position:l,options:{stack:r,stackWeight:i=1}}=n),t.push({index:s,box:n,pos:l,horizontal:n.isHorizontal(),weight:n.weight,stack:r&&l+r,stackWeight:i});return t}(e),s=di(t.filter(e=>e.box.fullSize),!0),a=di(oi(t,"left"),!0),n=di(oi(t,"right")),l=di(oi(t,"top"),!0),r=di(oi(t,"bottom")),i=ci(t,"x"),o=ci(t,"y");return{fullSize:s,leftAndTop:a.concat(l),rightAndBottom:n.concat(o).concat(r).concat(i),chartArea:oi(t,"chartArea"),vertical:a.concat(n).concat(o),horizontal:l.concat(r).concat(i)}}(e.boxes),o=i.vertical,c=i.horizontal;Ra(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=o.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,m=Object.freeze({outerWidth:t,outerHeight:s,padding:n,availableWidth:l,availableHeight:r,vBoxMaxWidth:l/2/d,hBoxMaxHeight:r/2}),u=Object.assign({},n);xi(u,jl(a));const x=Object.assign({maxPadding:u,w:l,h:r,x:n.left,y:n.top},n),h=mi(o.concat(c),m);gi(i.fullSize,x,m,h),gi(o,x,m,h),gi(c,x,m,h)&&gi(o,x,m,h),function(e){const t=e.maxPadding;function s(s){const a=Math.max(t[s]-e[s],0);return e[s]+=a,a}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}(x),bi(i.leftAndTop,x,m,h),x.x+=x.w,x.y+=x.h,bi(i.rightAndBottom,x,m,h),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Ra(i.chartArea,t=>{const s=t.box;Object.assign(s,e.chartArea),s.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class vi{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class yi extends vi{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ni="$chartjs",wi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ki=e=>null===e||""===e;const _i=!!er&&{passive:!0};function Ci(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,_i)}function Si(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Ai(e,t,s){const a=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||Si(s.addedNodes,a),t=t&&!Si(s.removedNodes,a);t&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function Ei(e,t,s){const a=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const s of e)t=t||Si(s.removedNodes,a),t=t&&!Si(s.addedNodes,a);t&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const Mi=new Map;let Ii=0;function Pi(){const e=window.devicePixelRatio;e!==Ii&&(Ii=e,Mi.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function Li(e,t,s){const a=e.canvas,n=a&&Gl(a);if(!n)return;const l=Sn((e,t)=>{const a=n.clientWidth;s(e,t),a<n.clientWidth&&s()},window),r=new ResizeObserver(e=>{const t=e[0],s=t.contentRect.width,a=t.contentRect.height;0===s&&0===a||l(s,a)});return r.observe(n),function(e,t){Mi.size||window.addEventListener("resize",Pi),Mi.set(e,t)}(e,l),r}function Ti(e,t,s){s&&s.disconnect(),"resize"===t&&function(e){Mi.delete(e),Mi.size||window.removeEventListener("resize",Pi)}(e)}function Ri(e,t,s){const a=e.canvas,n=Sn(t=>{null!==e.ctx&&s(function(e,t){const s=wi[e.type]||e.type,{x:a,y:n}=Kl(e,t);return{type:s,chart:t,native:e,x:void 0!==a?a:null,y:void 0!==n?n:null}}(t,e))},e);return function(e,t,s){e&&e.addEventListener(t,s,_i)}(a,t,n),n}class Di extends vi{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function(e,t){const s=e.style,a=e.getAttribute("height"),n=e.getAttribute("width");if(e[Ni]={initial:{height:a,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",ki(n)){const t=tr(e,"width");void 0!==t&&(e.width=t)}if(ki(a))if(""===e.style.height)e.height=e.width/(t||2);else{const t=tr(e,"height");void 0!==t&&(e.height=t)}}(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[Ni])return!1;const s=t[Ni].initial;["height","width"].forEach(e=>{const a=s[e];Sa(a)?t.removeAttribute(e):t.setAttribute(e,a)});const a=s.style||{};return Object.keys(a).forEach(e=>{t.style[e]=a[e]}),t.width=t.width,delete t[Ni],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),n={attach:Ai,detach:Ei,resize:Li}[t]||Ri;a[t]=n(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:Ti,detach:Ti,resize:Ti}[t]||Ci)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return Xl(e,t,s,a)}isAttached(e){const t=e&&Gl(e);return!(!t||!t.isConnected)}}class Oi{constructor(){ze(this,"x",void 0),ze(this,"y",void 0),ze(this,"active",!1),ze(this,"options",void 0),ze(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return on(this.x)&&on(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(e=>{a[e]=s[e]&&s[e].active()?s[e]._to:this[e]}),a}}function Fi(e,t){const s=e.options.ticks,a=function(e){const t=e.options.offset,s=e._tickSize(),a=e._length/s+(t?0:1),n=e._maxLength/s;return Math.floor(Math.min(a,n))}(e),n=Math.min(s.maxTicksLimit||a,a),l=s.major.enabled?function(e){const t=[];let s,a;for(s=0,a=e.length;s<a;s++)e[s].major&&t.push(s);return t}(t):[],r=l.length,i=l[0],o=l[r-1],c=[];if(r>n)return function(e,t,s,a){let n,l=0,r=s[0];for(a=Math.ceil(a),n=0;n<e.length;n++)n===r&&(t.push(e[n]),l++,r=s[l*a])}(t,c,l,r/n),c;const d=function(e,t,s){const a=function(e){const t=e.length;let s,a;if(t<2)return!1;for(a=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==a)return!1;return a}(e),n=t.length/s;if(!a)return Math.max(n,1);const l=function(e){const t=[],s=Math.sqrt(e);let a;for(a=1;a<s;a++)e%a===0&&(t.push(a),t.push(e/a));return s===(0|s)&&t.push(s),t.sort((e,t)=>e-t).pop(),t}(a);for(let r=0,i=l.length-1;r<i;r++){const e=l[r];if(e>n)return e}return Math.max(n,1)}(l,t,n);if(r>0){let e,s;const a=r>1?Math.round((o-i)/(r-1)):null;for(zi(t,c,d,Sa(a)?0:i-a,i),e=0,s=r-1;e<s;e++)zi(t,c,d,l[e],l[e+1]);return zi(t,c,d,o,Sa(a)?t.length:o+a),c}return zi(t,c,d),c}function zi(e,t,s,a,n){const l=Pa(a,0),r=Math.min(Pa(n,e.length),e.length);let i,o,c,d=0;for(s=Math.ceil(s),n&&(i=n-a,s=i/Math.floor(i/s)),c=l;c<0;)d++,c=Math.round(l+d*s);for(o=Math.max(l,0);o<r;o++)o===c&&(t.push(e[o]),d++,c=Math.round(l+d*s))}ze(Oi,"defaults",{}),ze(Oi,"defaultRoutes",void 0);const Bi=(e,t,s)=>"top"===t||"left"===t?e[t]+s:e[t]-s,Ui=(e,t)=>Math.min(t||e,e);function Hi(e,t){const s=[],a=e.length/t,n=e.length;let l=0;for(;l<n;l+=a)s.push(e[Math.floor(l)]);return s}function Vi(e,t,s){const a=e.ticks.length,n=Math.min(t,a-1),l=e._startPixel,r=e._endPixel,i=1e-6;let o,c=e.getPixelForTick(n);if(!(s&&(o=1===a?Math.max(c-l,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(n-1))/2,c+=n<t?o:-o,c<l-i||c>r+i)))return c}function Wi(e){return e.drawTicks?e.tickLength:0}function Gi(e,t){if(!e.display)return 0;const s=vl(e.font,t),a=jl(e.padding);return(Aa(e.text)?e.text.length:1)*s.lineHeight+a.height}function qi(e,t,s){let a=An(e);return(s&&"right"!==t||!s&&"right"===t)&&(a=(e=>"left"===e?"right":"right"===e?"left":e)(a)),a}class Yi extends Oi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=Ia(e,Number.POSITIVE_INFINITY),t=Ia(t,Number.NEGATIVE_INFINITY),s=Ia(s,Number.POSITIVE_INFINITY),a=Ia(a,Number.NEGATIVE_INFINITY),{min:Ia(e,s),max:Ia(t,a),minDefined:Ma(e),maxDefined:Ma(t)}}getMinMax(e){let t,{min:s,max:a,minDefined:n,maxDefined:l}=this.getUserBounds();if(n&&l)return{min:s,max:a};const r=this.getMatchingVisibleMetas();for(let i=0,o=r.length;i<o;++i)t=r[i].controller.getMinMax(this,e),n||(s=Math.min(s,t.min)),l||(a=Math.max(a,t.max));return s=l&&s>a?a:s,a=n&&s>a?s:a,{min:Ia(s,Ia(a,s)),max:Ia(a,Ia(s,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ta(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:n,ticks:l}=this.options,r=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,s){const{min:a,max:n}=e,l=La(t,(n-a)/2),r=(e,t)=>s&&0===e?0:e+t;return{min:r(a,-Math.abs(l)),max:r(n,l)}}(this,n,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const i=r<this.ticks.length;this._convertTicksToLabels(i?Hi(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||"auto"===l.source)&&(this.ticks=Fi(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),i&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,s=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,s=!s),this._startPixel=e,this._endPixel=t,this._reversePixels=s,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ta(this.options.afterUpdate,[this])}beforeSetDimensions(){Ta(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ta(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ta(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ta(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,n;for(s=0,a=e.length;s<a;s++)n=e[s],n.label=Ta(t.callback,[n.value,s,e],this)}afterTickToLabelConversion(){Ta(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ta(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=Ui(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,n=t.maxRotation;let l,r,i,o=a;if(!this._isVisible()||!t.display||a>=n||s<=1||!this.isHorizontal())return void(this.labelRotation=a);const c=this._getLabelSizes(),d=c.widest.width,m=c.highest.height,u=bn(this.chart.width-d,0,this.maxWidth);l=e.offset?this.maxWidth/s:u/(s-1),d+6>l&&(l=u/(s-(e.offset?.5:1)),r=this.maxHeight-Wi(e.grid)-t.padding-Gi(e.title,this.chart.options.font),i=Math.sqrt(d*d+m*m),o=mn(Math.min(Math.asin(bn((c.highest.height+6)/l,-1,1)),Math.asin(bn(r/i,-1,1))-Math.asin(bn(m/i,-1,1)))),o=Math.max(a,Math.min(n,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ta(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ta(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:n}}=this,l=this._isVisible(),r=this.isHorizontal();if(l){const l=Gi(a,t.options.font);if(r?(e.width=this.maxWidth,e.height=Wi(n)+l):(e.height=this.maxHeight,e.width=Wi(n)+l),s.display&&this.ticks.length){const{first:t,last:a,widest:n,highest:l}=this._getLabelSizes(),i=2*s.padding,o=dn(this.labelRotation),c=Math.cos(o),d=Math.sin(o);if(r){const t=s.mirror?0:d*n.width+c*l.height;e.height=Math.min(this.maxHeight,e.height+t+i)}else{const t=s.mirror?0:c*n.width+d*l.height;e.width=Math.min(this.maxWidth,e.width+t+i)}this._calculatePadding(t,a,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:n,padding:l},position:r}=this.options,i=0!==this.labelRotation,o="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,m=0;i?o?(d=a*e.width,m=s*t.height):(d=s*e.height,m=a*t.width):"start"===n?m=t.width:"end"===n?d=e.width:"inner"!==n&&(d=e.width/2,m=t.width/2),this.paddingLeft=Math.max((d-r+l)*this.width/(this.width-r),0),this.paddingRight=Math.max((m-c+l)*this.width/(this.width-c),0)}else{let s=t.height/2,a=e.height/2;"start"===n?(s=0,a=e.height):"end"===n&&(s=t.height,a=0),this.paddingTop=s+l,this.paddingBottom=a+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ta(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)Sa(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=Hi(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:n}=this,l=[],r=[],i=Math.floor(t/Ui(t,s));let o,c,d,m,u,x,h,p,g,f,b,j=0,v=0;for(o=0;o<t;o+=i){if(m=e[o].label,u=this._resolveTickFontOptions(o),a.font=x=u.string,h=n[x]=n[x]||{data:{},gc:[]},p=u.lineHeight,g=f=0,Sa(m)||Aa(m)){if(Aa(m))for(c=0,d=m.length;c<d;++c)b=m[c],Sa(b)||Aa(b)||(g=Qn(a,h.data,h.gc,g,b),f+=p)}else g=Qn(a,h.data,h.gc,g,m),f=p;l.push(g),r.push(f),j=Math.max(g,j),v=Math.max(f,v)}!function(e,t){Ra(e,e=>{const s=e.gc,a=s.length/2;let n;if(a>t){for(n=0;n<a;++n)delete e.data[s[n]];s.splice(0,a)}})}(n,t);const y=l.indexOf(j),N=r.indexOf(v),w=e=>({width:l[e]||0,height:r[e]||0});return{first:w(0),last:w(t-1),widest:w(y),highest:w(N),widths:l,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return bn(this._alignToPixels?Zn(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=function(e,t,s){return Nl(e,{tick:s,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=Nl(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=dn(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),n=this._getLabelSizes(),l=e.autoSkipPadding||0,r=n?n.widest.width+l:0,i=n?n.highest.height+l:0;return this.isHorizontal()?i*s>r*a?r/s:i/a:i*a<r*s?i/s:r/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:n,position:l,border:r}=a,i=n.offset,o=this.isHorizontal(),c=this.ticks.length+(i?1:0),d=Wi(n),m=[],u=r.setContext(this.getContext()),x=u.display?u.width:0,h=x/2,p=function(e){return Zn(s,e,x)};let g,f,b,j,v,y,N,w,k,_,C,S;if("top"===l)g=p(this.bottom),y=this.bottom-d,w=g-h,_=p(e.top)+h,S=e.bottom;else if("bottom"===l)g=p(this.top),_=e.top,S=p(e.bottom)-h,y=g+h,w=this.top+d;else if("left"===l)g=p(this.right),v=this.right-d,N=g-h,k=p(e.left)+h,C=e.right;else if("right"===l)g=p(this.left),k=e.left,C=p(e.right)-h,v=g+h,N=this.left+d;else if("x"===t){if("center"===l)g=p((e.top+e.bottom)/2+.5);else if(Ea(l)){const e=Object.keys(l)[0],t=l[e];g=p(this.chart.scales[e].getPixelForValue(t))}_=e.top,S=e.bottom,y=g+h,w=y+d}else if("y"===t){if("center"===l)g=p((e.left+e.right)/2);else if(Ea(l)){const e=Object.keys(l)[0],t=l[e];g=p(this.chart.scales[e].getPixelForValue(t))}v=g-h,N=v-d,k=e.left,C=e.right}const A=Pa(a.ticks.maxTicksLimit,c),E=Math.max(1,Math.ceil(c/A));for(f=0;f<c;f+=E){const e=this.getContext(f),t=n.setContext(e),a=r.setContext(e),l=t.lineWidth,c=t.color,d=a.dash||[],u=a.dashOffset,x=t.tickWidth,h=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;b=Vi(this,f,i),void 0!==b&&(j=Zn(s,b,l),o?v=N=k=C=j:y=w=_=S=j,m.push({tx1:v,ty1:y,tx2:N,ty2:w,x1:k,y1:_,x2:C,y2:S,width:l,color:c,borderDash:d,borderDashOffset:u,tickWidth:x,tickColor:h,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,m}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:n}=s,l=this.isHorizontal(),r=this.ticks,{align:i,crossAlign:o,padding:c,mirror:d}=n,m=Wi(s.grid),u=m+c,x=d?-c:u,h=-dn(this.labelRotation),p=[];let g,f,b,j,v,y,N,w,k,_,C,S,A="middle";if("top"===a)y=this.bottom-x,N=this._getXAxisLabelAlignment();else if("bottom"===a)y=this.top+x,N=this._getXAxisLabelAlignment();else if("left"===a){const e=this._getYAxisLabelAlignment(m);N=e.textAlign,v=e.x}else if("right"===a){const e=this._getYAxisLabelAlignment(m);N=e.textAlign,v=e.x}else if("x"===t){if("center"===a)y=(e.top+e.bottom)/2+u;else if(Ea(a)){const e=Object.keys(a)[0],t=a[e];y=this.chart.scales[e].getPixelForValue(t)+u}N=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)v=(e.left+e.right)/2-u;else if(Ea(a)){const e=Object.keys(a)[0],t=a[e];v=this.chart.scales[e].getPixelForValue(t)}N=this._getYAxisLabelAlignment(m).textAlign}"y"===t&&("start"===i?A="top":"end"===i&&(A="bottom"));const E=this._getLabelSizes();for(g=0,f=r.length;g<f;++g){b=r[g],j=b.label;const e=n.setContext(this.getContext(g));w=this.getPixelForTick(g)+n.labelOffset,k=this._resolveTickFontOptions(g),_=k.lineHeight,C=Aa(j)?j.length:1;const t=C/2,s=e.color,i=e.textStrokeColor,c=e.textStrokeWidth;let m,u=N;if(l?(v=w,"inner"===N&&(u=g===f-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),S="top"===a?"near"===o||0!==h?-C*_+_/2:"center"===o?-E.highest.height/2-t*_+_:-E.highest.height+_/2:"near"===o||0!==h?_/2:"center"===o?E.highest.height/2-t*_:E.highest.height-C*_,d&&(S*=-1),0===h||e.showLabelBackdrop||(v+=_/2*Math.sin(h))):(y=w,S=(1-C)*_/2),e.showLabelBackdrop){const t=jl(e.backdropPadding),s=E.heights[g],a=E.widths[g];let n=S-t.top,l=0-t.left;switch(A){case"middle":n-=s/2;break;case"bottom":n-=s}switch(N){case"center":l-=a/2;break;case"right":l-=a;break;case"inner":g===f-1?l-=a:g>0&&(l-=a/2)}m={left:l,top:n,width:a+t.width,height:s+t.height,color:e.backdropColor}}p.push({label:j,font:k,textOffset:S,options:{rotation:h,color:s,strokeColor:i,strokeWidth:c,textAlign:u,textBaseline:A,translation:[v,y],backdrop:m}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-dn(this.labelRotation))return"top"===e?"left":"right";let s="center";return"start"===t.align?s="left":"end"===t.align?s="right":"inner"===t.align&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:n}}=this.options,l=e+n,r=this._getLabelSizes().widest.width;let i,o;return"left"===t?a?(o=this.right+n,"near"===s?i="left":"center"===s?(i="center",o+=r/2):(i="right",o+=r)):(o=this.right-l,"near"===s?i="right":"center"===s?(i="center",o-=r/2):(i="left",o=this.left)):"right"===t?a?(o=this.left+n,"near"===s?i="right":"center"===s?(i="center",o-=r/2):(i="left",o-=r)):(o=this.left+l,"near"===s?i="left":"center"===s?(i="center",o+=r/2):(i="right",o=this.right)):i="right",{textAlign:i,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:n,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,n,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(t=>t.value===e);if(s>=0){return t.setContext(this.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let n,l;const r=(e,t,a)=>{a.width&&a.color&&(s.save(),s.lineWidth=a.width,s.strokeStyle=a.color,s.setLineDash(a.borderDash||[]),s.lineDashOffset=a.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(t.display)for(n=0,l=a.length;n<l;++n){const e=a[n];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,n=s.setContext(this.getContext()),l=s.display?n.width:0;if(!l)return;const r=a.setContext(this.getContext(0)).lineWidth,i=this._borderValue;let o,c,d,m;this.isHorizontal()?(o=Zn(e,this.left,l)-l/2,c=Zn(e,this.right,r)+r/2,d=m=i):(d=Zn(e,this.top,l)-l/2,m=Zn(e,this.bottom,r)+r/2,o=c=i),t.save(),t.lineWidth=n.width,t.strokeStyle=n.color,t.beginPath(),t.moveTo(o,d),t.lineTo(c,m),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,s=this._computeLabelArea();s&&nl(t,s);const a=this.getLabelItems(e);for(const n of a){const e=n.options,s=n.font;dl(t,n.label,0,n.textOffset,s,e)}s&&ll(t)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const n=vl(s.font),l=jl(s.padding),r=s.align;let i=n.lineHeight/2;"bottom"===t||"center"===t||Ea(t)?(i+=l.bottom,Aa(s.text)&&(i+=n.lineHeight*(s.text.length-1))):i+=l.top;const{titleX:o,titleY:c,maxWidth:d,rotation:m}=function(e,t,s,a){const{top:n,left:l,bottom:r,right:i,chart:o}=e,{chartArea:c,scales:d}=o;let m,u,x,h=0;const p=r-n,g=i-l;if(e.isHorizontal()){if(u=En(a,l,i),Ea(s)){const e=Object.keys(s)[0],a=s[e];x=d[e].getPixelForValue(a)+p-t}else x="center"===s?(c.bottom+c.top)/2+p-t:Bi(e,s,t);m=i-l}else{if(Ea(s)){const e=Object.keys(s)[0],a=s[e];u=d[e].getPixelForValue(a)-g+t}else u="center"===s?(c.left+c.right)/2-g+t:Bi(e,s,t);x=En(a,r,n),h="left"===s?-en:en}return{titleX:u,titleY:x,maxWidth:m,rotation:h}}(this,i,t,r);dl(e,s.text,0,0,n,{color:s.color,maxWidth:d,rotation:m,textAlign:qi(r,t,a),textBaseline:"middle",translation:[o,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Pa(e.grid&&e.grid.z,-1),a=Pa(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Yi.prototype.draw?[{z:s,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let n,l;for(n=0,l=t.length;n<l;++n){const l=t[n];l[s]!==this.id||e&&l.type!==e||a.push(l)}return a}_resolveTickFontOptions(e){return vl(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $i{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;(function(e){return"id"in e&&"defaults"in e})(t)&&(s=this.register(t));const a=this.items,n=e.id,l=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+e);return n in a||(a[n]=e,function(e,t,s){const a=Ba(Object.create(null),[s?Kn.get(s):{},Kn.get(t),e.defaults]);Kn.set(t,a),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(s=>{const a=s.split("."),n=a.pop(),l=[e].concat(a).join("."),r=t[s].split("."),i=r.pop(),o=r.join(".");Kn.route(l,n,o,i)})}(t,e.defaultRoutes);e.descriptors&&Kn.describe(t,e.descriptors)}(e,l,s),this.override&&Kn.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in Kn[a]&&(delete Kn[a][s],this.override&&delete Gn[s])}}class Ji{constructor(){this.controllers=new $i(Tr,"datasets",!0),this.elements=new $i(Oi,"elements"),this.plugins=new $i(Object,"plugins"),this.scales=new $i(Yi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];this._each("unregister",t,this.scales)}_each(e,t,s){[...t].forEach(t=>{const a=s||this._getRegistryForType(t);s||a.isForType(t)||a===this.plugins&&t.id?this._exec(e,a,t):Ra(t,t=>{const a=s||this._getRegistryForType(t);this._exec(e,a,t)})})}_exec(e,t,s){const a=Ga(e);Ta(s["before"+a],[],s),t[e](s),Ta(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var Ki=new Ji;class Qi{constructor(){this._init=[]}notify(e,t,s,a){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const n=a?this._descriptors(e).filter(a):this._descriptors(e),l=this._notify(n,e,t,s);return"afterDestroy"===t&&(this._notify(n,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,s,a){a=a||{};for(const n of e){const e=n.plugin;if(!1===Ta(e[s],[t,a,n.options],e)&&a.cancelable)return!1}return!0}invalidate(){Sa(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=Pa(s.options&&s.options.plugins,{}),n=function(e){const t={},s=[],a=Object.keys(Ki.plugins.items);for(let l=0;l<a.length;l++)s.push(Ki.getPlugin(a[l]));const n=e.plugins||[];for(let l=0;l<n.length;l++){const e=n[l];-1===s.indexOf(e)&&(s.push(e),t[e.id]=!0)}return{plugins:s,localIds:t}}(s);return!1!==a||t?function(e,t,s,a){let{plugins:n,localIds:l}=t;const r=[],i=e.getContext();for(const o of n){const t=o.id,n=Xi(s[t],a);null!==n&&r.push({plugin:o,options:Zi(e.config,{plugin:o,local:l[t]},n,i)})}return r}(e,n,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function Xi(e,t){return t||!1!==e?!0===e?{}:e:null}function Zi(e,t,s,a){let{plugin:n,local:l}=t;const r=e.pluginScopeKeys(n),i=e.getOptionScopes(s,r);return l&&n.defaults&&i.push(n.defaults),e.createResolver(i,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eo(e,t){const s=Kn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function to(e){if("x"===e||"y"===e||"r"===e)return e}function so(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function ao(e){if(to(e))return e;for(var t=arguments.length,s=new Array(t>1?t-1:0),a=1;a<t;a++)s[a-1]=arguments[a];for(const n of s){const t=n.axis||so(n.position)||e.length>1&&to(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function no(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function lo(e,t){const s=Gn[e.type]||{scales:{}},a=t.scales||{},n=eo(e.type,t),l=Object.create(null);return Object.keys(a).forEach(t=>{const r=a[t];if(!Ea(r))return console.error("Invalid scale configuration for scale: ".concat(t));if(r._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const i=ao(t,r,function(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(s.length)return no(e,"x",s[0])||no(e,"y",s[0])}return{}}(t,e),Kn.scales[r.type]),o=function(e,t){return e===t?"_index_":"_value_"}(i,n),c=s.scales||{};l[t]=Ua(Object.create(null),[{axis:i},r,c[i],c[o]])}),e.data.datasets.forEach(s=>{const n=s.type||e.type,r=s.indexAxis||eo(n,t),i=(Gn[n]||{}).scales||{};Object.keys(i).forEach(e=>{const t=function(e,t){let s=e;return"_index_"===e?s=t:"_value_"===e&&(s="x"===t?"y":"x"),s}(e,r),n=s[t+"AxisID"]||t;l[n]=l[n]||Object.create(null),Ua(l[n],[{axis:t},a[n],i[e]])})}),Object.keys(l).forEach(e=>{const t=l[e];Ua(t,[Kn.scales[t.type],Kn.scale])}),l}function ro(e){const t=e.options||(e.options={});t.plugins=Pa(t.plugins,{}),t.scales=lo(e,t)}function io(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const oo=new Map,co=new Set;function mo(e,t){let s=oo.get(e);return s||(s=t(),oo.set(e,s),co.add(s)),s}const uo=(e,t,s)=>{const a=Wa(t,s);void 0!==a&&e.add(a)};class xo{constructor(e){this._config=function(e){return(e=e||{}).data=io(e.data),ro(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=io(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ro(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mo(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return mo("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return mo("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return mo("".concat(s,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return a&&!t||(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:n}=this,l=this._cachedScopes(e,s),r=l.get(t);if(r)return r;const i=new Set;t.forEach(t=>{e&&(i.add(e),t.forEach(t=>uo(i,e,t))),t.forEach(e=>uo(i,a,e)),t.forEach(e=>uo(i,Gn[n]||{},e)),t.forEach(e=>uo(i,Kn,e)),t.forEach(e=>uo(i,qn,e))});const o=Array.from(i);return 0===o.length&&o.push(Object.create(null)),co.has(t)&&l.set(t,o),o}chartOptionScopes(){const{options:e,type:t}=this;return[e,Gn[t]||{},Kn.datasets[t]||{},{type:t},Kn,qn]}resolveNamedOptions(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const n={$shared:!0},{resolver:l,subPrefixes:r}=ho(this._resolverCache,e,a);let i=l;if(function(e,t){const{isScriptable:s,isIndexable:a}=_l(e);for(const n of t){const t=s(n),l=a(n),r=(l||t)&&e[n];if(t&&(Ya(r)||po(r))||l&&Aa(r))return!0}return!1}(l,t)){n.$shared=!1;i=kl(l,s=Ya(s)?s():s,this.createResolver(e,s,r))}for(const o of t)n[o]=i[o];return n}createResolver(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],a=arguments.length>3?arguments[3]:void 0;const{resolver:n}=ho(this._resolverCache,e,s);return Ea(t)?kl(n,t,void 0,a):n}}function ho(e,t,s){let a=e.get(t);a||(a=new Map,e.set(t,a));const n=s.join();let l=a.get(n);if(!l){l={resolver:wl(t,s),subPrefixes:s.filter(e=>!e.toLowerCase().includes("hover"))},a.set(n,l)}return l}const po=e=>Ea(e)&&Object.getOwnPropertyNames(e).some(t=>Ya(e[t]));const go=["top","bottom","left","right","chartArea"];function fo(e,t){return"top"===e||"bottom"===e||-1===go.indexOf(e)&&"x"===t}function bo(e,t){return function(s,a){return s[e]===a[e]?s[t]-a[t]:s[e]-a[e]}}function jo(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Ta(s&&s.onComplete,[e],t)}function vo(e){const t=e.chart,s=t.options.animation;Ta(s&&s.onProgress,[e],t)}function yo(e){return Wl()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const No={},wo=e=>{const t=yo(e);return Object.values(No).filter(e=>e.canvas===t).pop()};function ko(e,t,s){const a=Object.keys(e);for(const n of a){const a=+n;if(a>=t){const l=e[n];delete e[n],(s>0||a>t)&&(e[a+s]=l)}}}class _o{static register(){Ki.add(...arguments),Co()}static unregister(){Ki.remove(...arguments),Co()}constructor(e,t){const s=this.config=new xo(t),a=yo(e),n=wo(a);if(n)throw new Error("Canvas is already in use. Chart with ID '"+n.id+"' must be destroyed before the canvas with ID '"+n.canvas.id+"' can be reused.");const l=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||function(e){return!Wl()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?yi:Di}(a)),this.platform.updateConfig(s);const r=this.platform.acquireContext(a,l.aspectRatio),i=r&&r.canvas,o=i&&i.height,c=i&&i.width;this.id=Ca(),this.ctx=r,this.canvas=i,this.width=c,this.height=o,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Qi,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let s;return function(){for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}(e=>this.update(e),l.resizeDelay||0),this._dataChanges=[],No[this.id]=this,r&&i?(br.listen(this,"complete",jo),br.listen(this,"progress",vo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:n}=this;return Sa(e)?t&&n?n:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ki}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zl(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return el(this.canvas,this.ctx),this}stop(){return br.stop(this),this}resize(e,t){br.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,n=s.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(a,e,t,n),r=s.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Zl(this,r,!0)&&(this.notifyPlugins("resize",{size:l}),Ta(s.onResize,[this,l],this),this.attached&&this._doResize(i)&&this.render())}ensureScalesHaveIDs(){Ra(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((e,t)=>(e[t]=!1,e),{});let n=[];t&&(n=n.concat(Object.keys(t).map(e=>{const s=t[e],a=ao(e,s),n="r"===a,l="x"===a;return{options:s,dposition:n?"chartArea":l?"bottom":"left",dtype:n?"radialLinear":l?"category":"linear"}}))),Ra(n,t=>{const n=t.options,l=n.id,r=ao(l,n),i=Pa(n.type,t.dtype);void 0!==n.position&&fo(n.position,r)===fo(t.dposition)||(n.position=t.dposition),a[l]=!0;let o=null;if(l in s&&s[l].type===i)o=s[l];else{o=new(Ki.getScale(i))({id:l,type:i,ctx:this.ctx,chart:this}),s[o.id]=o}o.init(n,e)}),Ra(a,(e,t)=>{e||delete s[t]}),Ra(s,e=>{ji.configure(this,e,e.options),ji.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((e,t)=>e.index-t.index),s>t){for(let e=t;e<s;++e)this._destroyDatasetMeta(e);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(bo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,s)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const a=t[s];let n=this.getDatasetMeta(s);const l=a.type||this.config.type;if(n.type&&n.type!==l&&(this._destroyDatasetMeta(s),n=this.getDatasetMeta(s)),n.type=l,n.indexAxis=a.indexAxis||eo(l,this.options),n.order=a.order||0,n.index=s,n.label=""+a.label,n.visible=this.isDatasetVisible(s),n.controller)n.controller.updateIndex(s),n.controller.linkScales();else{const t=Ki.getController(l),{datasetElementType:a,dataElementType:r}=Kn.datasets[l];Object.assign(t,{dataElementType:Ki.getElement(r),datasetElementType:a&&Ki.getElement(a)}),n.controller=new t(this,s),e.push(n.controller)}}return this._updateMetasets(),e}_resetElements(){Ra(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let o=0,c=this.data.datasets.length;o<c;o++){const{controller:e}=this.getDatasetMeta(o),t=!a&&-1===n.indexOf(e);e.buildOrUpdateElements(t),l=Math.max(+e.getMaxOverflow(),l)}l=this._minPadding=s.layout.autoPadding?l:0,this._updateLayout(l),a||Ra(n,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bo("z","_idx"));const{_active:r,_lastEvent:i}=this;i?this._eventHandler(i,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){Ra(this.scales,e=>{ji.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);$a(t,s)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:n}of t){ko(e,a,"_removeElements"===s?-n:n)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),a=s(0);for(let n=1;n<t;n++)if(!$a(a,s(n)))return;return Array.from(a).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ji.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Ra(this.boxes,e=>{s&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Ya(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(br.has(this)?this.attached&&!br.running(this)&&br.start(this):(this.draw(),jo({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,n;for(a=0,n=t.length;a<n;++a){const n=t[a];e&&!n.visible||s.push(n)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=gr(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(a&&nl(t,a),e.controller.draw(),a&&ll(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return al(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const n=ri.modes[t];return"function"===typeof n?n(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(e=>e&&e._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Nl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return"boolean"===typeof s.hidden?!s.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",n=this.getDatasetMeta(e),l=n.controller._resolveAnimations(void 0,a);qa(t)?(n.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),l.update(n,{visible:s}),this.update(t=>t.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),br.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),el(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete No[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},a=(e,t,s)=>{e.offsetX=t,e.offsetY=s,this._eventHandler(e)};Ra(this.options.events,e=>s(e,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},a=(s,a)=>{e[s]&&(t.removeEventListener(this,s,a),delete e[s])},n=(e,t)=>{this.canvas&&this.resize(e,t)};let l;const r=()=>{a("attach",r),this.attached=!0,this.resize(),s("resize",n),s("detach",l)};l=()=>{this.attached=!1,a("resize",n),this._stop(),this._resize(0,0),s("attach",r)},t.isAttached(this.canvas)?r():l()}unbindEvents(){Ra(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ra(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let n,l,r,i;for("dataset"===t&&(n=this.getDatasetMeta(e[0].datasetIndex),n.controller["_"+a+"DatasetHoverStyle"]()),r=0,i=e.length;r<i;++r){l=e[r];const t=l&&this.getDatasetMeta(l.datasetIndex).controller;t&&t[a+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(e=>{let{datasetIndex:t,index:s}=e;const a=this.getDatasetMeta(t);if(!a)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:a.data[s],index:s}});!Da(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,s){const a=this.options.hover,n=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),l=n(t,e),r=s?e:n(e,t);l.length&&this.updateHoverStyle(l,a.mode,!1),r.length&&a.mode&&this.updateHoverStyle(r,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",s,a))return;const n=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(n||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:n}=this,l=t,r=this._getActiveElements(e,a,s,l),i=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),o=function(e,t,s,a){return s&&"mouseout"!==e.type?a?t:e:null}(e,this._lastEvent,s,i);s&&(this._lastEvent=null,Ta(n.onHover,[e,r,this],this),i&&Ta(n.onClick,[e,r,this],this));const c=!Da(r,a);return(c||t)&&(this._active=r,this._updateHoverStyles(r,a,t)),this._lastEvent=o,c}_getActiveElements(e,t,s,a){if("mouseout"===e.type)return[];if(!s)return t;const n=this.options.hover;return this.getElementsAtEventForMode(e,n.mode,n,a)}}function Co(){return Ra(_o.instances,e=>e._plugins.invalidate())}function So(e,t,s,a){const n=gl(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const l=(s-t)/2,r=Math.min(l,a*t/2),i=e=>{const t=(s-Math.min(l,e))*a/2;return bn(e,0,Math.min(l,t))};return{outerStart:i(n.outerStart),outerEnd:i(n.outerEnd),innerStart:bn(n.innerStart,0,r),innerEnd:bn(n.innerEnd,0,r)}}function Ao(e,t,s,a){return{x:s+e*Math.cos(t),y:a+e*Math.sin(t)}}function Eo(e,t,s,a,n,l){const{x:r,y:i,startAngle:o,pixelMargin:c,innerRadius:d}=t,m=Math.max(t.outerRadius+a+s-c,0),u=d>0?d+a+s+c:0;let x=0;const h=n-o;if(a){const e=((d>0?d-a:0)+(m>0?m-a:0))/2;x=(h-(0!==e?h*e/(e+a):h))/2}const p=(h-Math.max(.001,h*m-s/Ja)/m)/2,g=o+p+x,f=n-p-x,{outerStart:b,outerEnd:j,innerStart:v,innerEnd:y}=So(t,u,m,f-g),N=m-b,w=m-j,k=g+b/N,_=f-j/w,C=u+v,S=u+y,A=g+v/C,E=f-y/S;if(e.beginPath(),l){const t=(k+_)/2;if(e.arc(r,i,m,k,t),e.arc(r,i,m,t,_),j>0){const t=Ao(w,_,r,i);e.arc(t.x,t.y,j,_,f+en)}const s=Ao(S,f,r,i);if(e.lineTo(s.x,s.y),y>0){const t=Ao(S,E,r,i);e.arc(t.x,t.y,y,f+en,E+Math.PI)}const a=(f-y/u+(g+v/u))/2;if(e.arc(r,i,u,f-y/u,a,!0),e.arc(r,i,u,a,g+v/u,!0),v>0){const t=Ao(C,A,r,i);e.arc(t.x,t.y,v,A+Math.PI,g-en)}const n=Ao(N,g,r,i);if(e.lineTo(n.x,n.y),b>0){const t=Ao(N,k,r,i);e.arc(t.x,t.y,b,g-en,k)}}else{e.moveTo(r,i);const t=Math.cos(k)*m+r,s=Math.sin(k)*m+i;e.lineTo(t,s);const a=Math.cos(_)*m+r,n=Math.sin(_)*m+i;e.lineTo(a,n)}e.closePath()}function Mo(e,t,s,a,n){const{fullCircles:l,startAngle:r,circumference:i,options:o}=t,{borderWidth:c,borderJoinStyle:d,borderDash:m,borderDashOffset:u,borderRadius:x}=o,h="inner"===o.borderAlign;if(!c)return;e.setLineDash(m||[]),e.lineDashOffset=u,h?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let p=t.endAngle;if(l){Eo(e,t,s,a,p,n);for(let t=0;t<l;++t)e.stroke();isNaN(i)||(p=r+(i%Ka||Ka))}h&&function(e,t,s){const{startAngle:a,pixelMargin:n,x:l,y:r,outerRadius:i,innerRadius:o}=t;let c=n/i;e.beginPath(),e.arc(l,r,i,a-c,s+c),o>n?(c=n/o,e.arc(l,r,o,s+c,a-c,!0)):e.arc(l,r,n,s+en,a-en),e.closePath(),e.clip()}(e,t,p),o.selfJoin&&p-r>=Ja&&0===x&&"miter"!==d&&function(e,t,s){const{startAngle:a,x:n,y:l,outerRadius:r,innerRadius:i,options:o}=t,{borderWidth:c,borderJoinStyle:d}=o,m=Math.min(c/r,gn(a-s));if(e.beginPath(),e.arc(n,l,r-c/2,a+m/2,s-m/2),i>0){const t=Math.min(c/i,gn(a-s));e.arc(n,l,i+c/2,s-t/2,a+t/2,!0)}else{const t=Math.min(c/2,r*gn(a-s));if("round"===d)e.arc(n,l,t,s-Ja/2,a+Ja/2,!0);else if("bevel"===d){const r=2*t*t,i=-r*Math.cos(s+Ja/2)+n,o=-r*Math.sin(s+Ja/2)+l,c=r*Math.cos(a+Ja/2)+n,d=r*Math.sin(a+Ja/2)+l;e.lineTo(i,o),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,p),l||(Eo(e,t,s,a,p,n),e.stroke())}ze(_o,"defaults",Kn),ze(_o,"instances",No),ze(_o,"overrides",Gn),ze(_o,"registry",Ki),ze(_o,"version","4.5.0"),ze(_o,"getChart",wo);class Io extends Oi{constructor(e){super(),ze(this,"circumference",void 0),ze(this,"endAngle",void 0),ze(this,"fullCircles",void 0),ze(this,"innerRadius",void 0),ze(this,"outerRadius",void 0),ze(this,"pixelMargin",void 0),ze(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:n,distance:l}=xn(a,{x:e,y:t}),{startAngle:r,endAngle:i,innerRadius:o,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,u=Pa(d,i-r),x=fn(n,r,i)&&r!==i,h=u>=Ka||x,p=jn(l,o+m,c+m);return h&&p}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:n,innerRadius:l,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:i,spacing:o}=this.options,c=(a+n)/2,d=(l+r+o+i)/2;return{x:t+Math.cos(c)*d,y:s+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,n=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=s>Ka?Math.floor(s/Ka):0,0===s||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*a,Math.sin(r)*a);const i=a*(1-Math.sin(Math.min(Ja,s||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,s,a,n){const{fullCircles:l,startAngle:r,circumference:i}=t;let o=t.endAngle;if(l){Eo(e,t,s,a,o,n);for(let t=0;t<l;++t)e.fill();isNaN(i)||(o=r+(i%Ka||Ka))}Eo(e,t,s,a,o,n),e.fill()}(e,this,i,n,l),Mo(e,this,i,n,l),e.restore()}}function Po(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Pa(s.borderCapStyle,t.borderCapStyle),e.setLineDash(Pa(s.borderDash,t.borderDash)),e.lineDashOffset=Pa(s.borderDashOffset,t.borderDashOffset),e.lineJoin=Pa(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Pa(s.borderWidth,t.borderWidth),e.strokeStyle=Pa(s.borderColor,t.borderColor)}function Lo(e,t,s){e.lineTo(s.x,s.y)}function To(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length,{start:n=0,end:l=a-1}=s,{start:r,end:i}=t,o=Math.max(n,r),c=Math.min(l,i),d=n<r&&l<r||n>i&&l>i;return{count:a,start:o,loop:t.loop,ilen:c<o&&!d?a+c-o:c-o}}function Ro(e,t,s,a){const{points:n,options:l}=t,{count:r,start:i,loop:o,ilen:c}=To(n,s,a),d=function(e){return e.stepped?rl:e.tension||"monotone"===e.cubicInterpolationMode?il:Lo}(l);let m,u,x,{move:h=!0,reverse:p}=a||{};for(m=0;m<=c;++m)u=n[(i+(p?c-m:m))%r],u.skip||(h?(e.moveTo(u.x,u.y),h=!1):d(e,x,u,p,l.stepped),x=u);return o&&(u=n[(i+(p?c:0))%r],d(e,x,u,p,l.stepped)),!!o}function Do(e,t,s,a){const n=t.points,{count:l,start:r,ilen:i}=To(n,s,a),{move:o=!0,reverse:c}=a||{};let d,m,u,x,h,p,g=0,f=0;const b=e=>(r+(c?i-e:e))%l,j=()=>{x!==h&&(e.lineTo(g,h),e.lineTo(g,x),e.lineTo(g,p))};for(o&&(m=n[b(0)],e.moveTo(m.x,m.y)),d=0;d<=i;++d){if(m=n[b(d)],m.skip)continue;const t=m.x,s=m.y,a=0|t;a===u?(s<x?x=s:s>h&&(h=s),g=(f*g+t)/++f):(j(),e.lineTo(t,s),u=a,f=0,x=h=s),p=s}j()}function Oo(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!s?Do:Ro}ze(Io,"id","arc"),ze(Io,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ze(Io,"defaultRoutes",{backgroundColor:"backgroundColor"}),ze(Io,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const Fo="function"===typeof Path2D;function zo(e,t,s,a){Fo&&!t.options.segment?function(e,t,s,a){let n=t._path;n||(n=t._path=new Path2D,t.path(n,s,a)&&n.closePath()),Po(e,t.options),e.stroke(n)}(e,t,s,a):function(e,t,s,a){const{segments:n,options:l}=t,r=Oo(t);for(const i of n)Po(e,l,i.style),e.beginPath(),r(e,t,i,{start:s,end:s+a-1})&&e.closePath(),e.stroke()}(e,t,s,a)}class Bo extends Oi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||"monotone"===s.cubicInterpolationMode)&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;Vl(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const s=e.points,a=e.options.spanGaps,n=s.length;if(!n)return[];const l=!!e._loop,{start:r,end:i}=function(e,t,s,a){let n=0,l=t-1;if(s&&!a)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,s&&(l+=n);l>n&&e[l%t].skip;)l--;return l%=t,{start:n,end:l}}(s,n,l,a);return ur(e,!0===a?[{start:r,end:i,loop:l}]:function(e,t,s,a){const n=e.length,l=[];let r,i=t,o=e[t];for(r=t+1;r<=s;++r){const s=e[r%n];s.skip||s.stop?o.skip||(a=!1,l.push({start:t%n,end:(r-1)%n,loop:a}),t=i=s.stop?r:null):(i=r,o.skip&&(t=r)),o=s}return null!==i&&l.push({start:t%n,end:i%n,loop:a}),l}(s,r,i<r?i+n:i,!!e._fullLoop&&0===r&&i===n-1),s,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],n=this.points,l=mr(this,{property:t,start:a,end:a});if(!l.length)return;const r=[],i=function(e){return e.stepped?ar:e.tension||"monotone"===e.cubicInterpolationMode?nr:sr}(s);let o,c;for(o=0,c=l.length;o<c;++o){const{start:c,end:d}=l[o],m=n[c],u=n[d];if(m===u){r.push(m);continue}const x=i(m,u,Math.abs((a-m[t])/(u[t]-m[t])),s.stepped);x[t]=e[t],r.push(x)}return 1===r.length?r[0]:r}pathSegment(e,t,s){return Oo(this)(e,this,t,s)}path(e,t,s){const a=this.segments,n=Oo(this);let l=this._loop;t=t||0,s=s||this.points.length-t;for(const r of a)l&=n(e,this,r,{start:t,end:t+s-1});return!!l}draw(e,t,s,a){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(e.save(),zo(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Uo(e,t,s,a){const n=e.options,{[s]:l}=e.getProps([s],a);return Math.abs(t-l)<n.radius+n.hitRadius}ze(Bo,"id","line"),ze(Bo,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ze(Bo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ze(Bo,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Ho extends Oi{constructor(e){super(),ze(this,"parsed",void 0),ze(this,"skip",void 0),ze(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:n,y:l}=this.getProps(["x","y"],s);return Math.pow(e-n,2)+Math.pow(t-l,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return Uo(this,e,"x",t)}inYRange(e,t){return Uo(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const s=this.options;this.skip||s.radius<.1||!al(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,tl(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Vo(e,t){const{x:s,y:a,base:n,width:l,height:r}=e.getProps(["x","y","base","width","height"],t);let i,o,c,d,m;return e.horizontal?(m=r/2,i=Math.min(s,n),o=Math.max(s,n),c=a-m,d=a+m):(m=l/2,i=s-m,o=s+m,c=Math.min(a,n),d=Math.max(a,n)),{left:i,top:c,right:o,bottom:d}}function Wo(e,t,s,a){return e?0:bn(t,s,a)}function Go(e){const t=Vo(e),s=t.right-t.left,a=t.bottom-t.top,n=function(e,t,s){const a=e.options.borderWidth,n=e.borderSkipped,l=fl(a);return{t:Wo(n.top,l.top,0,s),r:Wo(n.right,l.right,0,t),b:Wo(n.bottom,l.bottom,0,s),l:Wo(n.left,l.left,0,t)}}(e,s/2,a/2),l=function(e,t,s){const{enableBorderRadius:a}=e.getProps(["enableBorderRadius"]),n=e.options.borderRadius,l=bl(n),r=Math.min(t,s),i=e.borderSkipped,o=a||Ea(n);return{topLeft:Wo(!o||i.top||i.left,l.topLeft,0,r),topRight:Wo(!o||i.top||i.right,l.topRight,0,r),bottomLeft:Wo(!o||i.bottom||i.left,l.bottomLeft,0,r),bottomRight:Wo(!o||i.bottom||i.right,l.bottomRight,0,r)}}(e,s/2,a/2);return{outer:{x:t.left,y:t.top,w:s,h:a,radius:l},inner:{x:t.left+n.l,y:t.top+n.t,w:s-n.l-n.r,h:a-n.t-n.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,l.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(n.b,n.r))}}}}function qo(e,t,s,a){const n=null===t,l=null===s,r=e&&!(n&&l)&&Vo(e,a);return r&&(n||jn(t,r.left,r.right))&&(l||jn(s,r.top,r.bottom))}function Yo(e,t){e.rect(t.x,t.y,t.w,t.h)}function $o(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.x!==s.x?-t:0,n=e.y!==s.y?-t:0,l=(e.x+e.w!==s.x+s.w?t:0)-a,r=(e.y+e.h!==s.y+s.h?t:0)-n;return{x:e.x+a,y:e.y+n,w:e.w+l,h:e.h+r,radius:e.radius}}ze(Ho,"id","point"),ze(Ho,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ze(Ho,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Jo extends Oi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:n,outer:l}=Go(this),r=(i=l.radius).topLeft||i.topRight||i.bottomLeft||i.bottomRight?ml:Yo;var i;e.save(),l.w===n.w&&l.h===n.h||(e.beginPath(),r(e,$o(l,t,n)),e.clip(),r(e,$o(n,-t,l)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),r(e,$o(n,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return qo(this,e,t,s)}inXRange(e,t){return qo(this,e,null,t)}inYRange(e,t){return qo(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:n}=this.getProps(["x","y","base","horizontal"],e);return{x:n?(t+a)/2:t,y:n?s:(s+a)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}ze(Jo,"id","bar"),ze(Jo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ze(Jo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Ko=(e,t)=>{let{boxHeight:s=t,boxWidth:a=t}=e;return e.usePointStyle&&(s=Math.min(s,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:s,itemHeight:Math.max(t,s)}};class Qo extends Oi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ta(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,s)=>e.sort(t,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const s=e.labels,a=vl(s.font),n=a.size,l=this._computeTitleHeight(),{boxWidth:r,itemHeight:i}=Ko(s,n);let o,c;t.font=a.string,this.isHorizontal()?(o=this.maxWidth,c=this._fitRows(l,n,r,i)+10):(c=this.maxHeight,o=this._fitCols(l,a,r,i)+10),this.width=Math.min(o,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:n,maxWidth:l,options:{labels:{padding:r}}}=this,i=this.legendHitBoxes=[],o=this.lineWidths=[0],c=a+r;let d=e;n.textAlign="left",n.textBaseline="middle";let m=-1,u=-c;return this.legendItems.forEach((e,x)=>{const h=s+t/2+n.measureText(e.text).width;(0===x||o[o.length-1]+h+2*r>l)&&(d+=c,o[o.length-(x>0?0:1)]=0,u+=c,m++),i[x]={left:0,top:u,row:m,width:h,height:a},o[o.length-1]+=h+r}),d}_fitCols(e,t,s,a){const{ctx:n,maxHeight:l,options:{labels:{padding:r}}}=this,i=this.legendHitBoxes=[],o=this.columnSizes=[],c=l-e;let d=r,m=0,u=0,x=0,h=0;return this.legendItems.forEach((e,l)=>{const{itemWidth:p,itemHeight:g}=function(e,t,s,a,n){const l=function(e,t,s,a){let n=e.text;n&&"string"!==typeof n&&(n=n.reduce((e,t)=>e.length>t.length?e:t));return t+s.size/2+a.measureText(n).width}(a,e,t,s),r=function(e,t,s){let a=e;"string"!==typeof t.text&&(a=Xo(t,s));return a}(n,a,t.lineHeight);return{itemWidth:l,itemHeight:r}}(s,t,n,e,a);l>0&&u+g+2*r>c&&(d+=m+r,o.push({width:m,height:u}),x+=m+r,h++,m=u=0),i[l]={left:x,top:u,col:h,width:p,height:g},m=Math.max(m,p),u+=g+r}),d+=m,o.push({width:m,height:u}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:n}}=this,l=lr(n,this.left,this.width);if(this.isHorizontal()){let n=0,r=En(s,this.left+a,this.right-this.lineWidths[n]);for(const i of t)n!==i.row&&(n=i.row,r=En(s,this.left+a,this.right-this.lineWidths[n])),i.top+=this.top+e+a,i.left=l.leftForLtr(l.x(r),i.width),r+=i.width+a}else{let n=0,r=En(s,this.top+e+a,this.bottom-this.columnSizes[n].height);for(const i of t)i.col!==n&&(n=i.col,r=En(s,this.top+e+a,this.bottom-this.columnSizes[n].height)),i.top=r,i.left+=this.left+a,i.left=l.leftForLtr(l.x(i.left),i.width),r+=i.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;nl(e,this),this._draw(),ll(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:n,labels:l}=e,r=Kn.color,i=lr(e.rtl,this.left,this.width),o=vl(l.font),{padding:c}=l,d=o.size,m=d/2;let u;this.drawTitle(),a.textAlign=i.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=o.string;const{boxWidth:x,boxHeight:h,itemHeight:p}=Ko(l,d),g=this.isHorizontal(),f=this._computeTitleHeight();u=g?{x:En(n,this.left+c,this.right-s[0]),y:this.top+c+f,line:0}:{x:this.left+c,y:En(n,this.top+f+c,this.bottom-t[0].height),line:0},rr(this.ctx,e.textDirection);const b=p+c;this.legendItems.forEach((j,v)=>{a.strokeStyle=j.fontColor,a.fillStyle=j.fontColor;const y=a.measureText(j.text).width,N=i.textAlign(j.textAlign||(j.textAlign=l.textAlign)),w=x+m+y;let k=u.x,_=u.y;i.setWidth(this.width),g?v>0&&k+w+c>this.right&&(_=u.y+=b,u.line++,k=u.x=En(n,this.left+c,this.right-s[u.line])):v>0&&_+b>this.bottom&&(k=u.x=k+t[u.line].width+c,u.line++,_=u.y=En(n,this.top+f+c,this.bottom-t[u.line].height));if(function(e,t,s){if(isNaN(x)||x<=0||isNaN(h)||h<0)return;a.save();const n=Pa(s.lineWidth,1);if(a.fillStyle=Pa(s.fillStyle,r),a.lineCap=Pa(s.lineCap,"butt"),a.lineDashOffset=Pa(s.lineDashOffset,0),a.lineJoin=Pa(s.lineJoin,"miter"),a.lineWidth=n,a.strokeStyle=Pa(s.strokeStyle,r),a.setLineDash(Pa(s.lineDash,[])),l.usePointStyle){const r={radius:h*Math.SQRT2/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:n},o=i.xPlus(e,x/2);sl(a,r,o,t+m,l.pointStyleWidth&&x)}else{const l=t+Math.max((d-h)/2,0),r=i.leftForLtr(e,x),o=bl(s.borderRadius);a.beginPath(),Object.values(o).some(e=>0!==e)?ml(a,{x:r,y:l,w:x,h:h,radius:o}):a.rect(r,l,x,h),a.fill(),0!==n&&a.stroke()}a.restore()}(i.x(k),_,j),k=((e,t,s,a)=>e===(a?"left":"right")?s:"center"===e?(t+s)/2:t)(N,k+x+m,g?k+w:this.right,e.rtl),function(e,t,s){dl(a,s.text,e,t+p/2,o,{strikethrough:s.hidden,textAlign:i.textAlign(s.textAlign)})}(i.x(k),_,j),g)u.x+=w+c;else if("string"!==typeof j.text){const e=o.lineHeight;u.y+=Xo(j,e)+c}else u.y+=b}),ir(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=vl(t.font),a=jl(t.padding);if(!t.display)return;const n=lr(e.rtl,this.left,this.width),l=this.ctx,r=t.position,i=s.size/2,o=a.top+i;let c,d=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),c=this.top+o,d=En(e.align,d,this.right-m);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=o+En(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const u=En(r,d,d+m);l.textAlign=n.textAlign(An(r)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=s.string,dl(l,t.text,u,c,s)}_computeTitleHeight(){const e=this.options.title,t=vl(e.font),s=jl(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,n;if(jn(e,this.left,this.right)&&jn(t,this.top,this.bottom))for(n=this.legendHitBoxes,s=0;s<n.length;++s)if(a=n[s],jn(e,a.left,a.left+a.width)&&jn(t,a.top,a.top+a.height))return this.legendItems[s];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const l=this._hoveredItem,r=(n=s,null!==(a=l)&&null!==n&&a.datasetIndex===n.datasetIndex&&a.index===n.index);l&&!r&&Ta(t.onLeave,[e,l,this],this),this._hoveredItem=s,s&&!r&&Ta(t.onHover,[e,s,this],this)}else s&&Ta(t.onClick,[e,s,this],this);var a,n}}function Xo(e,t){return t*(e.text?e.text.length:0)}var Zo={id:"legend",_element:Qo,start(e,t,s){const a=e.legend=new Qo({ctx:e.ctx,options:s,chart:e});ji.configure(e,a,s),ji.addBox(e,a)},stop(e){ji.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const a=e.legend;ji.configure(e,a,s),a.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const a=t.datasetIndex,n=s.chart;n.isDatasetVisible(a)?(n.hide(a),t.hidden=!0):(n.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:a,textAlign:n,color:l,useBorderRadius:r,borderRadius:i}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const o=e.controller.getStyle(s?0:void 0),c=jl(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:l,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:o.borderColor,pointStyle:a||o.pointStyle,rotation:o.rotation,textAlign:n||o.textAlign,borderRadius:r&&(i||o.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ec extends Oi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const a=Aa(s.text)?s.text.length:1;this._padding=jl(s.padding);const n=a*vl(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=n:this.width=n}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:s,bottom:a,right:n,options:l}=this,r=l.align;let i,o,c,d=0;return this.isHorizontal()?(o=En(r,s,n),c=t+e,i=n-s):("left"===l.position?(o=s+e,c=En(r,a,t),d=-.5*Ja):(o=n-e,c=En(r,t,a),d=.5*Ja),i=a-t),{titleX:o,titleY:c,maxWidth:i,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=vl(t.font),a=s.lineHeight/2+this._padding.top,{titleX:n,titleY:l,maxWidth:r,rotation:i}=this._drawArgs(a);dl(e,t.text,0,0,s,{color:t.color,maxWidth:r,rotation:i,textAlign:An(t.align),textBaseline:"middle",translation:[n,l]})}}var tc={id:"title",_element:ec,start(e,t,s){!function(e,t){const s=new ec({ctx:e.ctx,options:t,chart:e});ji.configure(e,s,t),ji.addBox(e,s),e.titleBlock=s}(e,s)},stop(e){const t=e.titleBlock;ji.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const a=e.titleBlock;ji.configure(e,a,s),a.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const sc={average(e){if(!e.length)return!1;let t,s,a=new Set,n=0,l=0;for(t=0,s=e.length;t<s;++t){const s=e[t].element;if(s&&s.hasValue()){const e=s.tooltipPosition();a.add(e.x),n+=e.y,++l}}if(0===l||0===a.size)return!1;return{x:[...a].reduce((e,t)=>e+t)/a.size,y:n/l}},nearest(e,t){if(!e.length)return!1;let s,a,n,l=t.x,r=t.y,i=Number.POSITIVE_INFINITY;for(s=0,a=e.length;s<a;++s){const a=e[s].element;if(a&&a.hasValue()){const e=hn(t,a.getCenterPoint());e<i&&(i=e,n=a)}}if(n){const e=n.tooltipPosition();l=e.x,r=e.y}return{x:l,y:r}}};function ac(e,t){return t&&(Aa(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function nc(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function lc(e,t){const{element:s,datasetIndex:a,index:n}=t,l=e.getDatasetMeta(a).controller,{label:r,value:i}=l.getLabelAndValue(n);return{chart:e,label:r,parsed:l.getParsed(n),raw:e.data.datasets[a].data[n],formattedValue:i,dataset:l.getDataset(),dataIndex:n,datasetIndex:a,element:s}}function rc(e,t){const s=e.chart.ctx,{body:a,footer:n,title:l}=e,{boxWidth:r,boxHeight:i}=t,o=vl(t.bodyFont),c=vl(t.titleFont),d=vl(t.footerFont),m=l.length,u=n.length,x=a.length,h=jl(t.padding);let p=h.height,g=0,f=a.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(f+=e.beforeBody.length+e.afterBody.length,m&&(p+=m*c.lineHeight+(m-1)*t.titleSpacing+t.titleMarginBottom),f){p+=x*(t.displayColors?Math.max(i,o.lineHeight):o.lineHeight)+(f-x)*o.lineHeight+(f-1)*t.bodySpacing}u&&(p+=t.footerMarginTop+u*d.lineHeight+(u-1)*t.footerSpacing);let b=0;const j=function(e){g=Math.max(g,s.measureText(e).width+b)};return s.save(),s.font=c.string,Ra(e.title,j),s.font=o.string,Ra(e.beforeBody.concat(e.afterBody),j),b=t.displayColors?r+2+t.boxPadding:0,Ra(a,e=>{Ra(e.before,j),Ra(e.lines,j),Ra(e.after,j)}),b=0,s.font=d.string,Ra(e.footer,j),s.restore(),g+=h.width,{width:g,height:p}}function ic(e,t,s,a){const{x:n,width:l}=s,{width:r,chartArea:{left:i,right:o}}=e;let c="center";return"center"===a?c=n<=(i+o)/2?"left":"right":n<=l/2?c="left":n>=r-l/2&&(c="right"),function(e,t,s,a){const{x:n,width:l}=a,r=s.caretSize+s.caretPadding;return"left"===e&&n+l+r>t.width||"right"===e&&n-l-r<0||void 0}(c,e,t,s)&&(c="center"),c}function oc(e,t,s){const a=s.yAlign||t.yAlign||function(e,t){const{y:s,height:a}=t;return s<a/2?"top":s>e.height-a/2?"bottom":"center"}(e,s);return{xAlign:s.xAlign||t.xAlign||ic(e,t,s,a),yAlign:a}}function cc(e,t,s,a){const{caretSize:n,caretPadding:l,cornerRadius:r}=e,{xAlign:i,yAlign:o}=s,c=n+l,{topLeft:d,topRight:m,bottomLeft:u,bottomRight:x}=bl(r);let h=function(e,t){let{x:s,width:a}=e;return"right"===t?s-=a:"center"===t&&(s-=a/2),s}(t,i);const p=function(e,t,s){let{y:a,height:n}=e;return"top"===t?a+=s:a-="bottom"===t?n+s:n/2,a}(t,o,c);return"center"===o?"left"===i?h+=c:"right"===i&&(h-=c):"left"===i?h-=Math.max(d,u)+n:"right"===i&&(h+=Math.max(m,x)+n),{x:bn(h,0,a.width-t.width),y:bn(p,0,a.height-t.height)}}function dc(e,t,s){const a=jl(s.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-a.right:e.x+a.left}function mc(e){return ac([],nc(e))}function uc(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const xc={beforeTitle:_a,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,a=s?s.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return s[t.dataIndex]}return""},afterTitle:_a,beforeBody:_a,beforeLabel:_a,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return Sa(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:_a,afterBody:_a,beforeFooter:_a,footer:_a,afterFooter:_a};function hc(e,t,s,a){const n=e[t].call(s,a);return"undefined"===typeof n?xc[t].call(s,a):n}class pc extends Oi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,n=new Nr(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,s=this._tooltipItems,Nl(e,{tooltip:t,tooltipItems:s,type:"tooltip"})));var e,t,s}getTitle(e,t){const{callbacks:s}=t,a=hc(s,"beforeTitle",this,e),n=hc(s,"title",this,e),l=hc(s,"afterTitle",this,e);let r=[];return r=ac(r,nc(a)),r=ac(r,nc(n)),r=ac(r,nc(l)),r}getBeforeBody(e,t){return mc(hc(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return Ra(e,e=>{const t={before:[],lines:[],after:[]},n=uc(s,e);ac(t.before,nc(hc(n,"beforeLabel",this,e))),ac(t.lines,hc(n,"label",this,e)),ac(t.after,nc(hc(n,"afterLabel",this,e))),a.push(t)}),a}getAfterBody(e,t){return mc(hc(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=hc(s,"beforeFooter",this,e),n=hc(s,"footer",this,e),l=hc(s,"afterFooter",this,e);let r=[];return r=ac(r,nc(a)),r=ac(r,nc(n)),r=ac(r,nc(l)),r}_createItems(e){const t=this._active,s=this.chart.data,a=[],n=[],l=[];let r,i,o=[];for(r=0,i=t.length;r<i;++r)o.push(lc(this.chart,t[r]));return e.filter&&(o=o.filter((t,a,n)=>e.filter(t,a,n,s))),e.itemSort&&(o=o.sort((t,a)=>e.itemSort(t,a,s))),Ra(o,t=>{const s=uc(e.callbacks,t);a.push(hc(s,"labelColor",this,t)),n.push(hc(s,"labelPointStyle",this,t)),l.push(hc(s,"labelTextColor",this,t))}),this.labelColors=a,this.labelPointStyles=n,this.labelTextColors=l,this.dataPoints=o,o}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let n,l=[];if(a.length){const e=sc[s.position].call(this,a,this._eventPosition);l=this._createItems(s),this.title=this.getTitle(l,s),this.beforeBody=this.getBeforeBody(l,s),this.body=this.getBody(l,s),this.afterBody=this.getAfterBody(l,s),this.footer=this.getFooter(l,s);const t=this._size=rc(this,s),r=Object.assign({},e,t),i=oc(this.chart,s,r),o=cc(s,r,i,this.chart);this.xAlign=i.xAlign,this.yAlign=i.yAlign,n={opacity:1,x:o.x,y:o.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=l,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const n=this.getCaretPosition(e,s,a);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:n}=this,{caretSize:l,cornerRadius:r}=s,{topLeft:i,topRight:o,bottomLeft:c,bottomRight:d}=bl(r),{x:m,y:u}=e,{width:x,height:h}=t;let p,g,f,b,j,v;return"center"===n?(j=u+h/2,"left"===a?(p=m,g=p-l,b=j+l,v=j-l):(p=m+x,g=p+l,b=j-l,v=j+l),f=p):(g="left"===a?m+Math.max(i,c)+l:"right"===a?m+x-Math.max(o,d)-l:this.caretX,"top"===n?(b=u,j=b-l,p=g-l,f=g+l):(b=u+h,j=b+l,p=g+l,f=g-l),v=b),{x1:p,x2:g,x3:f,y1:b,y2:j,y3:v}}drawTitle(e,t,s){const a=this.title,n=a.length;let l,r,i;if(n){const o=lr(s.rtl,this.x,this.width);for(e.x=dc(this,s.titleAlign,s),t.textAlign=o.textAlign(s.titleAlign),t.textBaseline="middle",l=vl(s.titleFont),r=s.titleSpacing,t.fillStyle=s.titleColor,t.font=l.string,i=0;i<n;++i)t.fillText(a[i],o.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r,i+1===n&&(e.y+=s.titleMarginBottom-r)}}_drawColorBox(e,t,s,a,n){const l=this.labelColors[s],r=this.labelPointStyles[s],{boxHeight:i,boxWidth:o}=n,c=vl(n.bodyFont),d=dc(this,"left",n),m=a.x(d),u=i<c.lineHeight?(c.lineHeight-i)/2:0,x=t.y+u;if(n.usePointStyle){const t={radius:Math.min(o,i)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},s=a.leftForLtr(m,o)+o/2,c=x+i/2;e.strokeStyle=n.multiKeyBackground,e.fillStyle=n.multiKeyBackground,tl(e,t,s,c),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,tl(e,t,s,c)}else{e.lineWidth=Ea(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const t=a.leftForLtr(m,o),s=a.leftForLtr(a.xPlus(m,1),o-2),r=bl(l.borderRadius);Object.values(r).some(e=>0!==e)?(e.beginPath(),e.fillStyle=n.multiKeyBackground,ml(e,{x:t,y:x,w:o,h:i,radius:r}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),ml(e,{x:s,y:x+1,w:o-2,h:i-2,radius:r}),e.fill()):(e.fillStyle=n.multiKeyBackground,e.fillRect(t,x,o,i),e.strokeRect(t,x,o,i),e.fillStyle=l.backgroundColor,e.fillRect(s,x+1,o-2,i-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:n,bodyAlign:l,displayColors:r,boxHeight:i,boxWidth:o,boxPadding:c}=s,d=vl(s.bodyFont);let m=d.lineHeight,u=0;const x=lr(s.rtl,this.x,this.width),h=function(s){t.fillText(s,x.x(e.x+u),e.y+m/2),e.y+=m+n},p=x.textAlign(l);let g,f,b,j,v,y,N;for(t.textAlign=l,t.textBaseline="middle",t.font=d.string,e.x=dc(this,p,s),t.fillStyle=s.bodyColor,Ra(this.beforeBody,h),u=r&&"right"!==p?"center"===l?o/2+c:o+2+c:0,j=0,y=a.length;j<y;++j){for(g=a[j],f=this.labelTextColors[j],t.fillStyle=f,Ra(g.before,h),b=g.lines,r&&b.length&&(this._drawColorBox(t,e,j,x,s),m=Math.max(d.lineHeight,i)),v=0,N=b.length;v<N;++v)h(b[v]),m=d.lineHeight;Ra(g.after,h)}u=0,m=d.lineHeight,Ra(this.afterBody,h),e.y-=n}drawFooter(e,t,s){const a=this.footer,n=a.length;let l,r;if(n){const i=lr(s.rtl,this.x,this.width);for(e.x=dc(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=i.textAlign(s.footerAlign),t.textBaseline="middle",l=vl(s.footerFont),t.fillStyle=s.footerColor,t.font=l.string,r=0;r<n;++r)t.fillText(a[r],i.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:n,yAlign:l}=this,{x:r,y:i}=e,{width:o,height:c}=s,{topLeft:d,topRight:m,bottomLeft:u,bottomRight:x}=bl(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(r+d,i),"top"===l&&this.drawCaret(e,t,s,a),t.lineTo(r+o-m,i),t.quadraticCurveTo(r+o,i,r+o,i+m),"center"===l&&"right"===n&&this.drawCaret(e,t,s,a),t.lineTo(r+o,i+c-x),t.quadraticCurveTo(r+o,i+c,r+o-x,i+c),"bottom"===l&&this.drawCaret(e,t,s,a),t.lineTo(r+u,i+c),t.quadraticCurveTo(r,i+c,r,i+c-u),"center"===l&&"left"===n&&this.drawCaret(e,t,s,a),t.lineTo(r,i+d),t.quadraticCurveTo(r,i,r+d,i),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,n=s&&s.y;if(a||n){const s=sc[e.position].call(this,this._active,this._eventPosition);if(!s)return;const l=this._size=rc(this,e),r=Object.assign({},s,this._size),i=oc(t,e,r),o=cc(e,r,i,t);a._to===o.x&&n._to===o.y||(this.xAlign=i.xAlign,this.yAlign=i.yAlign,this.width=l.width,this.height=l.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},n={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const l=jl(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=s,this.drawBackground(n,e,a,t),rr(e,t.textDirection),n.y+=l.top,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),ir(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(e=>{let{datasetIndex:t,index:s}=e;const a=this.chart.getDatasetMeta(t);if(!a)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:a.data[s],index:s}}),n=!Da(s,a),l=this._positionChanged(a,t);(n||l)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,n=this._active||[],l=this._getActiveElements(e,n,t,s),r=this._positionChanged(l,e),i=t||!Da(l,n)||r;return i&&(this._active=l,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),i}_getActiveElements(e,t,s,a){const n=this.options;if("mouseout"===e.type)return[];if(!a)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const l=this.chart.getElementsAtEventForMode(e,n.mode,n,s);return n.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:s,caretY:a,options:n}=this,l=sc[n.position].call(this,e,t);return!1!==l&&(s!==l.x||a!==l.y)}}ze(pc,"positioners",sc);var gc={id:"tooltip",_element:pc,positioners:sc,afterInit(e,t,s){s&&(e.tooltip=new pc({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Ue(Ue({},s),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xc},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function fc(e,t,s,a){const n=e.indexOf(t);if(-1===n)return((e,t,s,a)=>("string"===typeof t?(s=e.push(t)-1,a.unshift({index:s,label:t})):isNaN(t)&&(s=null),s))(e,t,s,a);return n!==e.lastIndexOf(t)?s:n}function bc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class jc extends Yi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:s,label:a}of t)e[s]===a&&e.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Sa(e))return null;const s=this.getLabels();return((e,t)=>null===e?null:bn(Math.round(e),0,t))(t=isFinite(t)&&s[t]===e?t:fc(s,e,Pa(t,e),this._addedLabels),s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let n=this.getLabels();n=0===e&&t===n.length-1?n:n.slice(e,t+1),this._valueRange=Math.max(n.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let l=e;l<=t;l++)a.push({value:l});return a}getLabelForValue(e){return bc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function vc(e,t){const s=[],{bounds:a,step:n,min:l,max:r,precision:i,count:o,maxTicks:c,maxDigits:d,includeBounds:m}=e,u=n||1,x=c-1,{min:h,max:p}=t,g=!Sa(l),f=!Sa(r),b=!Sa(o),j=(p-h)/(d+1);let v,y,N,w,k=rn((p-h)/x/u)*u;if(k<1e-14&&!g&&!f)return[{value:h},{value:p}];w=Math.ceil(p/k)-Math.floor(h/k),w>x&&(k=rn(w*k/x/u)*u),Sa(i)||(v=Math.pow(10,i),k=Math.ceil(k*v)/v),"ticks"===a?(y=Math.floor(h/k)*k,N=Math.ceil(p/k)*k):(y=h,N=p),g&&f&&n&&function(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}((r-l)/n,k/1e3)?(w=Math.round(Math.min((r-l)/k,c)),k=(r-l)/w,y=l,N=r):b?(y=g?l:y,N=f?r:N,w=o-1,k=(N-y)/w):(w=(N-y)/k,w=ln(w,Math.round(w),k/1e3)?Math.round(w):Math.ceil(w));const _=Math.max(un(k),un(y));v=Math.pow(10,Sa(i)?_:i),y=Math.round(y*v)/v,N=Math.round(N*v)/v;let C=0;for(g&&(m&&y!==l?(s.push({value:l}),y<l&&C++,ln(Math.round((y+C*k)*v)/v,l,yc(l,j,e))&&C++):y<l&&C++);C<w;++C){const e=Math.round((y+C*k)*v)/v;if(f&&e>r)break;s.push({value:e})}return f&&m&&N!==r?s.length&&ln(s[s.length-1].value,r,yc(r,j,e))?s[s.length-1].value=r:s.push({value:r}):f&&N!==r||s.push({value:N}),s}function yc(e,t,s){let{horizontal:a,minRotation:n}=s;const l=dn(n),r=(a?Math.sin(l):Math.cos(l))||.001,i=.75*t*(""+e).length;return Math.min(t/r,i)}ze(jc,"id","category"),ze(jc,"defaults",{ticks:{callback:bc}});class Nc extends Yi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Sa(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:n}=this;const l=e=>a=t?a:e,r=e=>n=s?n:e;if(e){const e=nn(a),t=nn(n);e<0&&t<0?r(0):e>0&&t>0&&l(0)}if(a===n){let t=0===n?1:Math.abs(.05*n);r(n+t),e||l(a-t)}this.min=a,this.max=n}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:s,stepSize:a}=e;return a?(t=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(a," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),s=s||11),s&&(t=Math.min(s,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a=vc({maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&cn(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Hn(e,this.chart.options.locale,this.options.ticks.format)}}class wc extends Nc{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ma(e)?e:0,this.max=Ma(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=dn(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,n.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ze(wc,"id","linear"),ze(wc,"defaults",{ticks:{callback:Wn.formatters.numeric}});const kc=e=>Math.floor(an(e)),_c=(e,t)=>Math.pow(10,kc(e)+t);function Cc(e){return 1===e/Math.pow(10,kc(e))}function Sc(e,t,s){const a=Math.pow(10,s),n=Math.floor(e/a);return Math.ceil(t/a)-n}function Ac(e,t){let{min:s,max:a}=t;s=Ia(e.min,s);const n=[],l=kc(s);let r=function(e,t){let s=kc(t-e);for(;Sc(e,t,s)>10;)s++;for(;Sc(e,t,s)<10;)s--;return Math.min(s,kc(e))}(s,a),i=r<0?Math.pow(10,Math.abs(r)):1;const o=Math.pow(10,r),c=l>r?Math.pow(10,l):0,d=Math.round((s-c)*i)/i,m=Math.floor((s-c)/o/10)*o*10;let u=Math.floor((d-m)/Math.pow(10,r)),x=Ia(e.min,Math.round((c+m+u*Math.pow(10,r))*i)/i);for(;x<a;)n.push({value:x,major:Cc(x),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(r++,u=2,i=r>=0?1:i),x=Math.round((c+m+u*Math.pow(10,r))*i)/i;const h=Ia(e.max,x);return n.push({value:h,major:Cc(h),significand:u}),n}class Ec extends Yi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=Nc.prototype.parse.apply(this,[e,t]);if(0!==s)return Ma(s)&&s>0?s:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Ma(e)?Math.max(0,e):null,this.max=Ma(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ma(this._userMin)&&(this.min=e===_c(this.min,0)?_c(this.min,-1):_c(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,a=this.max;const n=t=>s=e?s:t,l=e=>a=t?a:e;s===a&&(s<=0?(n(1),l(10)):(n(_c(s,-1)),l(_c(a,1)))),s<=0&&n(_c(a,-1)),a<=0&&l(_c(s,1)),this.min=s,this.max=a}buildTicks(){const e=this.options,t=Ac({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&cn(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":Hn(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=an(e),this._valueRange=an(this.max)-an(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(an(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Mc(e){const t=e.ticks;if(t.display&&e.display){const e=jl(t.backdropPadding);return Pa(t.font&&t.font.size,Kn.font.size)+e.height}return 0}function Ic(e,t,s){return s=Aa(s)?s:[s],{w:Xn(e,t.string,s),h:s.length*t.lineHeight}}function Pc(e,t,s,a,n){return e===a||e===n?{start:t-s/2,end:t+s/2}:e<a||e>n?{start:t-s,end:t}:{start:t,end:t+s}}function Lc(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),a=[],n=[],l=e._pointLabels.length,r=e.options.pointLabels,i=r.centerPointLabels?Ja/l:0;for(let o=0;o<l;o++){const l=r.setContext(e.getPointLabelContext(o));n[o]=l.padding;const c=e.getPointPosition(o,e.drawingArea+n[o],i),d=vl(l.font),m=Ic(e.ctx,d,e._pointLabels[o]);a[o]=m;const u=gn(e.getIndexAngle(o)+i),x=Math.round(mn(u));Tc(s,t,u,Pc(x,c.x,m.w,0,180),Pc(x,c.y,m.h,90,270))}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=function(e,t,s){const a=[],n=e._pointLabels.length,l=e.options,{centerPointLabels:r,display:i}=l.pointLabels,o={extra:Mc(l)/2,additionalAngle:r?Ja/n:0};let c;for(let d=0;d<n;d++){o.padding=s[d],o.size=t[d];const n=Rc(e,d,o);a.push(n),"auto"===i&&(n.visible=Dc(n,c),n.visible&&(c=n))}return a}(e,a,n)}function Tc(e,t,s,a,n){const l=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let i=0,o=0;a.start<t.l?(i=(t.l-a.start)/l,e.l=Math.min(e.l,t.l-i)):a.end>t.r&&(i=(a.end-t.r)/l,e.r=Math.max(e.r,t.r+i)),n.start<t.t?(o=(t.t-n.start)/r,e.t=Math.min(e.t,t.t-o)):n.end>t.b&&(o=(n.end-t.b)/r,e.b=Math.max(e.b,t.b+o))}function Rc(e,t,s){const a=e.drawingArea,{extra:n,additionalAngle:l,padding:r,size:i}=s,o=e.getPointPosition(t,a+n+r,l),c=Math.round(mn(gn(o.angle+en))),d=function(e,t,s){90===s||270===s?e-=t/2:(s>270||s<90)&&(e-=t);return e}(o.y,i.h,c),m=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),u=function(e,t,s){"right"===s?e-=t:"center"===s&&(e-=t/2);return e}(o.x,i.w,m);return{visible:!0,x:o.x,y:d,textAlign:m,left:u,top:d,right:u+i.w,bottom:d+i.h}}function Dc(e,t){if(!t)return!0;const{left:s,top:a,right:n,bottom:l}=e;return!(al({x:s,y:a},t)||al({x:s,y:l},t)||al({x:n,y:a},t)||al({x:n,y:l},t))}function Oc(e,t,s){const{left:a,top:n,right:l,bottom:r}=s,{backdropColor:i}=t;if(!Sa(i)){const s=bl(t.borderRadius),o=jl(t.backdropPadding);e.fillStyle=i;const c=a-o.left,d=n-o.top,m=l-a+o.width,u=r-n+o.height;Object.values(s).some(e=>0!==e)?(e.beginPath(),ml(e,{x:c,y:d,w:m,h:u,radius:s}),e.fill()):e.fillRect(c,d,m,u)}}function Fc(e,t,s,a){const{ctx:n}=e;if(s)n.arc(e.xCenter,e.yCenter,t,0,Ka);else{let s=e.getPointPosition(0,t);n.moveTo(s.x,s.y);for(let l=1;l<a;l++)s=e.getPointPosition(l,t),n.lineTo(s.x,s.y)}}ze(Ec,"id","logarithmic"),ze(Ec,"defaults",{ticks:{callback:Wn.formatters.logarithmic,major:{enabled:!0}}});class zc extends Nc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=jl(Mc(this.options)/2),t=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(t,s)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Ma(e)&&!isNaN(e)?e:0,this.max=Ma(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Mc(this.options))}generateTickLabels(e){Nc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const s=Ta(this.options.pointLabels.callback,[e,t],this);return s||0===s?s:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?Lc(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,s,a){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,s,a))}getIndexAngle(e){return gn(e*(Ka/(this._pointLabels.length||1))+dn(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(Sa(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Sa(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const s=t[e];return function(e,t,s){return Nl(e,{label:s,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}getPointPosition(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=this.getIndexAngle(e)-en+s;return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter,angle:a}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:s,right:a,bottom:n}=this._pointLabelItems[e];return{left:t,top:s,right:a,bottom:n}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),Fc(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:a,border:n}=t,l=this._pointLabels.length;let r,i,o;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:a}}=e;for(let n=t-1;n>=0;n--){const t=e._pointLabelItems[n];if(!t.visible)continue;const l=a.setContext(e.getPointLabelContext(n));Oc(s,l,t);const r=vl(l.font),{x:i,y:o,textAlign:c}=t;dl(s,e._pointLabels[n],i,o+r.lineHeight/2,r,{color:l.color,textAlign:c,textBaseline:"middle"})}}(this,l),a.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){i=this.getDistanceFromCenterForValue(e.value);const s=this.getContext(t),r=a.setContext(s),o=n.setContext(s);!function(e,t,s,a,n){const l=e.ctx,r=t.circular,{color:i,lineWidth:o}=t;!r&&!a||!i||!o||s<0||(l.save(),l.strokeStyle=i,l.lineWidth=o,l.setLineDash(n.dash||[]),l.lineDashOffset=n.dashOffset,l.beginPath(),Fc(e,s,r,a),l.closePath(),l.stroke(),l.restore())}(this,r,i,l,o)}}),s.display){for(e.save(),r=l-1;r>=0;r--){const a=s.setContext(this.getPointLabelContext(r)),{color:n,lineWidth:l}=a;l&&n&&(e.lineWidth=l,e.strokeStyle=n,e.setLineDash(a.borderDash),e.lineDashOffset=a.borderDashOffset,i=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),o=this.getPointPosition(r,i),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(o.x,o.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,s=t.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let n,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,r)=>{if(0===r&&this.min>=0&&!t.reverse)return;const i=s.setContext(this.getContext(r)),o=vl(i.font);if(n=this.getDistanceFromCenterForValue(this.ticks[r].value),i.showLabelBackdrop){e.font=o.string,l=e.measureText(a.label).width,e.fillStyle=i.backdropColor;const t=jl(i.backdropPadding);e.fillRect(-l/2-t.left,-n-o.size/2-t.top,l+t.width,o.size+t.height)}dl(e,a.label,0,-n,o,{color:i.color,strokeColor:i.textStrokeColor,strokeWidth:i.textStrokeWidth})}),e.restore()}drawTitle(){}}ze(zc,"id","radialLinear"),ze(zc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Wn.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),ze(zc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ze(zc,"descriptors",{angleLines:{_fallback:"grid"}});const Bc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Uc=Object.keys(Bc);function Hc(e,t){return e-t}function Vc(e,t){if(Sa(t))return null;const s=e._adapter,{parser:a,round:n,isoWeekday:l}=e._parseOpts;let r=t;return"function"===typeof a&&(r=a(r)),Ma(r)||(r="string"===typeof a?s.parse(r,a):s.parse(r)),null===r?null:(n&&(r="week"!==n||!on(l)&&!0!==l?s.startOf(r,n):s.startOf(r,"isoWeek",l)),+r)}function Wc(e,t,s,a){const n=Uc.length;for(let l=Uc.indexOf(e);l<n-1;++l){const e=Bc[Uc[l]],n=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((s-t)/(n*e.size))<=a)return Uc[l]}return Uc[n-1]}function Gc(e,t,s){if(s){if(s.length){const{lo:a,hi:n}=vn(s,t);e[s[a]>=t?s[a]:s[n]]=!0}}else e[t]=!0}function qc(e,t,s){const a=[],n={},l=t.length;let r,i;for(r=0;r<l;++r)i=t[r],n[i]=r,a.push({value:i,major:!1});return 0!==l&&s?function(e,t,s,a){const n=e._adapter,l=+n.startOf(t[0].value,a),r=t[t.length-1].value;let i,o;for(i=l;i<=r;i=+n.add(i,1,a))o=s[i],o>=0&&(t[o].major=!0);return t}(e,a,n,s):a}class Yc extends Yi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=e.time||(e.time={}),a=this._adapter=new Zr(e.adapters.date);a.init(t),Ua(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Vc(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:n,minDefined:l,maxDefined:r}=this.getUserBounds();function i(e){l||isNaN(e.min)||(a=Math.min(a,e.min)),r||isNaN(e.max)||(n=Math.max(n,e.max))}l&&r||(i(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||i(this.getMinMax(!1))),a=Ma(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),n=Ma(n)&&!isNaN(n)?n:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,n-1),this.max=Math.max(a+1,n)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const n=this.min,l=function(e,t,s){let a=0,n=e.length;for(;a<n&&e[a]<t;)a++;for(;n>a&&e[n-1]>s;)n--;return a>0||n<e.length?e.slice(a,n):e}(a,n,this.max);return this._unit=t.unit||(s.autoSkip?Wc(t.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(e,t,s,a,n){for(let l=Uc.length-1;l>=Uc.indexOf(s);l--){const s=Uc[l];if(Bc[s].common&&e._adapter.diff(n,a,s)>=t-1)return s}return Uc[s?Uc.indexOf(s):0]}(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function(e){for(let t=Uc.indexOf(e)+1,s=Uc.length;t<s;++t)if(Bc[Uc[t]].common)return Uc[t]}(this._unit):void 0,this.initOffsets(a),e.reverse&&l.reverse(),qc(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0,n=0;this.options.offset&&s.length&&(e=this.getDecimalForValue(s[0]),a=1===s.length?1-e:(this.getDecimalForValue(s[1])-e)/2,t=this.getDecimalForValue(s[s.length-1]),n=1===s.length?t:(t-this.getDecimalForValue(s[s.length-2]))/2);const l=s.length<3?.5:.25;a=bn(a,0,l),n=bn(n,0,l),this._offsets={start:a,end:n,factor:1/(a+1+n)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,n=a.time,l=n.unit||Wc(n.minUnit,t,s,this._getLabelCapacity(t)),r=Pa(a.ticks.stepSize,1),i="week"===l&&n.isoWeekday,o=on(i)||!0===i,c={};let d,m,u=t;if(o&&(u=+e.startOf(u,"isoWeek",i)),u=+e.startOf(u,o?"day":l),e.diff(s,t,l)>1e5*r)throw new Error(t+" and "+s+" are too far apart with stepSize of "+r+" "+l);const x="data"===a.ticks.source&&this.getDataTimestamps();for(d=u,m=0;d<s;d=+e.add(d,r,l),m++)Gc(c,d,x);return d!==s&&"ticks"!==a.bounds&&1!==m||Gc(c,d,x),Object.keys(c).sort(Hc).map(e=>+e)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,a=this._unit,n=t||s[a];return this._adapter.format(e,n)}_tickFormatFunction(e,t,s,a){const n=this.options,l=n.ticks.callback;if(l)return Ta(l,[e,t,s],this);const r=n.time.displayFormats,i=this._unit,o=this._majorUnit,c=i&&r[i],d=o&&r[o],m=s[t],u=o&&d&&m&&m.major;return this._adapter.format(e,a||(u?d:c))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=dn(this.isHorizontal()?t.maxRotation:t.minRotation),n=Math.cos(a),l=Math.sin(a),r=this._resolveTickFontOptions(0).size;return{w:s*n+r*l,h:s*l+r*n}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,n=this._tickFormatFunction(e,0,qc(this,[e],this._majorUnit),a),l=this._getLabelSize(n),r=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,s=this._cache.data||[];if(s.length)return s;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,t=a.length;e<t;++e)s=s.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(Vc(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _n(e.sort(Hc))}}function $c(e,t,s){let a,n,l,r,i=0,o=e.length-1;s?(t>=e[i].pos&&t<=e[o].pos&&({lo:i,hi:o}=yn(e,"pos",t)),({pos:a,time:l}=e[i]),({pos:n,time:r}=e[o])):(t>=e[i].time&&t<=e[o].time&&({lo:i,hi:o}=yn(e,"time",t)),({time:a,pos:l}=e[i]),({time:n,pos:r}=e[o]));const c=n-a;return c?l+(r-l)*(t-a)/c:l}ze(Yc,"id","time"),ze(Yc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Jc extends Yc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=$c(t,this.min),this._tableRange=$c(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],n=[];let l,r,i,o,c;for(l=0,r=e.length;l<r;++l)o=e[l],o>=t&&o<=s&&a.push(o);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(l=0,r=a.length;l<r;++l)c=a[l+1],i=a[l-1],o=a[l],Math.round((c+i)/2)!==o&&n.push({time:o,pos:l/(r-1)});return n}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return s.includes(e)&&s.length||s.splice(0,0,e),s.includes(t)&&1!==s.length||s.push(t),s.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=t.length&&s.length?this.normalize(t.concat(s)):t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return($c(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return $c(this._table,s*this._tableRange+this._minPos,!0)}}ze(Jc,"id","timeseries"),ze(Jc,"defaults",Yc.defaults);const Kc=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],Qc="label";function Xc(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Zc(e,t){e.labels=t}function ed(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qc;const a=[];e.datasets=t.map(t=>{const n=e.datasets.find(e=>e[s]===t[s]);return n&&t.data&&!a.includes(n)?(a.push(n),Object.assign(n,t),n):Ue({},t)})}function td(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qc;const s={labels:[],datasets:[]};return Zc(s,e.labels),ed(s,e.datasets,t),s}function sd(e,t){const{height:s=150,width:a=300,redraw:l=!1,datasetIdKey:r,type:i,data:o,options:c,plugins:d=[],fallbackContent:m,updateMode:u}=e,x=He(e,Kc),h=(0,n.useRef)(null),p=(0,n.useRef)(null),g=()=>{h.current&&(p.current=new _o(h.current,{type:i,data:td(o,r),options:c&&Ue({},c),plugins:d}),Xc(t,p.current))},f=()=>{Xc(t,null),p.current&&(p.current.destroy(),p.current=null)};return(0,n.useEffect)(()=>{!l&&p.current&&c&&function(e,t){const s=e.options;s&&t&&Object.assign(s,t)}(p.current,c)},[l,c]),(0,n.useEffect)(()=>{!l&&p.current&&Zc(p.current.config.data,o.labels)},[l,o.labels]),(0,n.useEffect)(()=>{!l&&p.current&&o.datasets&&ed(p.current.config.data,o.datasets,r)},[l,o.datasets]),(0,n.useEffect)(()=>{p.current&&(l?(f(),setTimeout(g)):p.current.update(u))},[l,c,o.labels,o.datasets,u]),(0,n.useEffect)(()=>{p.current&&(f(),setTimeout(g))},[i]),(0,n.useEffect)(()=>(g(),()=>f()),[]),n.createElement("canvas",Ue({ref:h,role:"img",height:s,width:a},x),m)}const ad=(0,n.forwardRef)(sd);function nd(e,t){return _o.register(t),(0,n.forwardRef)((t,s)=>n.createElement(ad,Ue(Ue({},t),{},{ref:s,type:e})))}const ld=nd("line",qr),rd=nd("bar",Vr),id=nd("doughnut",Gr),od=Ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),cd=Ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),dd=Ge("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),md=Ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ud=Ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),xd=Ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),hd=Ge("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),pd=Ge("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),gd=Ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fd=Ge("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),bd=()=>{var e,t;const[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)(1),[f,b]=(0,n.useState)(0),[j,v]=(0,n.useState)(null),[y,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),[_,C]=(0,n.useState)(!1),[S,A]=(0,n.useState)(!1),[E,M]=(0,n.useState)(null),[I,P]=(0,n.useState)({email:"",first_name:"",last_name:"",role:"user",status:"active",is_admin:!1}),[L,T]=(0,n.useState)({});(0,n.useEffect)(()=>{R()},[x,i,c,m]);const R=async()=>{try{r(!0);const e=new URLSearchParams({page:x.toString(),limit:"10"});i&&e.append("search",i),c&&e.append("role",c),m&&e.append("status",m);const t=await fetch("http://localhost:8000/api/admin/users?".concat(e)),s=await t.json();t.ok?(a(s.users||[]),g(s.total_pages||1),b(s.total||0)):console.error("Error loading users:",s.detail)}catch(e){console.error("Error loading users:",e)}finally{r(!1)}},D=(e,t)=>{"role"===e?d(t):"status"===e&&u(t),h(1)},O=e=>{const{name:t,value:s,type:a,checked:n}=e.target;P(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s})),L[t]&&T(e=>Ue(Ue({},e),{},{[t]:""}))},F=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"moderator":return"bg-yellow-100 text-yellow-800";case"user":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},z=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800"}},B=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"User Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage users, roles, and permissions"})]}),(0,Te.jsxs)("button",{onClick:()=>{P({email:"",first_name:"",last_name:"",role:"user",status:"active",is_admin:!1}),T({}),k(!0)},className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors flex items-center space-x-2",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Add User"})]})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search users...",value:i,onChange:e=>{o(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("select",{value:c,onChange:e=>D("role",e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Roles"}),(0,Te.jsx)("option",{value:"admin",children:"Admin"}),(0,Te.jsx)("option",{value:"moderator",children:"Moderator"}),(0,Te.jsx)("option",{value:"user",children:"User"})]}),(0,Te.jsxs)("select",{value:m,onChange:e=>D("status",e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Status"}),(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Te.jsx)("option",{value:"suspended",children:"Suspended"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"})]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,Te.jsx)(ct,{className:"h-4 w-4 mr-2"}),f," total users"]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading users..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Last Login"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:s.map(e=>{var t,s;return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center",children:(0,Te.jsxs)("span",{className:"text-sm font-medium text-slate-600",children:[null===(t=e.first_name)||void 0===t?void 0:t.charAt(0),null===(s=e.last_name)||void 0===s?void 0:s.charAt(0)]})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsxs)("div",{className:"text-sm font-medium text-slate-900",children:[e.first_name," ",e.last_name]}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.email})]})]})}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(F(e.role)),children:e.role}),e.is_admin&&(0,Te.jsx)(ot,{className:"h-4 w-4 text-red-500 ml-1 inline"})]}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(z(e.status)),children:e.status})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:B(e.created_at)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.last_login?B(e.last_login):"Never"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{v(e),N(!0)})(e),className:"text-slate-600 hover:text-slate-900 p-1",title:"View Details",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{M(e),P({email:e.email,first_name:e.first_name,last_name:e.last_name,role:e.role,status:e.status,is_admin:e.is_admin}),C(!0)})(e),className:"text-sky-600 hover:text-sky-900 p-1",title:"Edit User",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{v(e),A(!0)})(e),className:"text-red-600 hover:text-red-900 p-1",title:"Delete User",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),p>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>h(e=>Math.max(e-1,1)),disabled:1===x,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>h(e=>Math.min(e+1,p)),disabled:x===p,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:x})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:p})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>h(e=>Math.max(e-1,1)),disabled:1===x,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>h(e=>Math.min(e+1,p)),disabled:x===p,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-5 w-5"})})]})})]})]})]})}),y&&j&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"User Details"}),(0,Te.jsx)("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"h-16 w-16 rounded-full bg-slate-200 flex items-center justify-center",children:(0,Te.jsxs)("span",{className:"text-xl font-medium text-slate-600",children:[null===(e=j.first_name)||void 0===e?void 0:e.charAt(0),null===(t=j.last_name)||void 0===t?void 0:t.charAt(0)]})}),(0,Te.jsxs)("div",{children:[(0,Te.jsxs)("h4",{className:"text-xl font-semibold text-slate-900",children:[j.first_name," ",j.last_name]}),(0,Te.jsx)("p",{className:"text-slate-600",children:j.email})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Role"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.role})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Status"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.status})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Created"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:B(j.created_at)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"text-sm font-medium text-slate-500",children:"Last Login"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.last_login?B(j.last_login):"Never"})]})]})]})]})}),(w||_)&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:E?"Edit User":"Create User"}),(0,Te.jsx)("button",{onClick:()=>{k(!1),C(!1),M(null),T({})},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return I.email||(e.email="Email is required"),I.first_name||(e.first_name="First name is required"),I.last_name||(e.last_name="Last name is required"),T(e),0===Object.keys(e).length})())try{const e=E?"http://localhost:8000/api/admin/users/".concat(E.id):"http://localhost:8000/api/admin/users",t=E?"PUT":"POST",s=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(I)}),a=await s.json();s.ok?(k(!1),C(!1),M(null),R()):(console.error("Error saving user:",a.detail),a.detail&&"object"===typeof a.detail&&T(a.detail))}catch(t){console.error("Error saving user:",t)}},className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),(0,Te.jsx)("input",{type:"email",name:"email",value:I.email,onChange:O,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 ".concat(L.email?"border-red-500":"border-slate-300"),disabled:!!E}),L.email&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:L.email})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"First Name *"}),(0,Te.jsx)("input",{type:"text",name:"first_name",value:I.first_name,onChange:O,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 ".concat(L.first_name?"border-red-500":"border-slate-300")}),L.first_name&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:L.first_name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",name:"last_name",value:I.last_name,onChange:O,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 ".concat(L.last_name?"border-red-500":"border-slate-300")}),L.last_name&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:L.last_name})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),(0,Te.jsxs)("select",{name:"role",value:I.role,onChange:O,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"user",children:"User"}),(0,Te.jsx)("option",{value:"moderator",children:"Moderator"}),(0,Te.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),(0,Te.jsxs)("select",{name:"status",value:I.status,onChange:O,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Te.jsx)("option",{value:"suspended",children:"Suspended"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"})]})]})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_admin",checked:I.is_admin,onChange:O,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("label",{className:"ml-2 block text-sm text-slate-700",children:"Admin privileges"})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>{k(!1),C(!1),M(null),T({})},className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:E?"Update User":"Create User"})]})]})]})}),S&&j&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Hs,{className:"h-5 w-5 text-red-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete User"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,Te.jsxs)("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to delete ",(0,Te.jsxs)("strong",{children:[j.first_name," ",j.last_name]}),"? This will permanently remove the user and all associated data."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>A(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:8000/api/admin/users/".concat(j.id),{method:"DELETE"});if(e.ok)A(!1),v(null),R();else{const t=await e.json();console.error("Error deleting user:",t.detail)}}catch(e){console.error("Error deleting user:",e)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete User"})]})]})})]})},jd=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(1),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)(0),[f,b]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!1),[y,N]=(0,n.useState)(null),[w,k]=(0,n.useState)(new Set),[_,C]=(0,n.useState)(null),[S,A]=(0,n.useState)({user_id:"",name:"",expires_in_days:""}),[E,M]=(0,n.useState)({});(0,n.useEffect)(()=>{I(),P()},[m,i,c]);const I=async()=>{try{r(!0);const e=new URLSearchParams({page:m.toString(),limit:"10"});c&&e.append("user_id",c);const s=await fetch("http://localhost:8000/api/admin/api-keys?".concat(e)),a=await s.json();s.ok?(t(a||[]),h(Math.ceil(a.length/10)),g(a.length)):console.error("Error loading API keys:",a.detail)}catch(e){console.error("Error loading API keys:",e)}finally{r(!1)}},P=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/users?limit=100"),t=await e.json();e.ok?a(t.users||[]):console.error("Error loading users:",t.detail)}catch(e){console.error("Error loading users:",e)}},L=e=>{const{name:t,value:s}=e.target;A(e=>Ue(Ue({},e),{},{[t]:s})),E[t]&&M(e=>Ue(Ue({},e),{},{[t]:""}))},T=e=>{const t=s.find(t=>t.id===e);return t?"".concat(t.first_name," ").concat(t.last_name):"Unknown User"},R=e=>{const t=s.find(t=>t.id===e);return t?t.email:"Unknown"},D=e=>e.is_active?e.expires_at&&new Date(e.expires_at)<new Date?(0,Te.jsx)(js,{className:"h-4 w-4 text-yellow-500"}):(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),O=e=>e.is_active?e.expires_at&&new Date(e.expires_at)<new Date?"Expired":"Active":"Inactive",F=e=>e.is_active?e.expires_at&&new Date(e.expires_at)<new Date?"text-yellow-600":"text-green-600":"text-red-600",z=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=e=>w.has(e.id)&&e.full_key||"sk-".concat(e.key_prefix,".").concat("\u2022".repeat(32));return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"API Key Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Generate and manage API keys for users"})]}),(0,Te.jsxs)("button",{onClick:()=>{A({user_id:"",name:"",expires_in_days:""}),M({}),b(!0)},className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors flex items-center space-x-2",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Generate Key"})]})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search API keys...",value:i,onChange:e=>{o(e.target.value),u(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("select",{value:c,onChange:e=>{d(e.target.value),u(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Users"}),s.map(e=>(0,Te.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (",e.email,")"]},e.id))]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,Te.jsx)(dd,{className:"h-4 w-4 mr-2"}),p," total keys"]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading API keys..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Key Name"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"API Key"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Expires"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(dd,{className:"h-4 w-4 text-slate-400 mr-2"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-900",children:e.name})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(St,{className:"h-4 w-4 text-slate-400 mr-2"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:T(e.user_id)}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:R(e.user_id)})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("code",{className:"text-sm font-mono text-slate-600 bg-slate-100 px-2 py-1 rounded",children:B(e)}),(0,Te.jsx)("button",{onClick:()=>{return t=e.id,void k(e=>{const s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s});var t},className:"text-slate-400 hover:text-slate-600",title:w.has(e.id)?"Hide key":"Show key",children:w.has(e.id)?(0,Te.jsx)(ps,{className:"h-4 w-4"}):(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(async(e,t)=>{try{await navigator.clipboard.writeText(e),C(t),setTimeout(()=>C(null),2e3)}catch(s){console.error("Failed to copy to clipboard:",s)}})(B(e),e.id),className:"text-slate-400 hover:text-slate-600",title:"Copy key",children:_===e.id?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Qt,{className:"h-4 w-4"})})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[D(e),(0,Te.jsx)("span",{className:"text-sm font-medium ".concat(F(e)),children:O(e)})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:z(e.created_at)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.expires_at?z(e.expires_at):"Never"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,Te.jsx)("button",{onClick:()=>(e=>{N(e),v(!0)})(e),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Key",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})})})]},e.id))})]})}),x>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===m,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>u(e=>Math.min(e+1,x)),disabled:m===x,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:m})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:x})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===m,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>u(e=>Math.min(e+1,x)),disabled:m===x,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-5 w-5"})})]})})]})]})]})}),f&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Generate API Key"}),(0,Te.jsx)("button",{onClick:()=>{b(!1),M({})},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return S.user_id||(e.user_id="User is required"),S.name||(e.name="Key name is required"),M(e),0===Object.keys(e).length})())try{const e=await fetch("http://localhost:8000/api/admin/api-keys",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}),t=await e.json();e.ok?(b(!1),I(),alert("API Key generated successfully!\n\nKey: ".concat(t.full_key,"\n\nPlease copy and save this key securely. It will not be shown again."))):(console.error("Error creating API key:",t.detail),t.detail&&"object"===typeof t.detail&&M(t.detail))}catch(t){console.error("Error creating API key:",t)}},className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"User *"}),(0,Te.jsxs)("select",{name:"user_id",value:S.user_id,onChange:L,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 ".concat(E.user_id?"border-red-500":"border-slate-300"),children:[(0,Te.jsx)("option",{value:"",children:"Select a user"}),s.map(e=>(0,Te.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name," (",e.email,")"]},e.id))]}),E.user_id&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:E.user_id})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Key Name *"}),(0,Te.jsx)("input",{type:"text",name:"name",value:S.name,onChange:L,placeholder:"e.g., Production API Key",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 ".concat(E.name?"border-red-500":"border-slate-300")}),E.name&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:E.name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Expires In (Days)"}),(0,Te.jsx)("input",{type:"number",name:"expires_in_days",value:S.expires_in_days,onChange:L,placeholder:"Leave empty for no expiration",min:"1",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty for no expiration"})]}),(0,Te.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,Te.jsxs)("div",{className:"flex items-start",children:[(0,Te.jsx)(js,{className:"h-4 w-4 text-yellow-600 mt-0.5 mr-2"}),(0,Te.jsxs)("div",{className:"text-sm text-yellow-800",children:[(0,Te.jsx)("p",{className:"font-medium",children:"Important:"}),(0,Te.jsx)("p",{children:"The API key will be shown only once after generation. Make sure to copy and save it securely."})]})]})}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>{b(!1),M({})},className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:"Generate Key"})]})]})]})}),j&&y&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Hs,{className:"h-5 w-5 text-red-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete API Key"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,Te.jsxs)("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to delete the API key ",(0,Te.jsxs)("strong",{children:['"',y.name,'"']}),"? This will immediately revoke access for any applications using this key."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:8000/api/admin/api-keys/".concat(y.id),{method:"DELETE"});if(e.ok)v(!1),N(null),I();else{const t=await e.json();console.error("Error deleting API key:",t.detail)}}catch(e){console.error("Error deleting API key:",e)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Key"})]})]})})]})},vd=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),yd=Ge("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Nd=e=>{let{caseData:t,onSave:s,onCancel:a,saving:l=!1}=e;const[r,i]=(0,n.useState)({title:"",suit_reference_number:"",date:"",presiding_judge:"",protagonist:"",antagonist:"",court_type:"",court_division:"",status:"",statutes_cited:"",cases_cited:"",lawyers:"",commentary:"",headnotes:"",town:"",region:"",dl_citation_no:"",file_url:"",judgement:"",year:"",type:"",firebase_url:"",summernote:"",detail_content:"",decision:"",citation:"",file_name:"",c_t:"",judgement_by:"",case_summary:"",area_of_law:"",keywords_phrases:"",published:!1,dl_type:"",academic_programme_id:"",opinion_by:"",conclusion:""});(0,n.useEffect)(()=>{t&&i({title:t.title||"",suit_reference_number:t.suit_reference_number||"",date:t.date?t.date.split("T")[0]:"",presiding_judge:t.presiding_judge||"",protagonist:t.protagonist||"",antagonist:t.antagonist||"",court_type:t.court_type||"",court_division:t.court_division||"",status:t.status||"",statutes_cited:t.statutes_cited||"",cases_cited:t.cases_cited||"",lawyers:t.lawyers||"",commentary:t.commentary||"",headnotes:t.headnotes||"",town:t.town||"",region:t.region||"",dl_citation_no:t.dl_citation_no||"",file_url:t.file_url||"",judgement:t.judgement||"",year:t.year||"",type:t.type||"",firebase_url:t.firebase_url||"",summernote:t.summernote||"",detail_content:t.detail_content||"",decision:t.decision||"",citation:t.citation||"",file_name:t.file_name||"",c_t:t.c_t||"",judgement_by:t.judgement_by||"",case_summary:t.case_summary||"",area_of_law:t.area_of_law||"",keywords_phrases:t.keywords_phrases||"",published:t.published||!1,dl_type:t.dl_type||"",academic_programme_id:t.academic_programme_id||"",opinion_by:t.opinion_by||"",conclusion:t.conclusion||""})},[t]);const o=e=>{const{name:t,value:s,type:a,checked:n}=e.target;i(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s}))};return(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(r)},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Basic Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title *"}),(0,Te.jsx)("input",{type:"text",name:"title",value:r.title,onChange:o,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Suit Reference Number"}),(0,Te.jsx)("input",{type:"text",name:"suit_reference_number",value:r.suit_reference_number,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date"}),(0,Te.jsx)("input",{type:"date",name:"date",value:r.date,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Presiding Judge"}),(0,Te.jsx)("input",{type:"text",name:"presiding_judge",value:r.presiding_judge,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Protagonist"}),(0,Te.jsx)("input",{type:"text",name:"protagonist",value:r.protagonist,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Antagonist"}),(0,Te.jsx)("input",{type:"text",name:"antagonist",value:r.antagonist,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Court Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Court Type"}),(0,Te.jsxs)("select",{name:"court_type",value:r.court_type,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Court Type"}),(0,Te.jsx)("option",{value:"supreme",children:"Supreme Court"}),(0,Te.jsx)("option",{value:"appeal",children:"Appeal Court"}),(0,Te.jsx)("option",{value:"high",children:"High Court"}),(0,Te.jsx)("option",{value:"circuit",children:"Circuit Court"}),(0,Te.jsx)("option",{value:"district",children:"District Court"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Court Division"}),(0,Te.jsx)("input",{type:"text",name:"court_division",value:r.court_division,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),(0,Te.jsxs)("select",{name:"status",value:r.status,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Status"}),(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"closed",children:"Closed"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"dismissed",children:"Dismissed"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Town"}),(0,Te.jsx)("input",{type:"text",name:"town",value:r.town,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Region"}),(0,Te.jsx)("input",{type:"text",name:"region",value:r.region,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Year"}),(0,Te.jsx)("input",{type:"number",name:"year",value:r.year,onChange:o,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Additional Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Statutes Cited"}),(0,Te.jsx)("textarea",{name:"statutes_cited",value:r.statutes_cited,onChange:o,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cases Cited"}),(0,Te.jsx)("textarea",{name:"cases_cited",value:r.cases_cited,onChange:o,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Lawyers"}),(0,Te.jsx)("textarea",{name:"lawyers",value:r.lawyers,onChange:o,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Commentary"}),(0,Te.jsx)("textarea",{name:"commentary",value:r.commentary,onChange:o,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Case Summary"}),(0,Te.jsx)("textarea",{name:"case_summary",value:r.case_summary,onChange:o,rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Keywords/Phrases"}),(0,Te.jsx)("textarea",{name:"keywords_phrases",value:r.keywords_phrases,onChange:o,rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"published",checked:r.published,onChange:o,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("label",{className:"ml-2 block text-sm text-slate-700",children:"Published"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t?"Updating...":"Creating..."]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(Ts,{className:"h-4 w-4"}),t?"Update Case":"Create Case"]})})]})]})},wd=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[l,r]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(1),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)(0),[f,b]=(0,n.useState)(null),[j,v]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),[_,C]=(0,n.useState)(!1),[S,A]=(0,n.useState)(!1),[E,M]=(0,n.useState)(null),[I,P]=(0,n.useState)(!1),[L,T]=(0,n.useState)(!1),[R,D]=(0,n.useState)(null),[O,F]=(0,n.useState)(null),[z,B]=(0,n.useState)(null),[U,H]=(0,n.useState)({totalCases:0,activeCases:0,closedCases:0,pendingCases:0,dismissedCases:0,recentCases:0,courtTypeDistribution:{},statusDistribution:{},yearDistribution:{},regionDistribution:{}});(0,n.useEffect)(()=>{V(),W()},[m,l,i,c]),(0,n.useEffect)(()=>{W()},[]);const V=async()=>{try{a(!0);const e=new URLSearchParams({page:m.toString(),limit:"10"});l&&e.append("search",l),i&&e.append("court_type",i),c&&e.append("status",c);const s=await fetch("http://localhost:8000/api/admin/cases?".concat(e)),n=await s.json();s.ok?(t(n.cases||[]),h(n.total_pages||1),g(n.total||0)):console.error("Error loading cases:",n.detail)}catch(e){console.error("Error loading cases:",e)}finally{a(!1)}},W=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/cases/stats"),t=await e.json();e.ok?H(t):console.error("Error loading case stats:",t.detail)}catch(e){console.error("Error loading case stats:",e)}},G=(e,t)=>{"court_type"===e?o(t):"status"===e&&d(t),u(1)},q=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"supreme":return"bg-purple-100 text-purple-800";case"appeal":return"bg-blue-100 text-blue-800";case"high":return"bg-green-100 text-green-800";case"circuit":return"bg-yellow-100 text-yellow-800";case"district":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Y=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"active":return"bg-green-100 text-green-800";case"closed":default:return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"dismissed":return"bg-red-100 text-red-800"}},$=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",J=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e?e.length>t?e.substring(0,t)+"...":e:"N/A"};return(0,Te.jsxs)("div",{className:"space-y-6 bg-white dark:bg-slate-900 min-h-screen transition-colors duration-200",children:[z&&(0,Te.jsx)("div",{className:"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ".concat("success"===z.type?"bg-green-100 dark:bg-green-900/20 border border-green-400 dark:border-green-600 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300"),children:(0,Te.jsxs)("div",{className:"flex items-center",children:["success"===z.type?(0,Te.jsx)(qe,{className:"h-5 w-5 mr-2"}):(0,Te.jsx)(Kt,{className:"h-5 w-5 mr-2"}),(0,Te.jsx)("span",{children:z.message}),(0,Te.jsx)("button",{onClick:()=>B(null),className:"ml-4 text-current hover:opacity-70",children:(0,Te.jsx)(tt,{className:"h-4 w-4"})})]})}),(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Case Management"}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Manage cases, metadata, analytics and statistics"})]}),(0,Te.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Te.jsxs)("button",{onClick:()=>{M(null),k(!0)},className:"bg-sky-600 hover:bg-sky-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,Te.jsx)(xt,{className:"h-4 w-4"}),"Create Case"]}),(0,Te.jsxs)("button",{onClick:()=>{D(null),F(null),A(!0)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,Te.jsx)(vd,{className:"h-4 w-4"}),"Upload Case"]})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow border border-slate-200 dark:border-slate-700 transition-colors duration-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:(0,Te.jsx)(xt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:U.totalCases.toLocaleString()})]})]})}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow border border-slate-200 dark:border-slate-700 transition-colors duration-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Active Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:U.activeCases.toLocaleString()})]})]})}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow border border-slate-200 dark:border-slate-700 transition-colors duration-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:(0,Te.jsx)(Qe,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Recent (30 days)"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:U.recentCases.toLocaleString()})]})]})}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg shadow border border-slate-200 dark:border-slate-700 transition-colors duration-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:(0,Te.jsx)(Ye,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Pending Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:U.pendingCases.toLocaleString()})]})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,Te.jsx)(tt,{className:"h-6 w-6 text-gray-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Closed Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:U.closedCases.toLocaleString()})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,Te.jsx)(tt,{className:"h-6 w-6 text-red-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Dismissed Cases"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:U.dismissedCases.toLocaleString()})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(Ht,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Court Types"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:Object.keys(U.courtTypeDistribution).length})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-indigo-100 rounded-lg",children:(0,Te.jsx)(gt,{className:"h-6 w-6 text-indigo-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Regions"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:Object.keys(U.regionDistribution).length})]})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Cases by Court Type"}),(0,Te.jsx)("div",{className:"space-y-3",children:Object.entries(U.courtTypeDistribution).map(e=>{let[t,s]=e;const a=U.totalCases>0?s/U.totalCases*100:0;return(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"w-3 h-3 rounded-full bg-sky-500 mr-3"}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-700",children:t})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600 mr-2",children:s.toLocaleString()}),(0,Te.jsxs)("span",{className:"text-xs text-slate-500",children:["(",a.toFixed(1),"%)"]})]})]},t)})})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Cases by Status"}),(0,Te.jsx)("div",{className:"space-y-3",children:Object.entries(U.statusDistribution).map(e=>{let[t,s]=e;const a=U.totalCases>0?s/U.totalCases*100:0;return(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"w-3 h-3 rounded-full ".concat({active:"bg-green-500",closed:"bg-gray-500",pending:"bg-yellow-500",dismissed:"bg-red-500"}[t]||"bg-sky-500"," mr-3")}),(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-700 capitalize",children:t})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600 mr-2",children:s.toLocaleString()}),(0,Te.jsxs)("span",{className:"text-xs text-slate-500",children:["(",a.toFixed(1),"%)"]})]})]},t)})})]})]}),Object.keys(U.yearDistribution).length>0&&(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Cases by Year (Last 10 Years)"}),(0,Te.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(U.yearDistribution).sort((e,t)=>{let[s]=e,[a]=t;return parseInt(a)-parseInt(s)}).map(e=>{let[t,s]=e;const a=U.totalCases>0?s/U.totalCases*100:0;return(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:s.toLocaleString()}),(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:t}),(0,Te.jsxs)("div",{className:"text-xs text-slate-500",children:["(",a.toFixed(1),"%)"]})]},t)})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search cases...",value:l,onChange:e=>{r(e.target.value),u(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("select",{value:i,onChange:e=>G("court_type",e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Court Types"}),(0,Te.jsx)("option",{value:"supreme",children:"Supreme Court"}),(0,Te.jsx)("option",{value:"appeal",children:"Appeal Court"}),(0,Te.jsx)("option",{value:"high",children:"High Court"}),(0,Te.jsx)("option",{value:"circuit",children:"Circuit Court"}),(0,Te.jsx)("option",{value:"district",children:"District Court"})]}),(0,Te.jsxs)("select",{value:c,onChange:e=>G("status",e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Status"}),(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"closed",children:"Closed"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"dismissed",children:"Dismissed"})]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,Te.jsx)(xt,{className:"h-4 w-4 mr-2"}),p," total cases"]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:s?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading cases..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Case Title"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Court Type"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Judge"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4",children:(0,Te.jsxs)("div",{className:"flex items-start",children:[(0,Te.jsx)(xt,{className:"h-4 w-4 text-slate-400 mr-2 mt-1 flex-shrink-0"}),(0,Te.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:J(e.title,60)}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.suit_reference_number&&(0,Te.jsxs)("span",{className:"inline-flex items-center",children:[(0,Te.jsx)(Ht,{className:"h-3 w-3 mr-1"}),e.suit_reference_number]})})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(q(e.court_type)),children:e.court_type||"N/A"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(Y(e.status)),children:e.status||"N/A"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:$(e.date)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:J(e.presiding_judge,20)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{b(e),v(!0)})(e),className:"text-slate-600 hover:text-slate-900 p-1",title:"View Details",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{M(e),C(!0)})(e),className:"text-amber-600 hover:text-amber-900 p-1",title:"Edit Case",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{b(e),N(!0)})(e),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Case",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id))})]})}),x>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===m,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>u(e=>Math.min(e+1,x)),disabled:m===x,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:m})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:x})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>u(e=>Math.max(e-1,1)),disabled:1===m,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>u(e=>Math.min(e+1,x)),disabled:m===x,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-5 w-5"})})]})})]})]})]})}),j&&f&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Case Details"}),(0,Te.jsx)("button",{onClick:()=>v(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Case Title"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.title||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Suit Reference Number"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.suit_reference_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Court Type"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.court_type||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Court Division"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.court_division||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Date"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:$(f.date)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Status"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.status||"N/A"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Parties"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Protagonist"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.protagonist||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Antagonist"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.antagonist||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Presiding Judge"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.presiding_judge||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Lawyers"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.lawyers||"N/A"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Town"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.town||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Region"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.region||"N/A"})]})]}),f.decision&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Decision"}),(0,Te.jsx)("div",{className:"bg-slate-50 rounded-lg p-4 max-h-40 overflow-y-auto",children:(0,Te.jsx)("p",{className:"text-sm text-slate-900 whitespace-pre-wrap",children:f.decision})})]}),f.ai_case_outcome&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"AI Case Outcome"}),(0,Te.jsx)("div",{className:"bg-blue-50 rounded-lg p-4",children:(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:f.ai_case_outcome})})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-slate-200",children:[f.file_url&&(0,Te.jsxs)("a",{href:f.file_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:[(0,Te.jsx)(ss,{className:"h-4 w-4 mr-2"}),"View File"]}),(0,Te.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Close"})]})]})]})}),y&&f&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Hs,{className:"h-5 w-5 text-red-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Case"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,Te.jsx)("p",{className:"text-slate-700 mb-6",children:"Are you sure you want to delete this case? This will permanently remove the case and all associated data."}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:8000/api/admin/cases/".concat(f.id),{method:"DELETE"});if(e.ok)N(!1),b(null),V();else{const t=await e.json();console.error("Error deleting case:",t.detail)}}catch(e){console.error("Error deleting case:",e)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Case"})]})]})}),(w||_)&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:E?"Edit Case":"Create New Case"}),(0,Te.jsx)("button",{onClick:()=>{k(!1),C(!1),M(null)},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsx)(Nd,{caseData:E,onSave:async e=>{try{if(P(!0),!e.title||""===e.title.trim())return B({type:"error",message:"Title is required"}),setTimeout(()=>B(null),3e3),void P(!1);if(e.year&&(isNaN(parseInt(e.year))||parseInt(e.year)<1900||parseInt(e.year)>2030))return B({type:"error",message:"Year must be a valid number between 1900 and 2030"}),setTimeout(()=>B(null),3e3),void P(!1);const t=Ue(Ue({},e),{},{date:e.date?new Date(e.date).toISOString():null,year:e.year?parseInt(e.year):null,academic_programme_id:e.academic_programme_id?parseInt(e.academic_programme_id):null,published:Boolean(e.published)},Object.fromEntries(Object.entries(e).map(e=>{let[t,s]=e;return[t,""===s?null:s]})));console.log("Sending case data:",t);const s=E?"http://localhost:8000/api/admin/cases/".concat(E.id):"http://localhost:8000/api/admin/cases",a=E?"PUT":"POST",n=await fetch(s,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(n.ok){const e=await n.json();console.log("Case saved successfully:",e),k(!1),C(!1),M(null),V(),B({type:"success",message:"Case saved successfully!"}),setTimeout(()=>B(null),3e3)}else{const e=await n.json();console.error("Error saving case:",e),B({type:"error",message:"Error saving case: ".concat(e.detail||"Unknown error")}),setTimeout(()=>B(null),5e3)}}catch(t){console.error("Error saving case:",t),B({type:"error",message:"Error saving case: ".concat(t.message)}),setTimeout(()=>B(null),5e3)}finally{P(!1)}},onCancel:()=>{k(!1),C(!1),M(null)},saving:I})]})}),S&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Upload Case Document"}),(0,Te.jsx)("button",{onClick:()=>{A(!1),D(null),F(null)},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Document"}),(0,Te.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed border-slate-300 rounded-lg hover:border-slate-400 transition-colors",children:(0,Te.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Te.jsx)(vd,{className:"mx-auto h-12 w-12 text-slate-400"}),(0,Te.jsxs)("div",{className:"flex text-sm text-slate-600",children:[(0,Te.jsxs)("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-sky-600 hover:text-sky-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-sky-500",children:[(0,Te.jsx)("span",{children:"Upload a file"}),(0,Te.jsx)("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",accept:".pdf,.doc,.docx",onChange:e=>{const t=e.target.files[0];if(t){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type))return void B({type:"error",message:"Please upload a PDF or Word document (.pdf, .doc, .docx)"});if(t.size>10485760)return void B({type:"error",message:"File size must be less than 10MB"});D(t)}}})]}),(0,Te.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"PDF, DOC, DOCX up to 10MB"})]})})]}),R&&(0,Te.jsxs)("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[(0,Te.jsx)(yd,{className:"h-5 w-5 text-slate-400 mr-3"}),(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900 truncate",children:R.name}),(0,Te.jsxs)("p",{className:"text-sm text-slate-500",children:[(R.size/1024/1024).toFixed(2)," MB"]})]})]}),O&&(0,Te.jsxs)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-green-800 mb-3",children:"\ud83d\udcca Extracted Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Title:"}),(0,Te.jsx)("p",{className:"text-slate-600 truncate",children:O.title||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Suit Number:"}),(0,Te.jsx)("p",{className:"text-slate-600",children:O.suit_reference_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Parties:"}),(0,Te.jsx)("p",{className:"text-slate-600 truncate",children:O.parties||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Court:"}),(0,Te.jsx)("p",{className:"text-slate-600",children:O.court||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Judge:"}),(0,Te.jsx)("p",{className:"text-slate-600 truncate",children:O.judge||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Area of Law:"}),(0,Te.jsx)("p",{className:"text-slate-600",children:O.area_of_law||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Te.jsx)("button",{onClick:()=>{A(!1),D(null),F(null)},className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:O?"Close":"Cancel"}),O?(0,Te.jsxs)("button",{onClick:()=>{A(!1),D(null),F(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,Te.jsx)(qe,{className:"h-4 w-4"}),"Done"]}):(0,Te.jsx)("button",{onClick:async()=>{if(R){T(!0);try{const e=new FormData;e.append("file",R);const t=await fetch("http://localhost:8000/api/admin/cases/upload",{method:"POST",body:e});if(t.ok){const e=await t.json();F(e.extracted_data),B({type:"success",message:"Case uploaded and analyzed successfully! Case ID: ".concat(e.case_id)}),V()}else{const e=await t.json();B({type:"error",message:e.detail||"Failed to upload case"})}}catch(e){console.error("Error uploading case:",e),B({type:"error",message:"Failed to upload case"})}finally{T(!1)}}else B({type:"error",message:"Please select a file to upload"})},disabled:!R||L,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:L?(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Uploading..."]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)(vd,{className:"h-4 w-4"}),"Upload Case"]})})]})]})]})})]})},kd=e=>{let{personData:t,onSave:s,onCancel:a}=e;const[l,r]=(0,n.useState)({first_name:"",last_name:"",full_name:"",previous_names:"",date_of_birth:"",date_of_death:"",id_number:"",phone_number:"",email:"",address:"",city:"",region:"",country:"",postal_code:"",risk_level:"",risk_score:"",case_count:"",case_types:"",court_records:"",occupation:"",employer:"",organization:"",job_title:"",marital_status:"",spouse_name:"",children_count:"",emergency_contact:"",emergency_phone:"",nationality:"",gender:"",education_level:"",languages:"",is_verified:!1,verification_notes:"",notes:""});(0,n.useEffect)(()=>{t&&r({first_name:t.first_name||"",last_name:t.last_name||"",full_name:t.full_name||"",previous_names:t.previous_names||"",date_of_birth:t.date_of_birth?t.date_of_birth.split("T")[0]:"",date_of_death:t.date_of_death?t.date_of_death.split("T")[0]:"",id_number:t.id_number||"",phone_number:t.phone_number||"",email:t.email||"",address:t.address||"",city:t.city||"",region:t.region||"",country:t.country||"",postal_code:t.postal_code||"",risk_level:t.risk_level||"",risk_score:t.risk_score||"",case_count:t.case_count||"",case_types:t.case_types||"",court_records:t.court_records||"",occupation:t.occupation||"",employer:t.employer||"",organization:t.organization||"",job_title:t.job_title||"",marital_status:t.marital_status||"",spouse_name:t.spouse_name||"",children_count:t.children_count||"",emergency_contact:t.emergency_contact||"",emergency_phone:t.emergency_phone||"",nationality:t.nationality||"",gender:t.gender||"",education_level:t.education_level||"",languages:t.languages||"",is_verified:t.is_verified||!1,verification_notes:t.verification_notes||"",notes:t.notes||""})},[t]);const i=e=>{const{name:t,value:s,type:a,checked:n}=e.target;r(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s}))};return(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(l)},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Basic Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"First Name *"}),(0,Te.jsx)("input",{type:"text",name:"first_name",value:l.first_name,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",name:"last_name",value:l.last_name,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),(0,Te.jsx)("input",{type:"text",name:"full_name",value:l.full_name,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Previous Names"}),(0,Te.jsx)("input",{type:"text",name:"previous_names",value:l.previous_names,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date of Birth"}),(0,Te.jsx)("input",{type:"date",name:"date_of_birth",value:l.date_of_birth,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Gender"}),(0,Te.jsxs)("select",{name:"gender",value:l.gender,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Gender"}),(0,Te.jsx)("option",{value:"male",children:"Male"}),(0,Te.jsx)("option",{value:"female",children:"Female"}),(0,Te.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Contact Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),(0,Te.jsx)("input",{type:"tel",name:"phone_number",value:l.phone_number,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"email",value:l.email,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),(0,Te.jsx)("textarea",{name:"address",value:l.address,onChange:i,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),(0,Te.jsx)("input",{type:"text",name:"city",value:l.city,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Region"}),(0,Te.jsx)("input",{type:"text",name:"region",value:l.region,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Country"}),(0,Te.jsx)("input",{type:"text",name:"country",value:l.country,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Risk Assessment"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Risk Level"}),(0,Te.jsxs)("select",{name:"risk_level",value:l.risk_level,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Risk Level"}),(0,Te.jsx)("option",{value:"low",children:"Low"}),(0,Te.jsx)("option",{value:"medium",children:"Medium"}),(0,Te.jsx)("option",{value:"high",children:"High"}),(0,Te.jsx)("option",{value:"very high",children:"Very High"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Risk Score"}),(0,Te.jsx)("input",{type:"number",name:"risk_score",value:l.risk_score,onChange:i,min:"0",max:"100",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Case Count"}),(0,Te.jsx)("input",{type:"number",name:"case_count",value:l.case_count,onChange:i,min:"0",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Case Types"}),(0,Te.jsx)("input",{type:"text",name:"case_types",value:l.case_types,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Court Records"}),(0,Te.jsx)("textarea",{name:"court_records",value:l.court_records,onChange:i,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Professional Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Occupation"}),(0,Te.jsx)("input",{type:"text",name:"occupation",value:l.occupation,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Employer"}),(0,Te.jsx)("input",{type:"text",name:"employer",value:l.employer,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),(0,Te.jsx)("input",{type:"text",name:"organization",value:l.organization,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job Title"}),(0,Te.jsx)("input",{type:"text",name:"job_title",value:l.job_title,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Additional Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nationality"}),(0,Te.jsx)("input",{type:"text",name:"nationality",value:l.nationality,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Education Level"}),(0,Te.jsxs)("select",{name:"education_level",value:l.education_level,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Education Level"}),(0,Te.jsx)("option",{value:"primary",children:"Primary"}),(0,Te.jsx)("option",{value:"secondary",children:"Secondary"}),(0,Te.jsx)("option",{value:"diploma",children:"Diploma"}),(0,Te.jsx)("option",{value:"bachelor",children:"Bachelor's Degree"}),(0,Te.jsx)("option",{value:"master",children:"Master's Degree"}),(0,Te.jsx)("option",{value:"phd",children:"PhD"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Languages"}),(0,Te.jsx)("input",{type:"text",name:"languages",value:l.languages,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Marital Status"}),(0,Te.jsxs)("select",{name:"marital_status",value:l.marital_status,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Marital Status"}),(0,Te.jsx)("option",{value:"single",children:"Single"}),(0,Te.jsx)("option",{value:"married",children:"Married"}),(0,Te.jsx)("option",{value:"divorced",children:"Divorced"}),(0,Te.jsx)("option",{value:"widowed",children:"Widowed"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes"}),(0,Te.jsx)("textarea",{name:"notes",value:l.notes,onChange:i,rows:4,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_verified",checked:l.is_verified,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("label",{className:"ml-2 block text-sm text-slate-700",children:"Verified"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors flex items-center gap-2",children:[(0,Te.jsx)(cd,{className:"h-4 w-4"}),t?"Update Person":"Create Person"]})]})]})},_d=()=>{var e,t,s,a;const[l,r]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)(1),[f,b]=(0,n.useState)(0),[j,v]=(0,n.useState)(null),[y,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),[_,C]=(0,n.useState)(!1),[S,A]=(0,n.useState)(!1),[E,M]=(0,n.useState)(null),[I,P]=(0,n.useState)(null),[L,T]=(0,n.useState)(null),[R,D]=(0,n.useState)(null),[O,F]=(0,n.useState)(!1);(0,n.useEffect)(()=>{z(),B()},[x,c,m]);const z=async()=>{try{o(!0);const e=new URLSearchParams({page:x.toString(),limit:"10"});c&&e.append("search",c),m&&e.append("risk_level",m);const t="http://localhost:8000/api/admin/people?".concat(e),s=await fetch(t),a=await s.json();s.ok?(r(a.people||[]),g(a.total_pages||1),b(a.total||0)):console.error("Error loading people:",a.detail)}catch(e){console.error("Error loading people:",e)}finally{o(!1)}},B=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/people/stats"),t=await e.json();e.ok&&P(t)}catch(e){console.error("Error loading analytics:",e)}},U=async e=>{try{F(!0);const t=await fetch("http://localhost:8000/api/person/".concat(e,"/analytics"));if(t.ok){const e=await t.json();T(e)}else T(null);const s=await fetch("http://localhost:8000/api/person-case-statistics/person/".concat(e));if(s.ok){const e=await s.json();D(e)}else D(null)}catch(t){console.error("Error loading person analytics:",t),T(null),D(null)}finally{F(!1)}},H=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"very high":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},V=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"very high":return(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"});case"high":return(0,Te.jsx)(js,{className:"h-4 w-4 text-orange-500"});case"medium":return(0,Te.jsx)(js,{className:"h-4 w-4 text-yellow-500"});case"low":return(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"});default:return(0,Te.jsx)(ot,{className:"h-4 w-4 text-gray-500"})}},W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length>t?e.substring(0,t)+"...":e:"N/A"};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"People Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage people records and analytics"})]}),(0,Te.jsxs)("button",{onClick:()=>{M(null),C(!0)},className:"bg-sky-600 hover:bg-sky-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,Te.jsx)(cd,{className:"h-4 w-4"}),"Create Person"]})]}),I&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total People"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:I.total_people||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,Te.jsx)(js,{className:"h-6 w-6 text-red-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"High Risk"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:I.high_risk_count||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Verified"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:I.verified_count||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(od,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Avg Risk Score"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:(null===(e=I.avg_risk_score)||void 0===e?void 0:e.toFixed(1))||"0.0"})]})]})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search people...",value:c,onChange:e=>{d(e.target.value),h(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("select",{value:m,onChange:e=>{u(e.target.value),h(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Risk Levels"}),(0,Te.jsx)("option",{value:"very high",children:"Very High"}),(0,Te.jsx)("option",{value:"high",children:"High"}),(0,Te.jsx)("option",{value:"medium",children:"Medium"}),(0,Te.jsx)("option",{value:"low",children:"Low"})]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,Te.jsx)(cd,{className:"h-4 w-4 mr-2"}),f," total people"]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:i?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading people..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Person"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Risk Level"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Cases"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:l.map(e=>{var t,s,a;return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center",children:(0,Te.jsxs)("span",{className:"text-sm font-medium text-slate-600",children:[null===(t=e.first_name)||void 0===t?void 0:t.charAt(0),null===(s=e.last_name)||void 0===s?void 0:s.charAt(0)]})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.full_name||"".concat(e.first_name," ").concat(e.last_name)}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.occupation||"N/A"})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[V(e.risk_level),(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(H(e.risk_level)),children:e.risk_level||"N/A"}),e.risk_score&&(0,Te.jsxs)("span",{className:"text-xs text-slate-500",children:["(",e.risk_score.toFixed(1),")"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"text-sm text-slate-900",children:[e.email&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(bt,{className:"h-3 w-3 mr-1 text-slate-400"}),W(e.email,25)]}),e.phone_number&&(0,Te.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 mr-1 text-slate-400"}),e.phone_number]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("div",{className:"text-sm text-slate-900",children:e.city&&e.region?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(gt,{className:"h-3 w-3 mr-1 text-slate-400"}),e.city,", ",e.region]}):(0,Te.jsx)("span",{className:"text-slate-400",children:"N/A"})})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.case_count||0}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:(a=e.created_at,a?new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(async e=>{v(e),N(!0),await U(e.id)})(e),className:"text-slate-600 hover:text-slate-900 p-1",title:"View Details",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{M(e),A(!0)})(e),className:"text-amber-600 hover:text-amber-900 p-1",title:"Edit Person",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{v(e),k(!0)})(e),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Person",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),p>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>h(e=>Math.max(e-1,1)),disabled:1===x,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>h(e=>Math.min(e+1,p)),disabled:x===p,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:x})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:p})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>h(e=>Math.max(e-1,1)),disabled:1===x,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>h(e=>Math.min(e+1,p)),disabled:x===p,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-5 w-5"})})]})})]})]})]})}),y&&j&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Te.jsx)("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:(0,Te.jsx)(St,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900",children:j.full_name||"N/A"}),(0,Te.jsx)("p",{className:"text-sm text-slate-500",children:j.occupation||"N/A"})]})]}),(0,Te.jsx)("button",{onClick:()=>N(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(ot,{className:"h-5 w-5 text-blue-600"}),"Financial Risk Assessment",O&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-blue-600"})]}),O?(0,Te.jsx)("div",{className:"text-center py-4",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-4"}),(0,Te.jsx)("div",{className:"h-2 bg-gray-200 rounded"})]})}):(0,Te.jsx)("div",{className:"text-center",children:(()=>{let e=j.risk_score||0,t=j.risk_level||"Low",s=[];if(R){const e=R.total_cases||0,t=R.unfavorable_cases||0,a=R.mixed_cases||0;t>0&&s.push("".concat(t," unfavorable case").concat(t>1?"s":"")),a>0&&s.push("".concat(a," mixed outcome case").concat(a>1?"s":"")),e>10?s.push("High case volume"):e>5&&s.push("Moderate case volume")}return L&&("Critical"===L.financial_risk_level?(e+=30,s.push("Critical financial risk")):"High"===L.financial_risk_level?(e+=20,s.push("High financial risk")):"Medium"===L.financial_risk_level&&(e+=10,s.push("Moderate financial risk")),L.total_monetary_amount>1e6&&s.push("High monetary involvement")),(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsxs)("div",{className:"text-2xl font-bold mb-2 ".concat("Critical"===t?"text-red-600":"High"===t?"text-orange-600":"Medium"===t?"text-yellow-600":"text-slate-600"),children:[t," Financial Risk"]}),(0,Te.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:(0,Te.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat("Critical"===t?"bg-red-500":"High"===t?"bg-orange-500":"Medium"===t?"bg-yellow-500":"bg-green-500"),style:{width:"".concat(Math.min(e,100),"%")}})}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mb-3",children:"Based on legal history, case outcomes & financial factors"}),(0,Te.jsx)("div",{className:"text-left bg-slate-50 rounded-lg p-3 mb-3",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{children:"Risk Score:"}),(0,Te.jsxs)("span",{className:"font-medium",children:[e.toFixed(1),"/100"]})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{children:"Total Cases:"}),(0,Te.jsx)("span",{className:"font-medium",children:(null===R||void 0===R?void 0:R.total_cases)||0})]})]})}),s.length>0&&(0,Te.jsxs)("div",{className:"text-left",children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:"Key Risk Factors:"}),(0,Te.jsx)("div",{className:"flex flex-wrap gap-1",children:s.map((e,t)=>(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:e},t))})]})]})})()})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Qe,{className:"h-5 w-5 text-blue-600"}),"Quick Stats",O&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-blue-600"})]}),O?(0,Te.jsx)("div",{className:"space-y-3",children:(0,Te.jsxs)("div",{className:"animate-pulse",children:[(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"}),(0,Te.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-2"})]})}):(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-slate-900",children:(null===R||void 0===R?void 0:R.total_cases)||0}),(0,Te.jsx)("div",{className:"text-xs text-slate-500",children:"Total Cases"})]}),(0,Te.jsxs)("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===R||void 0===R?void 0:R.resolved_cases)||0}),(0,Te.jsx)("div",{className:"text-xs text-slate-500",children:"Resolved"})]}),(0,Te.jsxs)("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null===R||void 0===R?void 0:R.unresolved_cases)||0}),(0,Te.jsx)("div",{className:"text-xs text-slate-500",children:"Unresolved"})]}),(0,Te.jsxs)("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[(0,Te.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===R||void 0===R?void 0:R.favorable_cases)||0}),(0,Te.jsx)("div",{className:"text-xs text-slate-500",children:"Favorable"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(Wt,{className:"h-5 w-5 text-green-600"}),"Financial Risk Profile",O&&(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin text-green-600"})]}),O?(0,Te.jsx)("div",{className:"space-y-4",children:(0,Te.jsx)("div",{className:"animate-pulse",children:(0,Te.jsx)("div",{className:"h-16 bg-gray-200 rounded"})})}):(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",(null===L||void 0===L||null===(t=L.total_monetary_amount)||void 0===t?void 0:t.toLocaleString())||"0"]}),(0,Te.jsx)("div",{className:"text-xs text-slate-500",children:"Total Monetary Amount"})]}),(0,Te.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",(null===L||void 0===L||null===(s=L.average_case_value)||void 0===s?void 0:s.toLocaleString())||"0"]}),(0,Te.jsx)("div",{className:"text-xs text-slate-500",children:"Average Case Value"})]}),(0,Te.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,Te.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[(null===L||void 0===L||null===(a=L.case_complexity_score)||void 0===a?void 0:a.toFixed(1))||"0","/10"]}),(0,Te.jsx)("div",{className:"text-xs text-slate-500",children:"Case Complexity"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(St,{className:"h-5 w-5 text-blue-600"}),"Personal Information"]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Full Name"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.full_name||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Occupation"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.occupation||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Email"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.email||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Phone"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.phone_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Nationality"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.nationality||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Gender"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.gender||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Education Level"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.education_level||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Marital Status"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.marital_status||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Languages"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.languages||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Verified"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.is_verified?(0,Te.jsxs)("span",{className:"text-green-600 flex items-center gap-1",children:[(0,Te.jsx)(qe,{className:"h-4 w-4"}),"Yes"]}):(0,Te.jsxs)("span",{className:"text-red-600 flex items-center gap-1",children:[(0,Te.jsx)(Kt,{className:"h-4 w-4"}),"No"]})})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[(0,Te.jsxs)("h3",{className:"text-lg font-semibold text-slate-900 flex items-center gap-2 mb-4",children:[(0,Te.jsx)(gt,{className:"h-5 w-5 text-blue-600"}),"Location Information"]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Address"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.address||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"City, Region"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:j.city&&j.region?"".concat(j.city,", ").concat(j.region):"N/A"})]})]})]})]})]})}),w&&j&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Hs,{className:"h-5 w-5 text-red-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Person"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,Te.jsxs)("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to delete ",(0,Te.jsx)("strong",{children:j.full_name||"".concat(j.first_name," ").concat(j.last_name)}),"? This will permanently remove the person and all associated data."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:8000/api/admin/people/".concat(j.id),{method:"DELETE"});if(e.ok)k(!1),v(null),z();else{const t=await e.json();console.error("Error deleting person:",t.detail)}}catch(e){console.error("Error deleting person:",e)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Person"})]})]})}),(_||S)&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:E?"Edit Person":"Create New Person"}),(0,Te.jsx)("button",{onClick:()=>{C(!1),A(!1),M(null)},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsx)(kd,{personData:E,onSave:async e=>{try{const t=E?"http://localhost:8000/api/admin/people/".concat(E.id):"http://localhost:8000/api/admin/people",s=E?"PUT":"POST",a=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)C(!1),A(!1),M(null),z(),B();else{const e=await a.json();console.error("Error saving person:",e.detail)}}catch(t){console.error("Error saving person:",t)}},onCancel:()=>{C(!1),A(!1),M(null)}})]})})]})},Cd=e=>{let{bankData:t,onSave:s,onCancel:a}=e;const[l,r]=(0,n.useState)({name:"",short_name:"",logo_url:"",website:"",phone:"",email:"",address:"",city:"",region:"",country:"",postal_code:"",bank_code:"",swift_code:"",license_number:"",established_date:"",bank_type:"",ownership_type:"",services:"",previous_names:"",branches_count:"",atm_count:"",total_assets:"",net_worth:"",rating:"",head_office_address:"",customer_service_phone:"",customer_service_email:"",has_mobile_app:!1,has_online_banking:!1,has_atm_services:!1,has_foreign_exchange:!1,is_active:!0,is_verified:!1,verification_notes:"",description:"",notes:"",status:"ACTIVE"});(0,n.useEffect)(()=>{t&&r({name:t.name||"",short_name:t.short_name||"",logo_url:t.logo_url||"",website:t.website||"",phone:t.phone||"",email:t.email||"",address:t.address||"",city:t.city||"",region:t.region||"",country:t.country||"",postal_code:t.postal_code||"",bank_code:t.bank_code||"",swift_code:t.swift_code||"",license_number:t.license_number||"",established_date:t.established_date?t.established_date.split("T")[0]:"",bank_type:t.bank_type||"",ownership_type:t.ownership_type||"",services:t.services||"",previous_names:t.previous_names||"",branches_count:t.branches_count||"",atm_count:t.atm_count||"",total_assets:t.total_assets||"",net_worth:t.net_worth||"",rating:t.rating||"",head_office_address:t.head_office_address||"",customer_service_phone:t.customer_service_phone||"",customer_service_email:t.customer_service_email||"",has_mobile_app:t.has_mobile_app||!1,has_online_banking:t.has_online_banking||!1,has_atm_services:t.has_atm_services||!1,has_foreign_exchange:t.has_foreign_exchange||!1,is_active:void 0===t.is_active||t.is_active,is_verified:t.is_verified||!1,verification_notes:t.verification_notes||"",description:t.description||"",notes:t.notes||"",status:t.status||"ACTIVE"})},[t]);const i=e=>{const{name:t,value:s,type:a,checked:n}=e.target;r(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s}))};return(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(l)},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Basic Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Bank Name *"}),(0,Te.jsx)("input",{type:"text",name:"name",value:l.name,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Short Name"}),(0,Te.jsx)("input",{type:"text",name:"short_name",value:l.short_name,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Bank Code"}),(0,Te.jsx)("input",{type:"text",name:"bank_code",value:l.bank_code,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"SWIFT Code"}),(0,Te.jsx)("input",{type:"text",name:"swift_code",value:l.swift_code,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"License Number"}),(0,Te.jsx)("input",{type:"text",name:"license_number",value:l.license_number,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Established Date"}),(0,Te.jsx)("input",{type:"date",name:"established_date",value:l.established_date,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Contact Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),(0,Te.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"email",value:l.email,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Website"}),(0,Te.jsx)("input",{type:"url",name:"website",value:l.website,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),(0,Te.jsx)("textarea",{name:"address",value:l.address,onChange:i,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),(0,Te.jsx)("input",{type:"text",name:"city",value:l.city,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Country"}),(0,Te.jsx)("input",{type:"text",name:"country",value:l.country,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Services & History"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Services (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"services",value:l.services,onChange:i,placeholder:"e.g., Personal Banking, Corporate Banking, Digital Banking",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Previous Names (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"previous_names",value:l.previous_names,onChange:i,placeholder:"e.g., Old Bank Name, Previous Bank Ltd",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Financial Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Branches Count"}),(0,Te.jsx)("input",{type:"number",name:"branches_count",value:l.branches_count,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Total Assets (GHS)"}),(0,Te.jsx)("input",{type:"number",name:"total_assets",value:l.total_assets,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Net Worth (GHS)"}),(0,Te.jsx)("input",{type:"number",name:"net_worth",value:l.net_worth,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Status & Options"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_active",checked:l.is_active,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Active"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_verified",checked:l.is_verified,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Verified"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"has_mobile_app",checked:l.has_mobile_app,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Mobile App"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"has_online_banking",checked:l.has_online_banking,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Online Banking"})]})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:t?"Update Bank":"Create Bank"})]})]})},Sd=()=>{var e;const[t,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[r,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[d,m]=(0,n.useState)(1),[u,x]=(0,n.useState)(1),[h,p]=(0,n.useState)(0),[g,f]=(0,n.useState)(null),[b,j]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[k,_]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[A,E]=(0,n.useState)(null);(0,n.useEffect)(()=>{M(),I()},[d,r,o]);const M=async()=>{try{l(!0);const e=new URLSearchParams({page:d.toString(),limit:"10"});r&&e.append("search",r),o&&e.append("bank_type",o);const t=await fetch("http://localhost:8000/api/admin/banks?".concat(e)),a=await t.json();t.ok?(s(a.banks||[]),x(a.total_pages||1),p(a.total||0)):console.error("Error loading banks:",a.detail)}catch(e){console.error("Error loading banks:",e)}finally{l(!1)}},I=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/banks/stats"),t=await e.json();e.ok&&w(t)}catch(e){console.error("Error loading analytics:",e)}},P=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"commercial":return"bg-blue-100 text-blue-800";case"investment":return"bg-purple-100 text-purple-800";case"development":return"bg-green-100 text-green-800";case"microfinance":return"bg-yellow-100 text-yellow-800";case"central":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=e=>e?new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"N/A",T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length>t?e.substring(0,t)+"...":e:"N/A"};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Bank Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage bank records and analytics"})]}),(0,Te.jsxs)("button",{onClick:()=>{E(null),_(!0)},className:"inline-flex items-center px-4 py-2 bg-sky-600 text-white text-sm font-medium rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-colors",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2"}),"Create Bank"]})]}),N&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(wt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Banks"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:N.total_banks||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(Wt,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Assets"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:L(N.total_assets)})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Branches"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:N.total_branches||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(Bt,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Avg Rating"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:(null===(e=N.avg_rating)||void 0===e?void 0:e.toFixed(1))||"0.0"})]})]})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search banks...",value:r,onChange:e=>{i(e.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("select",{value:o,onChange:e=>{c(e.target.value),m(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Bank Types"}),(0,Te.jsx)("option",{value:"commercial",children:"Commercial"}),(0,Te.jsx)("option",{value:"investment",children:"Investment"}),(0,Te.jsx)("option",{value:"development",children:"Development"}),(0,Te.jsx)("option",{value:"microfinance",children:"Microfinance"}),(0,Te.jsx)("option",{value:"central",children:"Central"})]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 mr-2"}),h," total banks"]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading banks..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Bank"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assets"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Branches"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:t.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center",children:(0,Te.jsx)(wt,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.short_name||"N/A"})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(P(e.bank_type)),children:e.bank_type||"N/A"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"text-sm text-slate-900",children:[e.email&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(bt,{className:"h-3 w-3 mr-1 text-slate-400"}),T(e.email,25)]}),e.phone&&(0,Te.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 mr-1 text-slate-400"}),e.phone]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("div",{className:"text-sm text-slate-900",children:e.city&&e.region?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(gt,{className:"h-3 w-3 mr-1 text-slate-400"}),e.city,", ",e.region]}):(0,Te.jsx)("span",{className:"text-slate-400",children:"N/A"})})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:L(e.total_assets)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.branches_count||0}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{f(e),j(!0)})(e),className:"text-slate-600 hover:text-slate-900 p-1",title:"View Details",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{E(e),S(!0)})(e),className:"text-green-600 hover:text-green-900 p-1",title:"Edit Bank",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{f(e),y(!0)})(e),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Bank",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id))})]})}),u>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>m(e=>Math.max(e-1,1)),disabled:1===d,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>m(e=>Math.min(e+1,u)),disabled:d===u,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:d})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:u})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>m(e=>Math.max(e-1,1)),disabled:1===d,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>m(e=>Math.min(e+1,u)),disabled:d===u,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-5 w-5"})})]})})]})]})]})}),b&&g&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Bank Details"}),(0,Te.jsx)("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Bank Name"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Short Name"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.short_name||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Bank Type"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.bank_type||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"License Number"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.license_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Established Date"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:(R=g.established_date,R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Status"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.is_active?(0,Te.jsx)("span",{className:"text-green-600",children:"Active"}):(0,Te.jsx)("span",{className:"text-red-600",children:"Inactive"})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-3",children:"Contact Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Email"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.email||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Phone"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.phone||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Website"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.website?(0,Te.jsx)("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:g.website}):"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Customer Service"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.customer_service_phone||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-3",children:"Financial Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Total Assets"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.total_assets)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Net Worth"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.net_worth)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Rating"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:g.rating?"".concat(g.rating,"/5"):"N/A"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Services"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_mobile_app?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"Mobile App"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_online_banking?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"Online Banking"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_atm_services?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"ATM Services"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_foreign_exchange?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"Foreign Exchange"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Location"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Address"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.address||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"City, Region"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.city&&g.region?"".concat(g.city,", ").concat(g.region):"N/A"})]})]})]})]})]})}),v&&g&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Hs,{className:"h-5 w-5 text-red-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Bank"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,Te.jsxs)("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to delete ",(0,Te.jsx)("strong",{children:g.name}),"? This will permanently remove the bank and all associated data."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:8000/api/admin/banks/".concat(g.id),{method:"DELETE"});if(e.ok)y(!1),f(null),M();else{const t=await e.json();console.error("Error deleting bank:",t.detail)}}catch(e){console.error("Error deleting bank:",e)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Bank"})]})]})}),(k||C)&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:A?"Edit Bank":"Create New Bank"}),(0,Te.jsx)("button",{onClick:()=>{_(!1),S(!1),E(null)},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsx)(Cd,{bankData:A,onSave:async e=>{try{const t=A?"http://localhost:8000/api/admin/banks/".concat(A.id):"http://localhost:8000/api/admin/banks/",s=A?"PUT":"POST",a=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)_(!1),S(!1),E(null),M();else{const e=await a.json();console.error("Error saving bank:",e.detail)}}catch(t){console.error("Error saving bank:",t)}},onCancel:()=>{_(!1),S(!1),E(null)}})]})})]});var R},Ad=e=>{let{insuranceData:t,onSave:s,onCancel:a}=e;const[l,r]=(0,n.useState)({name:"",short_name:"",logo_url:"",website:"",phone:"",email:"",address:"",city:"",region:"",country:"",postal_code:"",license_number:"",registration_number:"",established_date:"",insurance_type:"",ownership_type:"",services:"",previous_names:"",coverage_areas:"",branches_count:"",agents_count:"",total_assets:"",net_worth:"",premium_income:"",claims_paid:"",rating:"",head_office_address:"",customer_service_phone:"",customer_service_email:"",claims_phone:"",claims_email:"",has_mobile_app:!1,has_online_portal:!1,has_online_claims:!1,has_24_7_support:!1,specializes_in:"",target_market:"",is_active:!0,is_verified:!1,verification_notes:"",description:"",notes:"",status:"ACTIVE"});(0,n.useEffect)(()=>{t&&r({name:t.name||"",short_name:t.short_name||"",logo_url:t.logo_url||"",website:t.website||"",phone:t.phone||"",email:t.email||"",address:t.address||"",city:t.city||"",region:t.region||"",country:t.country||"",postal_code:t.postal_code||"",license_number:t.license_number||"",registration_number:t.registration_number||"",established_date:t.established_date?t.established_date.split("T")[0]:"",insurance_type:t.insurance_type||"",ownership_type:t.ownership_type||"",services:t.services||"",previous_names:t.previous_names||"",coverage_areas:t.coverage_areas||"",branches_count:t.branches_count||"",agents_count:t.agents_count||"",total_assets:t.total_assets||"",net_worth:t.net_worth||"",premium_income:t.premium_income||"",claims_paid:t.claims_paid||"",rating:t.rating||"",head_office_address:t.head_office_address||"",customer_service_phone:t.customer_service_phone||"",customer_service_email:t.customer_service_email||"",claims_phone:t.claims_phone||"",claims_email:t.claims_email||"",has_mobile_app:t.has_mobile_app||!1,has_online_portal:t.has_online_portal||!1,has_online_claims:t.has_online_claims||!1,has_24_7_support:t.has_24_7_support||!1,specializes_in:t.specializes_in||"",target_market:t.target_market||"",is_active:void 0===t.is_active||t.is_active,is_verified:t.is_verified||!1,verification_notes:t.verification_notes||"",description:t.description||"",notes:t.notes||"",status:t.status||"ACTIVE"})},[t]);const i=e=>{const{name:t,value:s,type:a,checked:n}=e.target;r(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s}))};return(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(l)},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Basic Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Name *"}),(0,Te.jsx)("input",{type:"text",name:"name",value:l.name,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Short Name"}),(0,Te.jsx)("input",{type:"text",name:"short_name",value:l.short_name,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Insurance Type"}),(0,Te.jsxs)("select",{name:"insurance_type",value:l.insurance_type,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Type"}),(0,Te.jsx)("option",{value:"Life Insurance",children:"Life Insurance"}),(0,Te.jsx)("option",{value:"General Insurance",children:"General Insurance"}),(0,Te.jsx)("option",{value:"Health Insurance",children:"Health Insurance"}),(0,Te.jsx)("option",{value:"Motor Insurance",children:"Motor Insurance"}),(0,Te.jsx)("option",{value:"Property Insurance",children:"Property Insurance"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"License Number"}),(0,Te.jsx)("input",{type:"text",name:"license_number",value:l.license_number,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Established Date"}),(0,Te.jsx)("input",{type:"date",name:"established_date",value:l.established_date,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Contact Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),(0,Te.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"email",value:l.email,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Website"}),(0,Te.jsx)("input",{type:"url",name:"website",value:l.website,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),(0,Te.jsx)("textarea",{name:"address",value:l.address,onChange:i,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),(0,Te.jsx)("input",{type:"text",name:"city",value:l.city,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Country"}),(0,Te.jsx)("input",{type:"text",name:"country",value:l.country,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Services & Coverage"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Services (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"services",value:l.services,onChange:i,placeholder:"e.g., Motor Insurance, Property Insurance, Health Insurance",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Coverage Areas (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"coverage_areas",value:l.coverage_areas,onChange:i,placeholder:"e.g., Greater Accra, Ashanti, Western",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Specializes In (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"specializes_in",value:l.specializes_in,onChange:i,placeholder:"e.g., General Insurance, Motor Insurance, Property Insurance",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Previous Names (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"previous_names",value:l.previous_names,onChange:i,placeholder:"e.g., Old Insurance Name, Previous Insurance Ltd",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Financial Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Branches Count"}),(0,Te.jsx)("input",{type:"number",name:"branches_count",value:l.branches_count,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Agents Count"}),(0,Te.jsx)("input",{type:"number",name:"agents_count",value:l.agents_count,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Total Assets (GHS)"}),(0,Te.jsx)("input",{type:"number",name:"total_assets",value:l.total_assets,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Net Worth (GHS)"}),(0,Te.jsx)("input",{type:"number",name:"net_worth",value:l.net_worth,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Status & Options"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_active",checked:l.is_active,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Active"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_verified",checked:l.is_verified,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Verified"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"has_mobile_app",checked:l.has_mobile_app,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Mobile App"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"has_online_portal",checked:l.has_online_portal,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Online Portal"})]})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:t?"Update Insurance":"Create Insurance"})]})]})},Ed=()=>{var e;const[t,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[r,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[d,m]=(0,n.useState)(1),[u,x]=(0,n.useState)(1),[h,p]=(0,n.useState)(0),[g,f]=(0,n.useState)(null),[b,j]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[k,_]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[A,E]=(0,n.useState)(null);(0,n.useEffect)(()=>{M(),I()},[d,r,o]);const M=async()=>{try{l(!0);const e=new URLSearchParams({page:d.toString(),limit:"10"});r&&e.append("search",r),o&&e.append("insurance_type",o);const t=await fetch("http://localhost:8000/api/admin/insurance?".concat(e)),a=await t.json();t.ok?(s(a.insurance||[]),x(a.total_pages||1),p(a.total||0)):console.error("Error loading insurance:",a.detail)}catch(e){console.error("Error loading insurance:",e)}finally{l(!1)}},I=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/insurance/stats"),t=await e.json();e.ok&&w(t)}catch(e){console.error("Error loading analytics:",e)}},P=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"life":return"bg-blue-100 text-blue-800";case"general":return"bg-green-100 text-green-800";case"health":return"bg-red-100 text-red-800";case"motor":return"bg-yellow-100 text-yellow-800";case"property":return"bg-purple-100 text-purple-800";case"marine":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}},L=e=>e?new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"N/A",T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length>t?e.substring(0,t)+"...":e:"N/A"};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Insurance Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage insurance records and analytics"})]}),(0,Te.jsxs)("button",{onClick:()=>{E(null),_(!0)},className:"inline-flex items-center px-4 py-2 bg-sky-600 text-white text-sm font-medium rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-colors",children:[(0,Te.jsx)(ot,{className:"h-4 w-4 mr-2"}),"Create Insurance"]})]}),N&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(ot,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Insurance"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:N.total_insurance||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(Wt,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Assets"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:L(N.total_assets)})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Branches"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:N.total_branches||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(Bt,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Avg Rating"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:(null===(e=N.avg_rating)||void 0===e?void 0:e.toFixed(1))||"0.0"})]})]})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search insurance companies...",value:r,onChange:e=>{i(e.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("select",{value:o,onChange:e=>{c(e.target.value),m(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Insurance Types"}),(0,Te.jsx)("option",{value:"life",children:"Life Insurance"}),(0,Te.jsx)("option",{value:"general",children:"General Insurance"}),(0,Te.jsx)("option",{value:"health",children:"Health Insurance"}),(0,Te.jsx)("option",{value:"motor",children:"Motor Insurance"}),(0,Te.jsx)("option",{value:"property",children:"Property Insurance"}),(0,Te.jsx)("option",{value:"marine",children:"Marine Insurance"})]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,Te.jsx)(ot,{className:"h-4 w-4 mr-2"}),h," total companies"]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading insurance companies..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Company"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assets"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Branches"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:t.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center",children:(0,Te.jsx)(ot,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.short_name||"N/A"})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(P(e.insurance_type)),children:e.insurance_type||"N/A"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"text-sm text-slate-900",children:[e.email&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(bt,{className:"h-3 w-3 mr-1 text-slate-400"}),T(e.email,25)]}),e.phone&&(0,Te.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 mr-1 text-slate-400"}),e.phone]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("div",{className:"text-sm text-slate-900",children:e.city&&e.region?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(gt,{className:"h-3 w-3 mr-1 text-slate-400"}),e.city,", ",e.region]}):(0,Te.jsx)("span",{className:"text-slate-400",children:"N/A"})})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:L(e.total_assets)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.branches_count||0}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{f(e),j(!0)})(e),className:"text-slate-600 hover:text-slate-900 p-1",title:"View Details",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{E(e),S(!0)})(e),className:"text-green-600 hover:text-green-900 p-1",title:"Edit Insurance",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{f(e),y(!0)})(e),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Insurance",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id))})]})}),u>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>m(e=>Math.max(e-1,1)),disabled:1===d,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>m(e=>Math.min(e+1,u)),disabled:d===u,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:d})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:u})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>m(e=>Math.max(e-1,1)),disabled:1===d,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>m(e=>Math.min(e+1,u)),disabled:d===u,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-5 w-5"})})]})})]})]})]})}),b&&g&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Insurance Company Details"}),(0,Te.jsx)("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Company Name"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Short Name"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.short_name||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Insurance Type"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.insurance_type||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"License Number"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.license_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Established Date"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:(R=g.established_date,R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A")})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Status"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.is_active?(0,Te.jsx)("span",{className:"text-green-600",children:"Active"}):(0,Te.jsx)("span",{className:"text-red-600",children:"Inactive"})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-3",children:"Contact Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Email"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.email||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Phone"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.phone||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Website"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.website?(0,Te.jsx)("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:g.website}):"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Customer Service"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.customer_service_phone||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-3",children:"Financial Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Total Assets"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.total_assets)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Net Worth"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.net_worth)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Premium Income"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.premium_income)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Claims Paid"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.claims_paid)})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Services"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_mobile_app?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"Mobile App"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_online_portal?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"Online Portal"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_online_claims?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"Online Claims"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[g.has_24_7_support?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900",children:"24/7 Support"})]})]})]}),g.specializes_in&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Specialization"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.specializes_in})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Location"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Address"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.address||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"City, Region"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.city&&g.region?"".concat(g.city,", ").concat(g.region):"N/A"})]})]})]})]})]})}),v&&g&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Hs,{className:"h-5 w-5 text-red-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Insurance Company"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,Te.jsxs)("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to delete ",(0,Te.jsx)("strong",{children:g.name}),"? This will permanently remove the insurance company and all associated data."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:8000/api/admin/insurance/".concat(g.id),{method:"DELETE"});if(e.ok)y(!1),f(null),M();else{const t=await e.json();console.error("Error deleting insurance:",t.detail)}}catch(e){console.error("Error deleting insurance:",e)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Company"})]})]})}),(k||C)&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:A?"Edit Insurance Company":"Create New Insurance Company"}),(0,Te.jsx)("button",{onClick:()=>{_(!1),S(!1),E(null)},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsx)(Ad,{insuranceData:A,onSave:async e=>{try{const t=A?"http://localhost:8000/api/admin/insurance/".concat(A.id):"http://localhost:8000/api/admin/insurance/",s=A?"PUT":"POST",a=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)_(!1),S(!1),E(null),M();else{const e=await a.json();console.error("Error saving insurance:",e.detail)}}catch(t){console.error("Error saving insurance:",t)}},onCancel:()=>{_(!1),S(!1),E(null)}})]})})]});var R},Md=e=>{let{companyData:t,onSave:s,onCancel:a}=e;const[l,r]=(0,n.useState)({name:"",short_name:"",logo_url:"",website:"",phone:"",email:"",address:"",city:"",region:"",country:"",postal_code:"",type_of_company:"",district:"",date_of_incorporation:"",date_of_commencement:"",nature_of_business:"",registration_number:"",tax_identification_number:"",phone_number:"",directors:"",secretary:"",auditor:"",authorized_shares:"",stated_capital:"",shareholders:"",other_linked_companies:"",tin_number:"",established_date:"",company_type:"",industry:"",ownership_type:"",business_activities:"",previous_names:"",board_of_directors:"",key_personnel:"",subsidiaries:"",annual_revenue:"",net_worth:"",employee_count:"",rating:"",head_office_address:"",customer_service_phone:"",customer_service_email:"",has_website:!1,has_social_media:!1,has_mobile_app:!1,is_active:!0,is_verified:!1,verification_notes:"",description:"",notes:"",status:"ACTIVE"});(0,n.useEffect)(()=>{t&&r({name:t.name||"",short_name:t.short_name||"",logo_url:t.logo_url||"",website:t.website||"",phone:t.phone||"",email:t.email||"",address:t.address||"",city:t.city||"",region:t.region||"",country:t.country||"",postal_code:t.postal_code||"",type_of_company:t.type_of_company||"",district:t.district||"",date_of_incorporation:t.date_of_incorporation?t.date_of_incorporation.split("T")[0]:"",date_of_commencement:t.date_of_commencement?t.date_of_commencement.split("T")[0]:"",nature_of_business:t.nature_of_business||"",registration_number:t.registration_number||"",tax_identification_number:t.tax_identification_number||"",phone_number:t.phone_number||"",directors:t.directors||"",secretary:t.secretary||"",auditor:t.auditor||"",authorized_shares:t.authorized_shares||"",stated_capital:t.stated_capital||"",shareholders:t.shareholders||"",other_linked_companies:t.other_linked_companies||"",tin_number:t.tin_number||"",established_date:t.established_date?t.established_date.split("T")[0]:"",company_type:t.company_type||"",industry:t.industry||"",ownership_type:t.ownership_type||"",business_activities:t.business_activities||"",previous_names:t.previous_names||"",board_of_directors:t.board_of_directors||"",key_personnel:t.key_personnel||"",subsidiaries:t.subsidiaries||"",annual_revenue:t.annual_revenue||"",net_worth:t.net_worth||"",employee_count:t.employee_count||"",rating:t.rating||"",head_office_address:t.head_office_address||"",customer_service_phone:t.customer_service_phone||"",customer_service_email:t.customer_service_email||"",has_website:t.has_website||!1,has_social_media:t.has_social_media||!1,has_mobile_app:t.has_mobile_app||!1,is_active:void 0===t.is_active||t.is_active,is_verified:t.is_verified||!1,verification_notes:t.verification_notes||"",description:t.description||"",notes:t.notes||"",status:t.status||"ACTIVE"})},[t]);const i=e=>{const{name:t,value:s,type:a,checked:n}=e.target;r(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s}))};return(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(l)},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Basic Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Name *"}),(0,Te.jsx)("input",{type:"text",name:"name",value:l.name,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Short Name"}),(0,Te.jsx)("input",{type:"text",name:"short_name",value:l.short_name,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Company Type"}),(0,Te.jsxs)("select",{name:"company_type",value:l.company_type,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"Select Type"}),(0,Te.jsx)("option",{value:"Private Limited",children:"Private Limited"}),(0,Te.jsx)("option",{value:"Public Limited",children:"Public Limited"}),(0,Te.jsx)("option",{value:"Partnership",children:"Partnership"}),(0,Te.jsx)("option",{value:"Sole Proprietorship",children:"Sole Proprietorship"}),(0,Te.jsx)("option",{value:"Non-Profit",children:"Non-Profit"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Industry"}),(0,Te.jsx)("input",{type:"text",name:"industry",value:l.industry,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Registration Number"}),(0,Te.jsx)("input",{type:"text",name:"registration_number",value:l.registration_number,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Established Date"}),(0,Te.jsx)("input",{type:"date",name:"established_date",value:l.established_date,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Contact Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),(0,Te.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),(0,Te.jsx)("input",{type:"email",name:"email",value:l.email,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Website"}),(0,Te.jsx)("input",{type:"url",name:"website",value:l.website,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),(0,Te.jsx)("textarea",{name:"address",value:l.address,onChange:i,rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),(0,Te.jsx)("input",{type:"text",name:"city",value:l.city,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Country"}),(0,Te.jsx)("input",{type:"text",name:"country",value:l.country,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Business Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Business Activities (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"business_activities",value:l.business_activities,onChange:i,placeholder:"e.g., Software Development, IT Consulting, Digital Solutions",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Directors (comma-separated)"}),(0,Te.jsx)("input",{type:"text",name:"directors",value:l.directors,onChange:i,placeholder:"e.g., John Doe, Jane Smith, Bob Johnson",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Secretary"}),(0,Te.jsx)("input",{type:"text",name:"secretary",value:l.secretary,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Auditor"}),(0,Te.jsx)("input",{type:"text",name:"auditor",value:l.auditor,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Financial Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Employee Count"}),(0,Te.jsx)("input",{type:"number",name:"employee_count",value:l.employee_count,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Annual Revenue (GHS)"}),(0,Te.jsx)("input",{type:"number",name:"annual_revenue",value:l.annual_revenue,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Net Worth (GHS)"}),(0,Te.jsx)("input",{type:"number",name:"net_worth",value:l.net_worth,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 border-b pb-2",children:"Status & Options"}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_active",checked:l.is_active,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Active"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_verified",checked:l.is_verified,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Verified"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"has_website",checked:l.has_website,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Has Website"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"has_mobile_app",checked:l.has_mobile_app,onChange:i,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Mobile App"})]})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:t?"Update Company":"Create Company"})]})]})},Id=()=>{var e;const[t,s]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[r,i]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[d,m]=(0,n.useState)(1),[u,x]=(0,n.useState)(1),[h,p]=(0,n.useState)(0),[g,f]=(0,n.useState)(null),[b,j]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[k,_]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[A,E]=(0,n.useState)(null);(0,n.useEffect)(()=>{M(),I()},[d,r,o]);const M=async()=>{try{l(!0);const e=new URLSearchParams({page:d.toString(),limit:"10"});r&&e.append("search",r),o&&e.append("company_type",o);const t=await fetch("http://localhost:8000/api/admin/companies?".concat(e)),a=await t.json();t.ok?(s(a.companies||[]),x(a.total_pages||1),p(a.total||0)):console.error("Error loading companies:",a.detail)}catch(e){console.error("Error loading companies:",e)}finally{l(!1)}},I=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/companies/stats"),t=await e.json();e.ok&&w(t)}catch(e){console.error("Error loading analytics:",e)}},P=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"limited":return"bg-blue-100 text-blue-800";case"public":return"bg-green-100 text-green-800";case"private":return"bg-purple-100 text-purple-800";case"partnership":return"bg-yellow-100 text-yellow-800";case"sole proprietorship":return"bg-orange-100 text-orange-800";case"ngo":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=e=>e?new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"N/A",T=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length>t?e.substring(0,t)+"...":e:"N/A"};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Company Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage company records and analytics"})]}),(0,Te.jsxs)("button",{onClick:()=>{E(null),_(!0)},className:"inline-flex items-center px-4 py-2 bg-sky-600 text-white text-sm font-medium rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 transition-colors",children:[(0,Te.jsx)(Rs,{className:"h-4 w-4 mr-2"}),"Create Company"]})]}),N&&(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(dt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Companies"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:N.total_companies||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(Wt,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Revenue"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:L(N.total_revenue)})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(ct,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Employees"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:N.total_employees||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(Bt,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Avg Rating"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:(null===(e=N.avg_rating)||void 0===e?void 0:e.toFixed(1))||"0.0"})]})]})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search companies...",value:r,onChange:e=>{i(e.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("select",{value:o,onChange:e=>{c(e.target.value),m(1)},className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Company Types"}),(0,Te.jsx)("option",{value:"limited",children:"Limited Company"}),(0,Te.jsx)("option",{value:"public",children:"Public Company"}),(0,Te.jsx)("option",{value:"private",children:"Private Company"}),(0,Te.jsx)("option",{value:"partnership",children:"Partnership"}),(0,Te.jsx)("option",{value:"sole proprietorship",children:"Sole Proprietorship"}),(0,Te.jsx)("option",{value:"ngo",children:"NGO"})]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 flex items-center",children:[(0,Te.jsx)(dt,{className:"h-4 w-4 mr-2"}),h," total companies"]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:a?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-600",children:"Loading companies..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Company"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Industry"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Revenue"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:t.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center",children:(0,Te.jsx)(Rs,{className:"h-5 w-5 text-slate-400"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.short_name||"N/A"})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(P(e.company_type)),children:e.company_type||"N/A"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.industry||"N/A"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"text-sm text-slate-900",children:[e.email&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(bt,{className:"h-3 w-3 mr-1 text-slate-400"}),R(e.email,25)]}),e.phone&&(0,Te.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 mr-1 text-slate-400"}),e.phone]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("div",{className:"text-sm text-slate-900",children:e.city&&e.region?(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(gt,{className:"h-3 w-3 mr-1 text-slate-400"}),e.city,", ",e.region]}):(0,Te.jsx)("span",{className:"text-slate-400",children:"N/A"})})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:L(e.annual_revenue)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{f(e),j(!0)})(e),className:"text-slate-600 hover:text-slate-900 p-1",title:"View Details",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{E(e),S(!0)})(e),className:"text-green-600 hover:text-green-900 p-1",title:"Edit Company",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{f(e),y(!0)})(e),className:"text-red-600 hover:text-red-900 p-1",title:"Delete Company",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id))})]})}),u>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>m(e=>Math.max(e-1,1)),disabled:1===d,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>m(e=>Math.min(e+1,u)),disabled:d===u,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:d})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:u})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>m(e=>Math.max(e-1,1)),disabled:1===d,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Lt,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>m(e=>Math.min(e+1,u)),disabled:d===u,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Te.jsx)(Tt,{className:"h-5 w-5"})})]})})]})]})]})}),b&&g&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Company Details"}),(0,Te.jsx)("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Company Name"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Short Name"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.short_name||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Company Type"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.company_type||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Industry"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.industry||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Registration Number"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.registration_number||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"TIN Number"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.tax_identification_number||"N/A"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-3",children:"Contact Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Email"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.email||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Phone"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.phone||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Website"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.website?(0,Te.jsx)("a",{href:g.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:g.website}):"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Customer Service"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.customer_service_phone||"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-3",children:"Financial Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Annual Revenue"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.annual_revenue)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Net Worth"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:L(g.net_worth)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Employee Count"}),(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900",children:g.employee_count||"N/A"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Business Activities"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.business_activities||"N/A"})]}),g.directors&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Directors"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.directors})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Location"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Address"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.address||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"City, Region"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:g.city&&g.region?"".concat(g.city,", ").concat(g.region):"N/A"})]})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Date of Incorporation"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:T(g.date_of_incorporation)})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-sm font-medium text-slate-500 mb-2",children:"Date of Commencement"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900",children:T(g.date_of_commencement)})]})]})]})]})}),v&&g&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,Te.jsx)(Hs,{className:"h-5 w-5 text-red-600"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Company"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"This action cannot be undone."})]})]}),(0,Te.jsxs)("p",{className:"text-slate-700 mb-6",children:["Are you sure you want to delete ",(0,Te.jsx)("strong",{children:g.name}),"? This will permanently remove the company and all associated data."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>y(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{try{const e=await fetch("http://localhost:8000/api/admin/companies/".concat(g.id),{method:"DELETE"});if(e.ok)y(!1),f(null),M();else{const t=await e.json();console.error("Error deleting company:",t.detail)}}catch(e){console.error("Error deleting company:",e)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Company"})]})]})}),(k||C)&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:A?"Edit Company":"Create New Company"}),(0,Te.jsx)("button",{onClick:()=>{_(!1),S(!1),E(null)},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsx)(Md,{companyData:A,onSave:async e=>{try{const t=A?"http://localhost:8000/api/admin/companies/".concat(A.id):"http://localhost:8000/api/admin/companies/",s=A?"PUT":"POST",a=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)_(!1),S(!1),E(null),M();else{const e=await a.json();console.error("Error saving company:",e.detail)}}catch(t){console.error("Error saving company:",t)}},onCancel:()=>{_(!1),S(!1),E(null)}})]})})]})},Pd=e=>{let{payment:t,onSave:s,onCancel:a}=e;const[l,r]=(0,n.useState)({subscription_id:"",user_id:"",amount:"",currency:"USD",status:"pending",stripe_payment_intent_id:"",stripe_charge_id:"",payment_method:"",last_four:"",billing_period_start:"",billing_period_end:"",paid_at:""});(0,n.useEffect)(()=>{t&&r({subscription_id:t.subscription_id||"",user_id:t.user_id||"",amount:t.amount||"",currency:t.currency||"USD",status:t.status||"pending",stripe_payment_intent_id:t.stripe_payment_intent_id||"",stripe_charge_id:t.stripe_charge_id||"",payment_method:t.payment_method||"",last_four:t.last_four||"",billing_period_start:t.billing_period_start?t.billing_period_start.split("T")[0]:"",billing_period_end:t.billing_period_end?t.billing_period_end.split("T")[0]:"",paid_at:t.paid_at?t.paid_at.split("T")[0]:""})},[t]);const i=e=>{const{name:t,value:s}=e.target;r(e=>Ue(Ue({},e),{},{[t]:s}))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:t?"Edit Payment":"Create Payment"}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=Ue(Ue({},l),{},{amount:parseFloat(l.amount),subscription_id:parseInt(l.subscription_id),user_id:parseInt(l.user_id),billing_period_start:l.billing_period_start?new Date(l.billing_period_start).toISOString():null,billing_period_end:l.billing_period_end?new Date(l.billing_period_end).toISOString():null,paid_at:l.paid_at?new Date(l.paid_at).toISOString():null});s(t)},className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subscription ID *"}),(0,Te.jsx)("input",{type:"number",name:"subscription_id",value:l.subscription_id,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"User ID *"}),(0,Te.jsx)("input",{type:"number",name:"user_id",value:l.user_id,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount *"}),(0,Te.jsx)("input",{type:"number",step:"0.01",name:"amount",value:l.amount,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Currency"}),(0,Te.jsxs)("select",{name:"currency",value:l.currency,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"USD",children:"USD"}),(0,Te.jsx)("option",{value:"EUR",children:"EUR"}),(0,Te.jsx)("option",{value:"GBP",children:"GBP"}),(0,Te.jsx)("option",{value:"GHS",children:"GHS"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),(0,Te.jsxs)("select",{name:"status",value:l.status,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"completed",children:"Completed"}),(0,Te.jsx)("option",{value:"failed",children:"Failed"}),(0,Te.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,Te.jsx)("option",{value:"refunded",children:"Refunded"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Payment Method"}),(0,Te.jsx)("input",{type:"text",name:"payment_method",value:l.payment_method,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Last Four Digits"}),(0,Te.jsx)("input",{type:"text",name:"last_four",value:l.last_four,onChange:i,maxLength:"4",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Billing Period Start *"}),(0,Te.jsx)("input",{type:"date",name:"billing_period_start",value:l.billing_period_start,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Billing Period End *"}),(0,Te.jsx)("input",{type:"date",name:"billing_period_end",value:l.billing_period_end,onChange:i,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Paid At"}),(0,Te.jsx)("input",{type:"date",name:"paid_at",value:l.paid_at,onChange:i,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors",children:t?"Update Payment":"Create Payment"})]})]})]})})},Ld=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[l,r]=(0,n.useState)(null),[i,o]=(0,n.useState)({}),[c,d]=(0,n.useState)(1),[m,u]=(0,n.useState)(1),[x,h]=(0,n.useState)(0),[p,g]=(0,n.useState)(""),[f,b]=(0,n.useState)(""),[j,v]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(null);(0,n.useEffect)(()=>{_(),C()},[c,p,f]);const _=async()=>{try{a(!0);const e=new URLSearchParams(Ue(Ue({page:c,limit:10},p&&{search:p}),f&&{status:f})),s=await fetch("/api/admin/payments?".concat(e));if(!s.ok)throw new Error("Failed to fetch payments");const n=await s.json();t(n.payments||[]),u(n.total_pages||1),h(n.total||0)}catch(e){r(e.message)}finally{a(!1)}},C=async()=>{try{const e=await fetch("/api/admin/payments/stats");if(!e.ok)throw new Error("Failed to fetch stats");const t=await e.json();o(t)}catch(e){console.error("Error loading stats:",e)}},S=e=>{switch(e){case"completed":return(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"});case"pending":return(0,Te.jsx)(Qe,{className:"h-4 w-4 text-yellow-500"});case"failed":return(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"});case"cancelled":return(0,Te.jsx)(Ye,{className:"h-4 w-4 text-gray-500"});default:return(0,Te.jsx)(Qe,{className:"h-4 w-4 text-gray-500"})}},A=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)};return s&&0===e.length?(0,Te.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600"})}):(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Payment Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage payment records and transactions"})]}),(0,Te.jsxs)("button",{onClick:()=>{k(null),v(!0)},className:"flex items-center space-x-2 bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Create Payment"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(pt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Payments"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:i.total_payments||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(Wt,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Revenue"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:E(i.total_revenue||0)})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(Qe,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Pending"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:i.pending_payments||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Completed"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:i.completed_payments||0})]})]})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search payments...",value:p,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})}),(0,Te.jsx)("div",{className:"md:w-48",children:(0,Te.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Statuses"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"completed",children:"Completed"}),(0,Te.jsx)("option",{value:"failed",children:"Failed"}),(0,Te.jsx)("option",{value:"cancelled",children:"Cancelled"})]})})]})}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payment ID"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Amount"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Payment Method"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(e=>{return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900",children:["#",e.id]}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:["User #",e.user_id]}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:E(e.amount,e.currency)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(A(e.status)),children:[S(e.status),(0,Te.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:e.payment_method||"N/A"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:(t=e.created_at,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{k(e),N(!0)})(e),className:"text-sky-600 hover:text-sky-900",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this payment?"))try{if(!(await fetch("/api/admin/payments/".concat(e),{method:"DELETE"})).ok)throw new Error("Failed to delete payment");_(),C()}catch(t){r(t.message)}})(e.id),className:"text-red-600 hover:text-red-900",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id);var t})})]})}),(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200 sm:px-6",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>d(Math.min(m,c+1)),disabled:c===m,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing ",(0,Te.jsx)("span",{className:"font-medium",children:10*(c-1)+1})," to"," ",(0,Te.jsx)("span",{className:"font-medium",children:Math.min(10*c,x)})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:x})," results"]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>d(Math.max(1,c-1)),disabled:1===c,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>d(Math.min(m,c+1)),disabled:c===m,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50",children:"Next"})]})})]})]})]}),(j||y)&&(0,Te.jsx)(Pd,{payment:w,onSave:async e=>{try{const t=w?"/api/admin/payments/".concat(w.id):"/api/admin/payments",s=w?"PUT":"POST";if(!(await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to save payment");v(!1),N(!1),k(null),_(),C()}catch(t){r(t.message)}},onCancel:()=>{v(!1),N(!1),k(null)}})]})},Td=e=>{let{setting:t,onSave:s,onCancel:a}=e;const[l,r]=(0,n.useState)({key:"",category:"general",value:"",value_type:"string",description:"",is_public:!1,is_editable:!0,is_required:!1,validation_rules:"",default_value:""}),[i,o]=(0,n.useState)({}),[c,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{t&&r({key:t.key||"",category:t.category||"general",value:t.value||"",value_type:t.value_type||"string",description:t.description||"",is_public:t.is_public||!1,is_editable:void 0===t.is_editable||t.is_editable,is_required:t.is_required||!1,validation_rules:t.validation_rules?JSON.stringify(t.validation_rules,null,2):"",default_value:t.default_value||""})},[t]);const m=e=>{const{name:t,value:s,type:a,checked:n}=e.target;r(e=>Ue(Ue({},e),{},{[t]:"checkbox"===a?n:s}))};return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:t?"Edit Setting":"Create Setting"}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const t={};if(l.key.trim()?/^[a-zA-Z0-9_]+$/.test(l.key)||(t.key="Key can only contain letters, numbers, and underscores"):t.key="Key is required",l.category.trim()||(t.category="Category is required"),l.value_type.trim()||(t.value_type="Value type is required"),l.validation_rules.trim())try{JSON.parse(l.validation_rules)}catch(e){t.validation_rules="Validation rules must be valid JSON"}if(l.value.trim())switch(l.value_type){case"number":isNaN(Number(l.value))&&(t.value="Value must be a valid number");break;case"boolean":["true","false"].includes(l.value.toLowerCase())||(t.value='Value must be "true" or "false"');break;case"json":try{JSON.parse(l.value)}catch(e){t.value="Value must be valid JSON"}}return o(t),0===Object.keys(t).length})()){d(!0);try{const e=Ue(Ue({},l),{},{validation_rules:l.validation_rules?JSON.parse(l.validation_rules):null});await s(e)}finally{d(!1)}}},className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Key *"}),(0,Te.jsx)("input",{type:"text",name:"key",value:l.key,onChange:m,required:!0,disabled:!!t,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 disabled:bg-slate-100 ".concat(i.key?"border-red-300":"border-slate-300")}),i.key&&(0,Te.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.key})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category *"}),(0,Te.jsxs)("select",{name:"category",value:l.category,onChange:m,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"general",children:"General"}),(0,Te.jsx)("option",{value:"payment",children:"Payment"}),(0,Te.jsx)("option",{value:"email",children:"Email"}),(0,Te.jsx)("option",{value:"security",children:"Security"}),(0,Te.jsx)("option",{value:"api",children:"API"}),(0,Te.jsx)("option",{value:"ui",children:"UI"}),(0,Te.jsx)("option",{value:"database",children:"Database"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Value Type *"}),(0,Te.jsxs)("select",{name:"value_type",value:l.value_type,onChange:m,required:!0,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"string",children:"String"}),(0,Te.jsx)("option",{value:"number",children:"Number"}),(0,Te.jsx)("option",{value:"boolean",children:"Boolean"}),(0,Te.jsx)("option",{value:"json",children:"JSON"}),(0,Te.jsx)("option",{value:"array",children:"Array"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Default Value"}),(0,Te.jsx)("input",{type:"text",name:"default_value",value:l.default_value,onChange:m,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Value"}),(0,Te.jsx)("textarea",{name:"value",value:l.value,onChange:m,rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 ".concat(i.value?"border-red-300":"border-slate-300")}),i.value&&(0,Te.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.value})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),(0,Te.jsx)("textarea",{name:"description",value:l.description,onChange:m,rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Validation Rules (JSON)"}),(0,Te.jsx)("textarea",{name:"validation_rules",value:l.validation_rules,onChange:m,rows:3,placeholder:'{"min": 0, "max": 100, "pattern": "^[a-zA-Z]+$"}',className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 ".concat(i.validation_rules?"border-red-300":"border-slate-300")}),i.validation_rules&&(0,Te.jsx)("p",{className:"mt-1 text-sm text-red-600",children:i.validation_rules})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_public",checked:l.is_public,onChange:m,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Public"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_editable",checked:l.is_editable,onChange:m,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Editable"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",name:"is_required",checked:l.is_required,onChange:m,className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Required"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsxs)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[c&&(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,Te.jsx)("span",{children:c?"Saving...":t?"Update Setting":"Create Setting"})]})]})]})]})})},Rd=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[l,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)({}),[m,u]=(0,n.useState)(1),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)(0),[f,b]=(0,n.useState)(""),[j,v]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[w,k]=(0,n.useState)(""),[_,C]=(0,n.useState)(!1),[S,A]=(0,n.useState)(!1),[E,M]=(0,n.useState)(null),[I,P]=(0,n.useState)([]),[L,T]=(0,n.useState)(!1);(0,n.useEffect)(()=>{R(),D()},[m,f,j,y,w]);const R=async()=>{try{a(!0),r(null);const e=new URLSearchParams(Ue(Ue(Ue(Ue({page:m,limit:10},f&&{search:f}),j&&{category:j}),""!==y&&{is_public:y}),""!==w&&{is_editable:w})),s="http://localhost:8000",n=await fetch("".concat(s,"/api/admin/settings?").concat(e));if(!n.ok){const e=await n.text();throw console.error("API Error:",n.status,e),new Error("Failed to fetch settings: ".concat(n.status," ").concat(n.statusText))}const l=n.headers.get("content-type");if(!l||!l.includes("application/json")){const e=await n.text();throw console.error("Non-JSON response:",e),new Error("Server returned non-JSON response. Please check if the backend is running.")}const i=await n.json();t(i.settings||[]),h(i.total_pages||1),g(i.total||0)}catch(e){console.error("Settings loading error:",e),r(e.message)}finally{a(!1)}},D=async()=>{try{const e="http://localhost:8000",t=await fetch("".concat(e,"/api/admin/settings/stats"));if(!t.ok){const e=await t.text();throw console.error("Stats API Error:",t.status,e),new Error("Failed to fetch stats: ".concat(t.status," ").concat(t.statusText))}const s=t.headers.get("content-type");if(!s||!s.includes("application/json")){const e=await t.text();throw console.error("Non-JSON stats response:",e),new Error("Server returned non-JSON response for stats.")}const a=await t.json();d(a)}catch(e){console.error("Error loading stats:",e)}},O=e=>{switch(e){case"string":return(0,Te.jsx)("span",{className:"text-blue-500",children:"\ud83d\udcdd"});case"number":return(0,Te.jsx)("span",{className:"text-green-500",children:"\ud83d\udd22"});case"boolean":return(0,Te.jsx)("span",{className:"text-purple-500",children:"\u2705"});case"json":return(0,Te.jsx)("span",{className:"text-orange-500",children:"\ud83d\udccb"});case"array":return(0,Te.jsx)("span",{className:"text-pink-500",children:"\ud83d\udcca"});default:return(0,Te.jsx)("span",{className:"text-gray-500",children:"\u2753"})}},F=(e,t)=>{if(!e)return"Not set";switch(t){case"boolean":return"true"===e?"Yes":"No";case"json":try{return JSON.stringify(JSON.parse(e),null,2)}catch(s){return e}case"array":try{const t=JSON.parse(e);return Array.isArray(t)?t.join(", "):e}catch(a){return e}default:return e}};return s&&0===e.length?(0,Te.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-600"})}):(0,Te.jsxs)("div",{className:"space-y-6",children:[l&&(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-2",children:[(0,Te.jsx)(Kt,{className:"h-5 w-5 text-red-500"}),(0,Te.jsx)("span",{className:"text-red-700",children:l}),(0,Te.jsx)("button",{onClick:()=>r(null),className:"ml-auto text-red-500 hover:text-red-700",children:(0,Te.jsx)(Kt,{className:"h-4 w-4"})})]}),i&&(0,Te.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-2",children:[(0,Te.jsx)(qe,{className:"h-5 w-5 text-green-500"}),(0,Te.jsx)("span",{className:"text-green-700",children:i}),(0,Te.jsx)("button",{onClick:()=>o(null),className:"ml-auto text-green-500 hover:text-green-700",children:(0,Te.jsx)(Kt,{className:"h-4 w-4"})})]}),(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Settings Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage system configuration and settings"})]}),(0,Te.jsxs)("button",{onClick:()=>{M(null),C(!0)},className:"flex items-center space-x-2 bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Create Setting"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(Ze,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Settings"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:c.total_settings||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(es,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Public Settings"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:c.public_settings||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(fd,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Editable"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:c.editable_settings||0})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,Te.jsx)(Ye,{className:"h-6 w-6 text-red-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Required"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:c.required_settings||0})]})]})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,Te.jsx)("div",{className:"lg:col-span-2",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search settings...",value:f,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Categories"}),(0,Te.jsx)("option",{value:"general",children:"General"}),(0,Te.jsx)("option",{value:"payment",children:"Payment"}),(0,Te.jsx)("option",{value:"email",children:"Email"}),(0,Te.jsx)("option",{value:"security",children:"Security"}),(0,Te.jsx)("option",{value:"api",children:"API"}),(0,Te.jsx)("option",{value:"ui",children:"UI"}),(0,Te.jsx)("option",{value:"database",children:"Database"})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Visibility"}),(0,Te.jsx)("option",{value:"true",children:"Public"}),(0,Te.jsx)("option",{value:"false",children:"Private"})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500",children:[(0,Te.jsx)("option",{value:"",children:"All Editability"}),(0,Te.jsx)("option",{value:"true",children:"Editable"}),(0,Te.jsx)("option",{value:"false",children:"Read-only"})]})})]})}),I.length>0&&(0,Te.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-center justify-between",children:[(0,Te.jsxs)("span",{className:"text-blue-700 font-medium",children:[I.length," setting",1!==I.length?"s":""," selected"]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:async()=>{if(0!==I.length&&window.confirm("Are you sure you want to delete ".concat(I.length," settings?")))try{r(null),o(null);const e="http://localhost:8000",t=I.map(t=>fetch("".concat(e,"/api/admin/settings/").concat(t),{method:"DELETE"})),s=(await Promise.allSettled(t)).filter(e=>"rejected"===e.status||!e.value.ok);if(s.length>0)throw new Error("".concat(s.length," settings failed to delete"));o("".concat(I.length," settings deleted successfully!")),P([]),R(),D(),setTimeout(()=>o(null),3e3)}catch(e){r(e.message)}},className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors",children:"Delete Selected"}),(0,Te.jsx)("button",{onClick:()=>P([]),className:"px-3 py-1 bg-slate-600 text-white text-sm rounded hover:bg-slate-700 transition-colors",children:"Clear Selection"})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:(0,Te.jsx)("input",{type:"checkbox",checked:I.length===e.length&&e.length>0,onChange:()=>{I.length===e.length?P([]):P(e.map(e=>e.id))},className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"})}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Key"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Category"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Value"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Properties"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(e=>{return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("input",{type:"checkbox",checked:I.includes(e.id),onChange:()=>{return t=e.id,void P(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"})}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.key}),e.description&&(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.description})]}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((t=e.category,{general:"bg-blue-100 text-blue-800",payment:"bg-green-100 text-green-800",email:"bg-purple-100 text-purple-800",security:"bg-red-100 text-red-800",api:"bg-yellow-100 text-yellow-800",ui:"bg-pink-100 text-pink-800",database:"bg-indigo-100 text-indigo-800"}[t]||"bg-gray-100 text-gray-800")),children:e.category})}),(0,Te.jsx)("td",{className:"px-6 py-4",children:(0,Te.jsx)("div",{className:"text-sm text-slate-900 max-w-xs truncate",children:F(e.value,e.value_type)})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-1",children:[O(e.value_type),(0,Te.jsx)("span",{className:"text-sm text-slate-900 capitalize",children:e.value_type})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex space-x-1",children:[e.is_public&&(0,Te.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Te.jsx)(es,{className:"h-3 w-3 mr-1"}),"Public"]}),!e.is_editable&&(0,Te.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,Te.jsx)(Rt,{className:"h-3 w-3 mr-1"}),"Read-only"]}),e.is_required&&(0,Te.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Te.jsx)(Ye,{className:"h-3 w-3 mr-1"}),"Required"]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{M(e),A(!0)})(e),disabled:!e.is_editable,className:"text-sky-600 hover:text-sky-900 disabled:text-gray-400 disabled:cursor-not-allowed",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this setting?"))try{r(null),o(null);const t="http://localhost:8000",s=await fetch("".concat(t,"/api/admin/settings/").concat(e),{method:"DELETE"});if(!s.ok){const e=await s.json();throw new Error(e.detail||"Failed to delete setting")}o("Setting deleted successfully!"),R(),D(),setTimeout(()=>o(null),3e3)}catch(t){r(t.message)}})(e.id),disabled:e.is_required,className:"text-red-600 hover:text-red-900 disabled:text-gray-400 disabled:cursor-not-allowed",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id);var t})})]})}),(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200 sm:px-6",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>u(Math.max(1,m-1)),disabled:1===m,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>u(Math.min(x,m+1)),disabled:m===x,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing ",(0,Te.jsx)("span",{className:"font-medium",children:10*(m-1)+1})," to"," ",(0,Te.jsx)("span",{className:"font-medium",children:Math.min(10*m,p)})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:p})," results"]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>u(Math.max(1,m-1)),disabled:1===m,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>u(Math.min(x,m+1)),disabled:m===x,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50",children:"Next"})]})})]})]})]}),(_||S)&&(0,Te.jsx)(Td,{setting:E,onSave:async e=>{try{r(null),o(null);const t="http://localhost:8000",s=E?"".concat(t,"/api/admin/settings/").concat(E.id):"".concat(t,"/api/admin/settings"),a=E?"PUT":"POST",n=await fetch(s,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const e=await n.json();throw new Error(e.detail||"Failed to save setting")}C(!1),A(!1),M(null),o(E?"Setting updated successfully!":"Setting created successfully!"),R(),D(),setTimeout(()=>o(null),3e3)}catch(t){r(t.message)}},onCancel:()=>{C(!1),A(!1),M(null)}})]})},Dd=()=>{const[e,t]=(0,n.useState)("roles"),[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)([]),[m,u]=(0,n.useState)(0),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)(""),[f,b]=(0,n.useState)(!1),[j,v]=(0,n.useState)(null),[y,N]=(0,n.useState)({name:"",display_name:"",description:"",is_active:!0,permissions:[]}),[w,k]=(0,n.useState)([]),[_,C]=(0,n.useState)(0),[S,A]=(0,n.useState)(1),[E,M]=(0,n.useState)(""),[I,P]=(0,n.useState)(""),[L,T]=(0,n.useState)(!1),[R,D]=(0,n.useState)(null),[O,F]=(0,n.useState)({name:"",display_name:"",description:"",category:"",resource:"",action:"",is_active:!0}),[z,B]=(0,n.useState)([]),[U,H]=(0,n.useState)(0),[V,W]=(0,n.useState)(1),[G,q]=(0,n.useState)(!1),[Y,$]=(0,n.useState)({user_id:"",role_id:"",expires_at:"",notes:""}),[J,K]=(0,n.useState)([]),[Q,X]=(0,n.useState)(""),[Z,ee]=(0,n.useState)([]),[te,se]=(0,n.useState)(!1),[ae,ne]=(0,n.useState)(!1),[le,re]=(0,n.useState)(null),[ie,oe]=(0,n.useState)(""),[ce,de]=(0,n.useState)({roles:{total:0,active:0,system:0,custom:0},permissions:{total:0,active:0,system:0,custom:0,categories:{}},user_roles:{total:0,active:0}}),me=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/users?limit=100");if(e.ok){const t=await e.json();K(t.users||[])}}catch(l){console.error("Error loading users:",l)}};(0,n.useEffect)(()=>{if(""===Q.trim())ee(J.slice(0,10));else{const e=J.filter(e=>{var t,s,a;return(null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase().includes(Q.toLowerCase()))||(null===(s=e.last_name)||void 0===s?void 0:s.toLowerCase().includes(Q.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(Q.toLowerCase()))||"".concat(e.first_name," ").concat(e.last_name).toLowerCase().includes(Q.toLowerCase())}).slice(0,10);ee(e)}},[Q,J]);const ue=(e,t)=>{re(()=>e),oe(t),ne(!0)};(0,n.useEffect)(()=>{const e=e=>{te&&!e.target.closest(".user-dropdown-container")&&se(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[te]),(0,n.useEffect)(()=>{xe(),me(),"roles"===e?he():"permissions"===e?pe():"user-roles"===e&&ge()},[e,x,S,V,p,E,I]);const xe=async()=>{try{const e=await fetch("http://localhost:8000/api/admin/roles/stats");if(e.ok){const t=await e.json();de(t)}}catch(l){console.error("Error loading stats:",l)}},he=async()=>{try{a(!0);const e=new URLSearchParams(Ue({page:x,limit:10},p&&{search:p})),t=await fetch("http://localhost:8000/api/admin/roles/roles?".concat(e));if(t.ok){const e=await t.json();d(e.roles||[]),u(e.total||0)}}catch(l){console.error("Error loading roles:",l),r("Failed to load roles")}finally{a(!1)}},pe=async()=>{try{a(!0);const e=new URLSearchParams(Ue(Ue({page:S,limit:10},E&&{search:E}),I&&{category:I})),t=await fetch("http://localhost:8000/api/admin/roles/permissions?".concat(e));if(t.ok){const e=await t.json();k(e.permissions||[]),C(e.total||0)}}catch(l){console.error("Error loading permissions:",l),r("Failed to load permissions")}finally{a(!1)}},ge=async()=>{try{a(!0);const e=new URLSearchParams({page:V,limit:10}),t=await fetch("http://localhost:8000/api/admin/roles/user-roles?".concat(e));if(t.ok){const e=await t.json();B(e.user_roles||[]),H(e.total||0)}}catch(l){console.error("Error loading user roles:",l),r("Failed to load user roles")}finally{a(!1)}},fe=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,Te.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,Te.jsx)(ot,{className:"h-3 w-3 mr-1"}),"System"]}):(0,Te.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[e?(0,Te.jsx)(qe,{className:"h-3 w-3 mr-1"}):(0,Te.jsx)(tt,{className:"h-3 w-3 mr-1"}),e?"Active":"Inactive"]})};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Roles & Permissions"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage user roles, permissions, and access control"})]}),(0,Te.jsxs)("button",{onClick:async()=>{r(null),o(null),a(!0);try{await xe(),await me(),"roles"===e?await he():"permissions"===e?await pe():"user-roles"===e&&await ge(),o("Data refreshed successfully")}catch(l){console.error("Error refreshing data:",l),r("Failed to refresh data")}finally{a(!1)}},disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4 ".concat(s?"animate-spin":"")}),(0,Te.jsx)("span",{children:s?"Refreshing...":"Refresh"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-blue-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Roles"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:ce.roles.total}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:[ce.roles.active," active"]}),(0,Te.jsxs)("span",{className:"text-sm text-slate-500 ml-2",children:["\u2022 ",ce.roles.custom," custom"]})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,Te.jsx)(ot,{className:"h-8 w-8 text-blue-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Permissions"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:ce.permissions.total}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:[ce.permissions.active," active"]}),(0,Te.jsxs)("span",{className:"text-sm text-slate-500 ml-2",children:["\u2022 ",Object.keys(ce.permissions.categories||{}).length," categories"]})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,Te.jsx)(dd,{className:"h-8 w-8 text-green-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-purple-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"User Assignments"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:ce.user_roles.total}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:[ce.user_roles.active," active"]}),(0,Te.jsx)("span",{className:"text-sm text-slate-500 ml-2",children:"assignments"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,Te.jsx)(cd,{className:"h-8 w-8 text-purple-600"})})]})})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Te.jsx)("div",{className:"border-b border-slate-200",children:(0,Te.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"roles",name:"Roles",icon:ot},{id:"permissions",name:"Permissions",icon:dd},{id:"user-roles",name:"User Assignments",icon:cd}].map(s=>{const a=s.icon;return(0,Te.jsxs)("button",{onClick:()=>t(s.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ".concat(e===s.id?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:[(0,Te.jsx)(a,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:s.name})]},s.id)})})}),(0,Te.jsxs)("div",{className:"p-6",children:["roles"===e&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search roles...",value:p,onChange:e=>g(e.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsx)("button",{onClick:()=>{r(null),o(null),he()},disabled:s,className:"flex items-center space-x-2 px-3 py-2 text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50",title:"Refresh roles",children:(0,Te.jsx)(Ut,{className:"h-4 w-4 ".concat(s?"animate-spin":"")})})]}),(0,Te.jsxs)("button",{onClick:()=>{v(null),N({name:"",display_name:"",description:"",is_active:!0,permissions:[]}),b(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Create Role"})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Description"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Permissions"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:s?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin mr-2"}),"Loading roles..."]})})}):0===c.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-slate-500",children:"No roles found"})}):c.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.display_name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.name})]})}),(0,Te.jsx)("td",{className:"px-6 py-4",children:(0,Te.jsx)("div",{className:"text-sm text-slate-900 max-w-xs truncate",children:e.description||"No description"})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:fe(e.is_active,e.is_system_role)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("span",{className:"text-sm text-slate-900",children:[e.permissions?e.permissions.length:0," permissions"]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>{v(e),N({name:e.name,display_name:e.display_name,description:e.description||"",is_active:e.is_active,permissions:e.permissions||[]}),b(!0)},className:"text-blue-600 hover:text-blue-900",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),!e.is_system_role&&(0,Te.jsx)("button",{onClick:()=>(async e=>{const t=c.find(t=>t.id===e),s=t?t.display_name:"this role";ue(async()=>{r(null),o(null);try{a(!0);const t=await fetch("http://localhost:8000/api/admin/roles/roles/".concat(e),{method:"DELETE"});if(t.ok)o("Role deleted successfully"),he(),xe();else{const e=await t.json();r(e.detail||"Failed to delete role")}}catch(l){console.error("Error deleting role:",l),r("Failed to delete role")}finally{a(!1)}},'Are you sure you want to delete "'.concat(s,'"? This action cannot be undone.'))})(e.id),className:"text-red-600 hover:text-red-900",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-700",children:["Showing ",10*(x-1)+1," to ",Math.min(10*x,m)," of ",m," roles"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>h(x-1),disabled:1===x,className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsxs)("span",{className:"px-3 py-1 text-sm text-slate-700",children:["Page ",x," of ",Math.ceil(m/10)]}),(0,Te.jsx)("button",{onClick:()=>h(x+1),disabled:x>=Math.ceil(m/10),className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),"permissions"===e&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search permissions...",value:E,onChange:e=>M(e.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("select",{value:I,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Categories"}),Object.keys(ce.permissions.categories||{}).map(e=>(0,Te.jsx)("option",{value:e,children:e},e))]}),(0,Te.jsx)("button",{onClick:()=>{r(null),o(null),pe()},disabled:s,className:"flex items-center space-x-2 px-3 py-2 text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50",title:"Refresh permissions",children:(0,Te.jsx)(Ut,{className:"h-4 w-4 ".concat(s?"animate-spin":"")})})]}),(0,Te.jsxs)("button",{onClick:()=>{D(null),F({name:"",display_name:"",description:"",category:"",resource:"",action:"",is_active:!0}),T(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Create Permission"})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Permission"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Category"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Resource"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:s?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin mr-2"}),"Loading permissions..."]})})}):0===w.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-slate-500",children:"No permissions found"})}):w.map(e=>{return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.display_name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.name})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat((t=e.category,{users:"bg-blue-100 text-blue-800",cases:"bg-green-100 text-green-800",admin:"bg-purple-100 text-purple-800",payments:"bg-yellow-100 text-yellow-800",settings:"bg-gray-100 text-gray-800",reports:"bg-indigo-100 text-indigo-800"}[t]||"bg-gray-100 text-gray-800")),children:e.category})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:e.resource}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:e.action}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:fe(e.is_active,e.is_system_permission)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>{D(e),F({name:e.name,display_name:e.display_name,description:e.description||"",category:e.category,resource:e.resource,action:e.action,is_active:e.is_active}),T(!0)},className:"text-blue-600 hover:text-blue-900",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),!e.is_system_permission&&(0,Te.jsx)("button",{onClick:()=>(async e=>{const t=w.find(t=>t.id===e),s=t?t.display_name:"this permission";ue(async()=>{r(null),o(null);try{a(!0);const t=await fetch("http://localhost:8000/api/admin/roles/permissions/".concat(e),{method:"DELETE"});if(t.ok)o("Permission deleted successfully"),pe(),xe();else{const e=await t.json();r(e.detail||"Failed to delete permission")}}catch(l){console.error("Error deleting permission:",l),r("Failed to delete permission")}finally{a(!1)}},'Are you sure you want to delete "'.concat(s,'"? This action cannot be undone.'))})(e.id),className:"text-red-600 hover:text-red-900",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id);var t})})]})}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-700",children:["Showing ",10*(S-1)+1," to ",Math.min(10*S,_)," of ",_," permissions"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>A(S-1),disabled:1===S,className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsxs)("span",{className:"px-3 py-1 text-sm text-slate-700",children:["Page ",S," of ",Math.ceil(_/10)]}),(0,Te.jsx)("button",{onClick:()=>A(S+1),disabled:S>=Math.ceil(_/10),className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),"user-roles"===e&&(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"text-sm text-slate-600",children:"Manage user role assignments"}),(0,Te.jsx)("button",{onClick:()=>{r(null),o(null),ge()},disabled:s,className:"flex items-center space-x-2 px-3 py-2 text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50",title:"Refresh user roles",children:(0,Te.jsx)(Ut,{className:"h-4 w-4 ".concat(s?"animate-spin":"")})})]}),(0,Te.jsxs)("button",{onClick:()=>q(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Assign Role"})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Assigned"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Expires"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:s?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin mr-2"}),"Loading user roles..."]})})}):0===z.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-slate-500",children:"No user role assignments found"})}):z.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.user_name||"Unknown User"}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.user_email})]})}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.role_display_name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.role_name})]}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(e.assigned_at).toLocaleDateString()}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.expires_at?new Date(e.expires_at).toLocaleDateString():"Never"}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:fe(e.is_active)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsx)("button",{onClick:()=>(async e=>{const t=z.find(t=>t.id===e),s=t?t.user_name:"this user",n=t?t.role_display_name:"this role";ue(async()=>{r(null),o(null);try{a(!0);const t=await fetch("http://localhost:8000/api/admin/roles/user-roles/".concat(e),{method:"DELETE"});if(t.ok)o("Role assignment removed successfully"),ge(),xe();else{const e=await t.json();r(e.detail||"Failed to remove role assignment")}}catch(l){console.error("Error removing role assignment:",l),r("Failed to remove role assignment")}finally{a(!1)}},'Are you sure you want to remove the "'.concat(n,'" role from "').concat(s,'"? This action cannot be undone.'))})(e.id),className:"text-red-600 hover:text-red-900",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})})]},e.id))})]})}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-700",children:["Showing ",10*(V-1)+1," to ",Math.min(10*V,U)," of ",U," assignments"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>W(V-1),disabled:1===V,className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsxs)("span",{className:"px-3 py-1 text-sm text-slate-700",children:["Page ",V," of ",Math.ceil(U/10)]}),(0,Te.jsx)("button",{onClick:()=>W(V+1),disabled:V>=Math.ceil(U/10),className:"px-3 py-1 border border-slate-300 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]}),f&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold",children:j?"Edit Role":"Create Role"}),(0,Te.jsx)("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{a(!0);const e=j?"http://localhost:8000/api/admin/roles/roles/".concat(j.id):"http://localhost:8000/api/admin/roles/roles",t=j?"PUT":"POST",s=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(s.ok)o(j?"Role updated successfully":"Role created successfully"),b(!1),v(null),N({name:"",display_name:"",description:"",is_active:!0,permissions:[]}),he(),xe();else{const e=await s.json();r(e.detail||"Failed to ".concat(j?"update":"create"," role"))}}catch(l){console.error("Error creating/updating role:",l),r("Failed to ".concat(j?"update":"create"," role"))}finally{a(!1)}})()},children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role Name *"}),(0,Te.jsx)("input",{type:"text",value:y.name,onChange:e=>N(Ue(Ue({},y),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., custom_role",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Display Name *"}),(0,Te.jsx)("input",{type:"text",value:y.display_name,onChange:e=>N(Ue(Ue({},y),{},{display_name:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Custom Role",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),(0,Te.jsx)("textarea",{value:y.description,onChange:e=>N(Ue(Ue({},y),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Role description..."})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"is_active",checked:y.is_active,onChange:e=>N(Ue(Ue({},y),{},{is_active:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-slate-700",children:"Active"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>b(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin"}):"Save"})]})]})]})}),L&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold",children:R?"Edit Permission":"Create Permission"}),(0,Te.jsx)("button",{onClick:()=>T(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{a(!0);const e=R?"http://localhost:8000/api/admin/roles/permissions/".concat(R.id):"http://localhost:8000/api/admin/roles/permissions",t=R?"PUT":"POST",s=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(s.ok)o(R?"Permission updated successfully":"Permission created successfully"),T(!1),D(null),F({name:"",display_name:"",description:"",category:"",resource:"",action:"",is_active:!0}),pe(),xe();else{const e=await s.json();r(e.detail||"Failed to ".concat(R?"update":"create"," permission"))}}catch(l){console.error("Error creating/updating permission:",l),r("Failed to ".concat(R?"update":"create"," permission"))}finally{a(!1)}})()},children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Permission Name *"}),(0,Te.jsx)("input",{type:"text",value:O.name,onChange:e=>F(Ue(Ue({},O),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., resource.action",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Display Name *"}),(0,Te.jsx)("input",{type:"text",value:O.display_name,onChange:e=>F(Ue(Ue({},O),{},{display_name:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Create Resource",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category *"}),(0,Te.jsxs)("select",{value:O.category,onChange:e=>F(Ue(Ue({},O),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Select Category"}),(0,Te.jsx)("option",{value:"users",children:"Users"}),(0,Te.jsx)("option",{value:"cases",children:"Cases"}),(0,Te.jsx)("option",{value:"people",children:"People"}),(0,Te.jsx)("option",{value:"banks",children:"Banks"}),(0,Te.jsx)("option",{value:"insurance",children:"Insurance"}),(0,Te.jsx)("option",{value:"companies",children:"Companies"}),(0,Te.jsx)("option",{value:"payments",children:"Payments"}),(0,Te.jsx)("option",{value:"admin",children:"Admin"}),(0,Te.jsx)("option",{value:"reports",children:"Reports"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Resource *"}),(0,Te.jsx)("input",{type:"text",value:O.resource,onChange:e=>F(Ue(Ue({},O),{},{resource:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., user",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Action *"}),(0,Te.jsxs)("select",{value:O.action,onChange:e=>F(Ue(Ue({},O),{},{action:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Select Action"}),(0,Te.jsx)("option",{value:"create",children:"Create"}),(0,Te.jsx)("option",{value:"read",children:"Read"}),(0,Te.jsx)("option",{value:"update",children:"Update"}),(0,Te.jsx)("option",{value:"delete",children:"Delete"}),(0,Te.jsx)("option",{value:"manage",children:"Manage"}),(0,Te.jsx)("option",{value:"export",children:"Export"})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),(0,Te.jsx)("textarea",{value:O.description,onChange:e=>F(Ue(Ue({},O),{},{description:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Permission description..."})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"permission_is_active",checked:O.is_active,onChange:e=>F(Ue(Ue({},O),{},{is_active:e.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"permission_is_active",className:"ml-2 block text-sm text-slate-700",children:"Active"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin"}):"Save"})]})]})]})}),G&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold",children:"Assign Role to User"}),(0,Te.jsx)("button",{onClick:()=>q(!1),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{a(!0);const e=await fetch("http://localhost:8000/api/admin/roles/user-roles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:parseInt(Y.user_id),role_id:parseInt(Y.role_id),expires_at:Y.expires_at||null,notes:Y.notes||null})});if(e.ok)o("Role assigned successfully"),q(!1),$({user_id:"",role_id:"",expires_at:"",notes:""}),X(""),ge(),xe();else{const t=await e.json();r(t.detail||"Failed to assign role")}}catch(l){console.error("Error assigning role:",l),r("Failed to assign role")}finally{a(!1)}})()},children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Select User *"}),(0,Te.jsxs)("div",{className:"relative user-dropdown-container",children:[(0,Te.jsx)("input",{type:"text",value:Q,onChange:e=>{X(e.target.value),se(!0)},onFocus:()=>se(!0),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search for user by name or email...",required:!0}),te&&(0,Te.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-slate-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:Z.length>0?Z.map(e=>(0,Te.jsxs)("div",{onClick:()=>(e=>{$(Ue(Ue({},Y),{},{user_id:e.id})),X("".concat(e.first_name," ").concat(e.last_name," (").concat(e.email,")")),se(!1)})(e),className:"px-4 py-2 hover:bg-slate-100 cursor-pointer border-b border-slate-100 last:border-b-0",children:[(0,Te.jsxs)("div",{className:"font-medium text-slate-900",children:[e.first_name," ",e.last_name]}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.email})]},e.id)):(0,Te.jsx)("div",{className:"px-4 py-2 text-slate-500 text-sm",children:Q?"No users found":"Start typing to search users..."})})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role *"}),(0,Te.jsxs)("select",{value:Y.role_id,onChange:e=>$(Ue(Ue({},Y),{},{role_id:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,Te.jsx)("option",{value:"",children:"Select Role"}),c.map(e=>(0,Te.jsx)("option",{value:e.id,children:e.display_name},e.id))]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Expires At"}),(0,Te.jsx)("input",{type:"datetime-local",value:Y.expires_at,onChange:e=>$(Ue(Ue({},Y),{},{expires_at:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes"}),(0,Te.jsx)("textarea",{value:Y.notes,onChange:e=>$(Ue(Ue({},Y),{},{notes:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Assignment notes..."})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>q(!1),className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:s?(0,Te.jsx)(Ut,{className:"h-4 w-4 animate-spin"}):"Assign Role"})]})]})]})}),ae&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Te.jsx)(Ye,{className:"h-6 w-6 text-red-600 mr-3"}),(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Confirm Action"})]}),(0,Te.jsx)("p",{className:"text-slate-700 mb-6",children:ie}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>{ne(!1),re(null),oe("")},className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200",children:"Cancel"}),(0,Te.jsx)("button",{onClick:()=>{le&&le(),ne(!1),re(null),oe("")},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Confirm"})]})]})}),l&&(0,Te.jsx)("div",{className:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg z-50",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Ye,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("span",{children:l}),(0,Te.jsx)("button",{onClick:()=>r(null),className:"ml-4 text-red-700 hover:text-red-900",children:(0,Te.jsx)(tt,{className:"h-4 w-4"})})]})}),i&&(0,Te.jsx)("div",{className:"fixed top-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg shadow-lg z-50",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(qe,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("span",{children:i}),(0,Te.jsx)("button",{onClick:()=>o(null),className:"ml-4 text-green-700 hover:text-green-900",children:(0,Te.jsx)(tt,{className:"h-4 w-4"})})]})})]})},Od=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[l,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)({status:"all",search:""}),[p,g]=(0,n.useState)({page:1,limit:10,total:0,totalPages:0});(0,n.useEffect)(()=>{f()},[p.page,x]);const f=async()=>{try{a(!0);const e=new URLSearchParams(Ue(Ue({page:p.page.toString(),limit:p.limit.toString()},"all"!==x.status&&{status:x.status}),x.search&&{search:x.search})),s=await fetch("/api/tenant/subscription-requests?".concat(e)),n=await s.json();t(n.requests||[]),g(e=>Ue(Ue({},e),{},{total:n.total,totalPages:n.total_pages}))}catch(e){console.error("Error fetching subscription requests:",e)}finally{a(!1)}},b=async e=>{try{u(!0);if(!(await fetch("/api/tenant/subscription-requests/".concat(e,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_notes:c})})).ok)throw new Error("Failed to approve request");await f(),o(!1),d(""),r(null),j("Subscription request approved successfully","success")}catch(t){console.error("Error approving request:",t),j("Failed to approve request","error")}finally{u(!1)}},j=(e,t)=>{console.log("".concat(t.toUpperCase(),": ").concat(e))},v=e=>{switch(e){case"pending":return(0,Te.jsx)(Qe,{className:"h-4 w-4 text-yellow-500"});case"approved":return(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"});case"rejected":return(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"});case"cancelled":return(0,Te.jsx)(Kt,{className:"h-4 w-4 text-gray-500"});default:return(0,Te.jsx)(Qe,{className:"h-4 w-4 text-gray-500"})}},y=e=>{switch(e){case"pending":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300";case"approved":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300";case"rejected":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300";default:return"bg-gray-100 dark:bg-gray-900/20 text-gray-800 dark:text-gray-300"}},N=e=>{r(e),d(e.admin_notes||""),o(!0)},w=()=>{o(!1),r(null),d("")};return s?(0,Te.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Subscription Requests"}),(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"Review and manage subscription requests from organizations"})]}),(0,Te.jsxs)("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4"}),"Refresh"]})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsx)("input",{type:"text",placeholder:"Search by organization name, requester, or email...",value:x.search,onChange:e=>h(t=>Ue(Ue({},t),{},{search:e.target.value})),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white"})}),(0,Te.jsxs)("select",{value:x.status,onChange:e=>h(t=>Ue(Ue({},t),{},{status:e.target.value})),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",children:[(0,Te.jsx)("option",{value:"all",children:"All Status"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"approved",children:"Approved"}),(0,Te.jsx)("option",{value:"rejected",children:"Rejected"}),(0,Te.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Qe,{className:"h-8 w-8 text-yellow-500"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Pending"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.filter(e=>"pending"===e.status).length})]})]})}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(qe,{className:"h-8 w-8 text-green-500"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Approved"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.filter(e=>"approved"===e.status).length})]})]})}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Kt,{className:"h-8 w-8 text-red-500"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Rejected"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.filter(e=>"rejected"===e.status).length})]})]})}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-lg shadow border border-slate-200 dark:border-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-8 w-8 text-blue-500"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"Total"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.length})]})]})})]}),(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow border border-slate-200 dark:border-slate-700 overflow-hidden",children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[(0,Te.jsx)("thead",{className:"bg-slate-50 dark:bg-slate-700",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Organization"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Requester"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Plan"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Billing"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Requested"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-slate-300 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white dark:bg-slate-800 divide-y divide-slate-200 dark:divide-slate-700",children:e.map(e=>{return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-8 w-8 text-slate-400"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:e.tenant_name}),(0,Te.jsxs)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:["ID: ",e.tenant_id]})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(St,{className:"h-8 w-8 text-slate-400"}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900 dark:text-white",children:e.requester_name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.requester_email})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("div",{className:"text-sm text-slate-900 dark:text-white",children:e.plan_name})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(pt,{className:"h-4 w-4 text-slate-400 mr-2"}),(0,Te.jsx)("span",{className:"text-sm text-slate-900 dark:text-white capitalize",children:e.billing_cycle})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(y(e.status)),children:[v(e.status),(0,Te.jsx)("span",{className:"ml-1 capitalize",children:e.status})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center text-sm text-slate-500 dark:text-slate-400",children:[(0,Te.jsx)(Xt,{className:"h-4 w-4 mr-2"}),(t=e.created_at,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>N(e),className:"text-blue-600 dark:text-blue-400 hover:text-blue-900 dark:hover:text-blue-300",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),"pending"===e.status&&(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("button",{onClick:()=>b(e.id),disabled:m,className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 disabled:opacity-50",children:(0,Te.jsx)(qe,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>N(e),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",children:(0,Te.jsx)(Kt,{className:"h-4 w-4"})})]})]})})]},e.id);var t})})]})}),p.totalPages>1&&(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 flex items-center justify-between border-t border-slate-200 dark:border-slate-700 sm:px-6",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>g(e=>Ue(Ue({},e),{},{page:Math.max(1,e.page-1)})),disabled:1===p.page,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>g(e=>Ue(Ue({},e),{},{page:Math.min(e.totalPages,e.page+1)})),disabled:p.page===p.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 dark:border-slate-600 text-sm font-medium rounded-md text-slate-700 dark:text-slate-300 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:["Showing"," ",(0,Te.jsx)("span",{className:"font-medium",children:(p.page-1)*p.limit+1})," ","to"," ",(0,Te.jsx)("span",{className:"font-medium",children:Math.min(p.page*p.limit,p.total)})," ","of"," ",(0,Te.jsx)("span",{className:"font-medium",children:p.total})," ","results"]})}),(0,Te.jsx)("div",{children:(0,Te.jsx)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:p.totalPages},(e,t)=>t+1).map(e=>(0,Te.jsx)("button",{onClick:()=>g(t=>Ue(Ue({},t),{},{page:e})),className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===p.page?"z-10 bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-600 dark:text-blue-400":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"),children:e},e))})})]})]})]}),i&&l&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 w-full max-w-md",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"pending"===l.status?"Review Request":"Request Details"}),(0,Te.jsx)("button",{onClick:w,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",children:(0,Te.jsx)(Kt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Organization"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900 dark:text-white",children:l.tenant_name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Requester"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900 dark:text-white",children:l.requester_name}),(0,Te.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:l.requester_email})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Plan & Billing"}),(0,Te.jsxs)("p",{className:"text-sm text-slate-900 dark:text-white",children:[l.plan_name," (",l.billing_cycle,")"]})]}),l.notes&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Requester Notes"}),(0,Te.jsx)("p",{className:"text-sm text-slate-900 dark:text-white",children:l.notes})]})]}),(0,Te.jsxs)("div",{className:"mb-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Admin Notes"}),(0,Te.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"Add notes about this request..."})]}),"pending"===l.status&&(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:w,className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700",children:"Cancel"}),(0,Te.jsx)("button",{onClick:()=>(async e=>{if(c.trim())try{if(u(!0),!(await fetch("/api/tenant/subscription-requests/".concat(e,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({admin_notes:c})})).ok)throw new Error("Failed to reject request");await f(),o(!1),d(""),r(null),j("Subscription request rejected","success")}catch(t){console.error("Error rejecting request:",t),j("Failed to reject request","error")}finally{u(!1)}else j("Please provide a reason for rejection","error")})(l.id),disabled:m,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg disabled:opacity-50",children:m?"Rejecting...":"Reject"}),(0,Te.jsx)("button",{onClick:()=>b(l.id),disabled:m,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg disabled:opacity-50",children:m?"Approving...":"Approve"})]})]})})]})},Fd=e=>{let{tenant:t,type:s,onClose:a,onSave:l}=e;const[r,i]=(0,n.useState)({name:"",slug:"",description:"",website:"",email:"",phone:"",address_line_1:"",city:"",state:"",country:"",postal_code:"",app_name:"",app_tagline:"",primary_color:"#2563EB",secondary_color:"#1D4ED8",accent_color:"#F59E0B",font_family:"Inter",is_active:!0,is_approved:!1,is_verified:!1});(0,n.useEffect)(()=>{t&&"create"!==s&&i({name:t.name||"",slug:t.slug||"",description:t.description||"",website:t.website||"",email:t.email||"",phone:t.phone||"",address_line_1:t.address_line_1||"",city:t.city||"",state:t.state||"",country:t.country||"",postal_code:t.postal_code||"",app_name:t.app_name||"",app_tagline:t.app_tagline||"",primary_color:t.primary_color||"#2563EB",secondary_color:t.secondary_color||"#1D4ED8",accent_color:t.accent_color||"#F59E0B",font_family:t.font_family||"Inter",is_active:t.is_active||!1,is_approved:t.is_approved||!1,is_verified:t.is_verified||!1})},[t,s]);return(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Te.jsx)("div",{className:"p-6 border-b border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"create"===s?"Create Organization":"edit"===s?"Edit Organization":"Organization Details"}),(0,Te.jsx)("button",{onClick:a,className:"text-slate-400 hover:text-slate-600 transition-colors",children:(0,Te.jsx)(Kt,{className:"h-6 w-6"})})]})}),(0,Te.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e="create"===s?"http://localhost:8000/api/tenant/tenants":"http://localhost:8000/api/tenant/tenants/".concat(t.id),a="create"===s?"POST":"PUT";(await fetch(e,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?l():alert("Error saving organization")}catch(a){console.error("Error saving tenant:",a),alert("Error saving organization")}},className:"p-6 space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-medium text-slate-900",children:"Basic Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization Name *"}),(0,Te.jsx)("input",{type:"text",value:r.name,onChange:e=>i(Ue(Ue({},r),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Slug *"}),(0,Te.jsx)("input",{type:"text",value:r.slug,onChange:e=>i(Ue(Ue({},r),{},{slug:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),(0,Te.jsx)("textarea",{value:r.description,onChange:e=>i(Ue(Ue({},r),{},{description:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Website"}),(0,Te.jsx)("input",{type:"url",value:r.website,onChange:e=>i(Ue(Ue({},r),{},{website:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-medium text-slate-900",children:"Contact Information"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email *"}),(0,Te.jsx)("input",{type:"email",value:r.email,onChange:e=>i(Ue(Ue({},r),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",required:!0})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone"}),(0,Te.jsx)("input",{type:"tel",value:r.phone,onChange:e=>i(Ue(Ue({},r),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),(0,Te.jsx)("input",{type:"text",value:r.address_line_1,onChange:e=>i(Ue(Ue({},r),{},{address_line_1:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),(0,Te.jsx)("input",{type:"text",value:r.city,onChange:e=>i(Ue(Ue({},r),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"State"}),(0,Te.jsx)("input",{type:"text",value:r.state,onChange:e=>i(Ue(Ue({},r),{},{state:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Country"}),(0,Te.jsx)("input",{type:"text",value:r.country,onChange:e=>i(Ue(Ue({},r),{},{country:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Postal Code"}),(0,Te.jsx)("input",{type:"text",value:r.postal_code,onChange:e=>i(Ue(Ue({},r),{},{postal_code:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-medium text-slate-900",children:"App Branding"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"App Name"}),(0,Te.jsx)("input",{type:"text",value:r.app_name,onChange:e=>i(Ue(Ue({},r),{},{app_name:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"App Tagline"}),(0,Te.jsx)("input",{type:"text",value:r.app_tagline,onChange:e=>i(Ue(Ue({},r),{},{app_tagline:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Primary Color"}),(0,Te.jsx)("input",{type:"color",value:r.primary_color,onChange:e=>i(Ue(Ue({},r),{},{primary_color:e.target.value})),className:"w-full h-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Secondary Color"}),(0,Te.jsx)("input",{type:"color",value:r.secondary_color,onChange:e=>i(Ue(Ue({},r),{},{secondary_color:e.target.value})),className:"w-full h-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Accent Color"}),(0,Te.jsx)("input",{type:"color",value:r.accent_color,onChange:e=>i(Ue(Ue({},r),{},{accent_color:e.target.value})),className:"w-full h-10 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]})]})]}),"view"!==s&&(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("h4",{className:"text-md font-medium text-slate-900",children:"Status"}),(0,Te.jsxs)("div",{className:"flex space-x-6",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:r.is_active,onChange:e=>i(Ue(Ue({},r),{},{is_active:e.target.checked})),className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Active"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:r.is_approved,onChange:e=>i(Ue(Ue({},r),{},{is_approved:e.target.checked})),className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Approved"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:r.is_verified,onChange:e=>i(Ue(Ue({},r),{},{is_verified:e.target.checked})),className:"h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-300 rounded"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Verified"})]})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t border-slate-200",children:[(0,Te.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"}),"view"!==s&&(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-sky-600 border border-transparent rounded-lg hover:bg-sky-700 transition-colors",children:"create"===s?"Create Organization":"Save Changes"})]})]})]})})},zd=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[l,r]=(0,n.useState)(""),[i,o]=(0,n.useState)("all"),[c,d]=(0,n.useState)("all"),[m,u]=(0,n.useState)(1),[x,h]=(0,n.useState)(1),[p,g]=(0,n.useState)({total:0,active:0,pending:0,trial:0,cancelled:0}),[f,b]=(0,n.useState)(null),[j,v]=(0,n.useState)(!1),[y,N]=(0,n.useState)("view");(0,n.useEffect)(()=>{w(),k()},[m,l,i,c]);const w=async()=>{try{a(!0);const e=new URLSearchParams({page:m,limit:10,search:l,status:"all"!==i?i:"",plan:"all"!==c?c:""}),s=await fetch("http://localhost:8000/api/tenant/tenants?".concat(e)),n=await s.json();t(n.tenants||[]),h(n.total_pages||1)}catch(e){console.error("Error loading tenants:",e)}finally{a(!1)}},k=async()=>{try{const e=await fetch("http://localhost:8000/api/tenant/tenants/stats"),t=await e.json();g(t)}catch(e){console.error("Error loading tenant stats:",e)}},_=e=>{const t={active:{color:"bg-green-100 text-green-800",icon:qe},inactive:{color:"bg-red-100 text-red-800",icon:Kt},pending:{color:"bg-yellow-100 text-yellow-800",icon:Qe},trial:{color:"bg-blue-100 text-blue-800",icon:Qe},cancelled:{color:"bg-gray-100 text-gray-800",icon:Kt}},s=t[e]||t.inactive,a=s.icon;return(0,Te.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.color),children:[(0,Te.jsx)(a,{className:"h-3 w-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})},C=e=>{const t={active:{color:"bg-green-100 text-green-800",icon:qe},trial:{color:"bg-blue-100 text-blue-800",icon:Qe},pending:{color:"bg-yellow-100 text-yellow-800",icon:Qe},cancelled:{color:"bg-red-100 text-red-800",icon:Kt},expired:{color:"bg-gray-100 text-gray-800",icon:Kt}},s=t[e]||t.pending,a=s.icon;return(0,Te.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.color),children:[(0,Te.jsx)(a,{className:"h-3 w-3 mr-1"}),e.charAt(0).toUpperCase()+e.slice(1)]})};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Organizations Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage tenant organizations and their subscriptions"})]}),(0,Te.jsxs)("button",{onClick:()=>{b(null),N("create"),v(!0)},className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors flex items-center space-x-2",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Add Organization"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(wt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Organizations"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:p.total})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Active"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:p.active})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(Qe,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Pending"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:p.pending})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(Qe,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Trial"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:p.trial})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,Te.jsx)(Kt,{className:"h-6 w-6 text-red-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Cancelled"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:p.cancelled})]})]})})]}),(0,Te.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,Te.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search organizations...",value:l,onChange:e=>{r(e.target.value),u(1)},className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent"})]})}),(0,Te.jsxs)("div",{className:"flex gap-2",children:[(0,Te.jsxs)("select",{value:i,onChange:e=>{return t=e.target.value,o(t),void u(1);var t},className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[(0,Te.jsx)("option",{value:"all",children:"All Status"}),(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"trial",children:"Trial"}),(0,Te.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,Te.jsxs)("select",{value:c,onChange:e=>{return t=e.target.value,d(t),void u(1);var t},className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[(0,Te.jsx)("option",{value:"all",children:"All Plans"}),(0,Te.jsx)("option",{value:"trial",children:"Trial"}),(0,Te.jsx)("option",{value:"starter",children:"Starter"}),(0,Te.jsx)("option",{value:"professional",children:"Professional"}),(0,Te.jsx)("option",{value:"enterprise",children:"Enterprise"})]}),(0,Te.jsxs)("button",{onClick:w,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors flex items-center space-x-2",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Refresh"})]})]})]})}),(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:s?(0,Te.jsxs)("div",{className:"p-8 text-center",children:[(0,Te.jsx)(Ut,{className:"h-8 w-8 animate-spin text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Loading organizations..."})]}):(0,Te.jsxs)(Te.Fragment,{children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Organization"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Plan"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Subscription"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:e.map(e=>{var t,s;return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.logo_url?(0,Te.jsx)("img",{className:"h-10 w-10 rounded-lg object-cover",src:e.logo_url,alt:e.name}):(0,Te.jsx)("div",{className:"h-10 w-10 rounded-lg bg-slate-200 flex items-center justify-center",children:(0,Te.jsx)(wt,{className:"h-5 w-5 text-slate-500"})})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.name}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.app_name})]})]})}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Te.jsx)("div",{className:"text-sm text-slate-900",children:e.contact_person_name||"N/A"}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.contact_person_email||e.email})]}),(0,Te.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:(null===(t=e.subscription_plan)||void 0===t?void 0:t.name)||"No Plan"}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:null!==(s=e.subscription_plan)&&void 0!==s&&s.price_monthly?"".concat("GHS"===e.subscription_plan.currency?"\u20b5":"$").concat(e.subscription_plan.price_monthly,"/month"):"Free"})]}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:_(e.is_active?"active":"inactive")}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:C(e.subscription_status)}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{b(e),N("view"),v(!0)})(e),className:"text-slate-600 hover:text-slate-900 transition-colors",title:"View Details",children:(0,Te.jsx)(es,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{b(e),N("edit"),v(!0)})(e),className:"text-sky-600 hover:text-sky-900 transition-colors",title:"Edit",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(async(e,t)=>{try{const s="active"===t?"inactive":"active";(await fetch("http://localhost:8000/api/tenant/tenants/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:"active"===s})})).ok?(w(),k()):alert("Error updating organization status")}catch(s){console.error("Error updating tenant status:",s),alert("Error updating organization status")}})(e.id,e.is_active?"active":"inactive"),className:"transition-colors ".concat(e.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,Te.jsx)(Kt,{className:"h-4 w-4"}):(0,Te.jsx)(qe,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this organization?"))try{(await fetch("http://localhost:8000/api/tenant/tenants/".concat(e),{method:"DELETE"})).ok?(w(),k()):alert("Error deleting organization")}catch(t){console.error("Error deleting tenant:",t),alert("Error deleting organization")}})(e.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Delete",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id)})})]})}),x>1&&(0,Te.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-slate-200 sm:px-6",children:[(0,Te.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Te.jsx)("button",{onClick:()=>u(Math.max(1,m-1)),disabled:1===m,className:"relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>u(Math.min(x,m+1)),disabled:m===x,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-slate-300 text-sm font-medium rounded-md text-slate-700 bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Te.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Te.jsx)("div",{children:(0,Te.jsxs)("p",{className:"text-sm text-slate-700",children:["Showing page ",(0,Te.jsx)("span",{className:"font-medium",children:m})," of"," ",(0,Te.jsx)("span",{className:"font-medium",children:x})]})}),(0,Te.jsx)("div",{children:(0,Te.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Te.jsx)("button",{onClick:()=>u(Math.max(1,m-1)),disabled:1===m,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>u(Math.min(x,m+1)),disabled:m===x,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-slate-300 bg-white text-sm font-medium text-slate-500 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]})}),j&&(0,Te.jsx)(Fd,{tenant:f,type:y,onClose:()=>v(!1),onSave:()=>{v(!1),w(),k()}})]})},Bd=Ge("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),Ud=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0),[l,r]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[m,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[j,v]=(0,n.useState)(null),[y,N]=(0,n.useState)([]),[w,k]=(0,n.useState)([]),[_,C]=(0,n.useState)(1),[S,A]=(0,n.useState)(1),[E,M]=(0,n.useState)(0),[I,P]=(0,n.useState)(null),[L,T]=(0,n.useState)(null),[R,D]=(0,n.useState)({}),[O,F]=(0,n.useState)(!1),[z,B]=(0,n.useState)(null),[U,H]=(0,n.useState)({name:"",registry_name:"",court_type:"",region:"",location:"",address:"",city:"",district:"",latitude:"",longitude:"",google_place_id:"",area_coverage:"",contact_phone:"",contact_email:"",website:"",court_picture_url:"",operating_hours:"",is_active:!0,is_verified:!1,notes:""}),V=(0,n.useCallback)(async()=>{try{a(!0);const e=new URLSearchParams(Ue(Ue(Ue(Ue({page:_,limit:20},l&&{query:l}),i&&{court_type:i}),c&&{region:c}),m&&{is_active:"active"===m})),s=await fetch("http://localhost:8000/api/courts/?".concat(e),{headers:{"Content-Type":"application/json"}});if(s.ok){const e=await s.json();t(e.courts),A(e.total_pages),M(e.total)}}catch(I){console.error("Error loading courts:",I)}finally{a(!1)}},[_,l,i,c,m]);(0,n.useEffect)(()=>{V(),(async()=>{try{const[e,t]=await Promise.all([fetch("http://localhost:8000/api/courts/regions"),fetch("http://localhost:8000/api/courts/types")]);if(e.ok){const t=await e.json();N(t)}if(t.ok){const e=await t.json();k(e)}}catch(I){console.error("Error loading filter options:",I)}})()},[V]);const W=e=>e.is_verified?(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-500"}):e.is_active?(0,Te.jsx)(Ye,{className:"h-4 w-4 text-yellow-500"}):(0,Te.jsx)(Kt,{className:"h-4 w-4 text-red-500"});return(0,Te.jsxs)("div",{className:"space-y-6",children:[I&&(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[(0,Te.jsx)(Ye,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-red-800 font-medium",children:"Error"}),(0,Te.jsx)("p",{className:"text-red-700 text-sm",children:I})]}),(0,Te.jsx)("button",{onClick:()=>P(null),className:"ml-auto text-red-400 hover:text-red-600",children:(0,Te.jsx)(Kt,{className:"h-4 w-4"})})]}),L&&(0,Te.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[(0,Te.jsx)(qe,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-green-800 font-medium",children:"Success"}),(0,Te.jsx)("p",{className:"text-green-700 text-sm",children:L})]}),(0,Te.jsx)("button",{onClick:()=>T(null),className:"ml-auto text-green-400 hover:text-green-600",children:(0,Te.jsx)(Kt,{className:"h-4 w-4"})})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Court Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage courts in the system"})]}),(0,Te.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,Te.jsx)(Et,{className:"h-4 w-4"}),"Add Court"]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(wt,{className:"h-8 w-8 text-blue-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Courts"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:E})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(qe,{className:"h-8 w-8 text-green-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Verified"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:e.filter(e=>e.is_verified).length})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Bd,{className:"h-8 w-8 text-purple-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"With Location"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:e.filter(e=>e.latitude&&e.longitude).length})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Qe,{className:"h-8 w-8 text-orange-600"}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Active"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:e.filter(e=>e.is_active).length})]})]})})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search courts...",value:l,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Te.jsxs)("button",{onClick:()=>h(!x),className:"flex items-center gap-2 px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:[(0,Te.jsx)(Ct,{className:"h-4 w-4"}),"Filters"]})]}),x&&(0,Te.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Te.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Court Types"}),w.map(e=>(0,Te.jsx)("option",{value:e,children:e},e))]}),(0,Te.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Regions"}),y.map(e=>(0,Te.jsx)("option",{value:e,children:e},e))]}),(0,Te.jsxs)("select",{value:m,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Status"}),(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200",children:[(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Court"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Location"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Contact"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:s?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-slate-500",children:"Loading courts..."})}):0===e.length?(0,Te.jsx)("tr",{children:(0,Te.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-slate-500",children:"No courts found"})}):e.map(e=>{return(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.name}),e.registry_name&&(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.registry_name})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((t=e.court_type,{"Supreme Court":"bg-purple-100 text-purple-800","High Court":"bg-blue-100 text-blue-800","Circuit Court":"bg-green-100 text-green-800","District Court":"bg-yellow-100 text-yellow-800","Commercial Court":"bg-indigo-100 text-indigo-800","Family Court":"bg-pink-100 text-pink-800","Labour Court":"bg-orange-100 text-orange-800"}[t]||"bg-gray-100 text-gray-800")),children:e.court_type})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center text-sm text-slate-900",children:[(0,Te.jsx)(gt,{className:"h-4 w-4 text-slate-400 mr-1"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("div",{children:e.location}),(0,Te.jsx)("div",{className:"text-slate-500",children:e.region})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:(0,Te.jsxs)("div",{className:"space-y-1",children:[e.contact_phone&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 text-slate-400 mr-1"}),e.contact_phone]}),e.contact_email&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(bt,{className:"h-3 w-3 text-slate-400 mr-1"}),e.contact_email]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[W(e),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-900",children:e.is_verified?"Verified":e.is_active?"Active":"Inactive"})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(e=>{v(e),H({name:e.name||"",registry_name:e.registry_name||"",court_type:e.court_type||"",region:e.region||"",location:e.location||"",address:e.address||"",city:e.city||"",district:e.district||"",latitude:e.latitude||"",longitude:e.longitude||"",google_place_id:e.google_place_id||"",area_coverage:e.area_coverage||"",contact_phone:e.contact_phone||"",contact_email:e.contact_email||"",website:e.website||"",court_picture_url:e.court_picture_url||"",operating_hours:e.operating_hours?JSON.stringify(e.operating_hours,null,2):"",is_active:e.is_active,is_verified:e.is_verified,notes:e.notes||""}),b(!0)})(e),className:"text-blue-600 hover:text-blue-900",children:(0,Te.jsx)(fd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(e=>{B(e),F(!0)})(e),className:"text-red-600 hover:text-red-900",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id);var t})})]})}),S>1&&(0,Te.jsx)("div",{className:"px-6 py-3 border-t border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"text-sm text-slate-700",children:["Showing ",20*(_-1)+1," to ",Math.min(20*_,E)," of ",E," courts"]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>C(e=>Math.max(1,e-1)),disabled:1===_,className:"px-3 py-1 text-sm border border-slate-300 rounded-md hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Te.jsxs)("span",{className:"px-3 py-1 text-sm text-slate-700",children:["Page ",_," of ",S]}),(0,Te.jsx)("button",{onClick:()=>C(e=>Math.min(S,e+1)),disabled:_===S,className:"px-3 py-1 text-sm border border-slate-300 rounded-md hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]}),(p||f)&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:j?"Edit Court":"Add New Court"}),(0,Te.jsx)("button",{onClick:()=>{g(!1),b(!1),v(null)},className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(Kt,{className:"h-6 w-6"})})]}),(0,Te.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),P(null),T(null),D({}),(()=>{const t={};if(U.name.trim()||(t.name="Court name is required"),U.court_type||(t.court_type="Court type is required"),U.region.trim()||(t.region="Region is required"),U.location.trim()||(t.location="Location is required"),U.operating_hours&&U.operating_hours.trim())try{JSON.parse(U.operating_hours)}catch(e){t.operating_hours="Operating hours must be valid JSON format"}return D(t),0===Object.keys(t).length})())try{const t=j?"http://localhost:8000/api/courts/".concat(j.id):"http://localhost:8000/api/courts/",s=j?"PUT":"POST",a=Ue({},U);if(""===a.operating_hours||null===a.operating_hours)a.operating_hours=null;else if("string"===typeof a.operating_hours)try{a.operating_hours=JSON.parse(a.operating_hours)}catch(e){a.operating_hours=null}""!==a.additional_images&&null!==a.additional_images||(a.additional_images=null);const n=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(n.ok)T(j?"Court updated successfully!":"Court created successfully!"),g(!1),b(!1),v(null),H({name:"",registry_name:"",court_type:"",region:"",location:"",address:"",city:"",district:"",latitude:"",longitude:"",google_place_id:"",area_coverage:"",contact_phone:"",contact_email:"",website:"",court_picture_url:"",operating_hours:"",is_active:!0,is_verified:!1,notes:""}),V(),setTimeout(()=>T(null),3e3);else{const e=await n.json();P(e.detail||"Error saving court. Please try again.")}}catch(I){console.error("Error saving court:",I),P("Network error. Please check your connection and try again.")}else P("Please fix the validation errors before submitting")},className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Court Name *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:U.name,onChange:e=>H(Ue(Ue({},U),{},{name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(R.name?"border-red-300":"border-slate-300")}),R.name&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:R.name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Registry Name"}),(0,Te.jsx)("input",{type:"text",value:U.registry_name,onChange:e=>H(Ue(Ue({},U),{},{registry_name:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Court Type *"}),(0,Te.jsxs)("select",{required:!0,value:U.court_type,onChange:e=>H(Ue(Ue({},U),{},{court_type:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(R.court_type?"border-red-300":"border-slate-300"),children:[(0,Te.jsx)("option",{value:"",children:"Select Court Type"}),(0,Te.jsx)("option",{value:"Supreme Court",children:"Supreme Court"}),(0,Te.jsx)("option",{value:"High Court",children:"High Court"}),(0,Te.jsx)("option",{value:"Circuit Court",children:"Circuit Court"}),(0,Te.jsx)("option",{value:"District Court",children:"District Court"}),(0,Te.jsx)("option",{value:"Commercial Court",children:"Commercial Court"}),(0,Te.jsx)("option",{value:"Family Court",children:"Family Court"}),(0,Te.jsx)("option",{value:"Labour Court",children:"Labour Court"}),(0,Te.jsx)("option",{value:"Tribunal",children:"Tribunal"})]}),R.court_type&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:R.court_type})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Region *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:U.region,onChange:e=>H(Ue(Ue({},U),{},{region:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(R.region?"border-red-300":"border-slate-300")}),R.region&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:R.region})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location *"}),(0,Te.jsx)("input",{type:"text",required:!0,value:U.location,onChange:e=>H(Ue(Ue({},U),{},{location:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(R.location?"border-red-300":"border-slate-300")}),R.location&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:R.location})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"City"}),(0,Te.jsx)("input",{type:"text",value:U.city,onChange:e=>H(Ue(Ue({},U),{},{city:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Latitude"}),(0,Te.jsx)("input",{type:"number",step:"any",value:U.latitude,onChange:e=>H(Ue(Ue({},U),{},{latitude:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Longitude"}),(0,Te.jsx)("input",{type:"number",step:"any",value:U.longitude,onChange:e=>H(Ue(Ue({},U),{},{longitude:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contact Phone"}),(0,Te.jsx)("input",{type:"tel",value:U.contact_phone,onChange:e=>H(Ue(Ue({},U),{},{contact_phone:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contact Email"}),(0,Te.jsx)("input",{type:"email",value:U.contact_email,onChange:e=>H(Ue(Ue({},U),{},{contact_email:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Website"}),(0,Te.jsx)("input",{type:"url",value:U.website,onChange:e=>H(Ue(Ue({},U),{},{website:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Court Picture URL"}),(0,Te.jsx)("input",{type:"url",value:U.court_picture_url,onChange:e=>H(Ue(Ue({},U),{},{court_picture_url:e.target.value})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Address"}),(0,Te.jsx)("textarea",{value:U.address,onChange:e=>H(Ue(Ue({},U),{},{address:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Area Coverage"}),(0,Te.jsx)("textarea",{value:U.area_coverage,onChange:e=>H(Ue(Ue({},U),{},{area_coverage:e.target.value})),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Operating Hours (JSON format)"}),(0,Te.jsx)("textarea",{value:U.operating_hours,onChange:e=>H(Ue(Ue({},U),{},{operating_hours:e.target.value})),rows:3,placeholder:'{"monday": "9:00 AM - 5:00 PM", "tuesday": "9:00 AM - 5:00 PM", ...}',className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(R.operating_hours?"border-red-300":"border-slate-300")}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Enter operating hours as JSON object or leave empty"}),R.operating_hours&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:R.operating_hours})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes"}),(0,Te.jsx)("textarea",{value:U.notes,onChange:e=>H(Ue(Ue({},U),{},{notes:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:U.is_active,onChange:e=>H(Ue(Ue({},U),{},{is_active:e.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Active"})]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:U.is_verified,onChange:e=>H(Ue(Ue({},U),{},{is_verified:e.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"Verified"})]})]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{type:"button",onClick:()=>{g(!1),b(!1),v(null)},className:"px-4 py-2 text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200",children:"Cancel"}),(0,Te.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:j?"Update Court":"Add Court"})]})]})]})}),O&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Te.jsx)(Ye,{className:"h-6 w-6 text-red-500 mr-3"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"Delete Court"})]}),(0,Te.jsxs)("p",{className:"text-slate-600 mb-6",children:["Are you sure you want to delete ",(0,Te.jsx)("strong",{children:null===z||void 0===z?void 0:z.name}),"? This action cannot be undone."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>{F(!1),B(null)},className:"px-4 py-2 text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{if(z)try{(await fetch("http://localhost:8000/api/courts/".concat(z.id),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok?(T("Court deleted successfully!"),F(!1),B(null),V(),setTimeout(()=>T(null),3e3)):P("Error deleting court. Please try again.")}catch(I){console.error("Error deleting court:",I),P("Network error. Please check your connection and try again.")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})})]})},Hd=Ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Vd=Ge("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Wd=Ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Gd=()=>{const[e,t]=(0,n.useState)({first_name:"",last_name:"",email:"",phone_number:"",organization:"",job_title:"",bio:"",language:"en",timezone:"UTC",email_notifications:!0,sms_notifications:!1,profile_picture:null}),[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[m,u]=(0,n.useState)(null),[x,h]=(0,n.useState)({}),[p,g]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!1),[y,N]=(0,n.useState)(null),[w,k]=(0,n.useState)(null),[_,C]=(0,n.useState)({current_password:"",new_password:"",confirm_password:""}),[S,A]=(0,n.useState)({current:!1,new:!1,confirm:!1}),[E,M]=(0,n.useState)([]),[I,P]=(0,n.useState)(!1),[L,T]=(0,n.useState)(1),[R,D]=(0,n.useState)(""),[O,F]=(0,n.useState)("all"),z=(0,n.useCallback)(async()=>{try{r(!0);const e=localStorage.getItem("accessToken");if(console.log("Profile token:",e?"Present":"Missing"),!e)throw new Error("No authentication token found. Please log in again.");const s=await fetch("http://localhost:8000/api/profile/me",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(console.log("Profile response status:",s.status),!s.ok){const e=await s.json().catch(()=>({}));throw console.error("Profile error:",e),new Error(e.detail||"Failed to load profile: ".concat(s.status))}const a=await s.json();console.log("Profile data loaded:",a),t({first_name:a.first_name||"",last_name:a.last_name||"",email:a.email||"",phone_number:a.phone_number||"",organization:a.organization||"",job_title:a.job_title||"",bio:a.bio||"",language:a.language||"en",timezone:a.timezone||"UTC",email_notifications:a.email_notifications||!1,sms_notifications:a.sms_notifications||!1,profile_picture:a.profile_picture||null})}catch(e){d("Failed to load profile: "+e.message)}finally{r(!1)}},[]),B=(0,n.useCallback)(async()=>{try{P(!0);const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/profile/users",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to load users");const s=await t.json();M(s)}catch(e){d("Failed to load users: "+e.message)}finally{P(!1)}},[]);(0,n.useEffect)(()=>{z()},[z]);const U=E.filter(e=>{const t=e.first_name.toLowerCase().includes(R.toLowerCase())||e.last_name.toLowerCase().includes(R.toLowerCase())||e.email.toLowerCase().includes(R.toLowerCase()),s="all"===O||e.status===O;return t&&s}),H=async()=>{try{const e=await fetch("http://localhost:8000/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"admin@test.com",password:"admin123"})});if(!e.ok)throw new Error("Login failed");const t=await e.json();localStorage.setItem("accessToken",t.access_token),localStorage.setItem("userData",JSON.stringify(t.user)),localStorage.setItem("isAuthenticated","true"),u("Logged in successfully! Refreshing profile..."),setTimeout(()=>{z()},1e3)}catch(e){d("Quick login failed: "+e.message)}};return l?(0,Te.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):localStorage.getItem("accessToken")?(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Profile Management"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Manage your profile and user accounts"})]}),(0,Te.jsxs)("div",{className:"flex space-x-3",children:[(0,Te.jsxs)("button",{onClick:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("userData"),localStorage.removeItem("isAuthenticated"),t({first_name:"",last_name:"",email:"",phone_number:"",organization:"",job_title:"",bio:"",language:"en",timezone:"UTC",email_notifications:!0,sms_notifications:!1,profile_picture:null}),u("Logged out successfully")},className:"flex items-center px-4 py-2 text-sm font-medium text-red-700 bg-red-100 rounded-lg hover:bg-red-200 transition-colors",children:[(0,Te.jsx)(et,{className:"h-4 w-4 mr-2"}),"Logout"]}),(0,Te.jsxs)("button",{onClick:()=>b(!f),className:"flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:[(0,Te.jsx)(ct,{className:"h-4 w-4 mr-2"}),f?"Hide Users":"Manage Users"]}),s?(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsxs)("button",{onClick:()=>{a(!1),h({}),k(null),z()},className:"flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:[(0,Te.jsx)(tt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,Te.jsxs)("button",{onClick:async()=>{if((()=>{const t={};return e.first_name.trim()||(t.first_name="First name is required"),e.last_name.trim()||(t.last_name="Last name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email is invalid"):t.email="Email is required",e.phone_number&&!/^[\+]?[1-9][\d]{0,15}$/.test(e.phone_number)&&(t.phone_number="Phone number is invalid"),h(t),0===Object.keys(t).length})())try{o(!0);const t=localStorage.getItem("accessToken");if(console.log("Save token:",t?"Present":"Missing"),console.log("Save data:",e),!t)throw new Error("No authentication token found. Please log in again.");const s=await fetch("http://localhost:8000/api/profile/me",{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("Save response status:",s.status),!s.ok){const e=await s.json().catch(()=>({}));throw console.error("Save error:",e),new Error(e.detail||"Failed to update profile: ".concat(s.status))}const n=await s.json();console.log("Profile updated successfully:",n),u("Profile updated successfully"),a(!1),d(null)}catch(t){console.error("Save error:",t),d("Failed to update profile: "+t.message)}finally{o(!1)}},disabled:i,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:[i?(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Te.jsx)(Ts,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):(0,Te.jsxs)("button",{onClick:()=>a(!0),className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Ls,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})]})}),c&&(0,Te.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[(0,Te.jsx)(Ye,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-red-800 font-medium",children:"Error"}),(0,Te.jsx)("p",{className:"text-red-700 text-sm",children:c})]}),(0,Te.jsx)("button",{onClick:()=>d(null),className:"ml-auto text-red-400 hover:text-red-600",children:(0,Te.jsx)(tt,{className:"h-4 w-4"})})]}),m&&(0,Te.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[(0,Te.jsx)(xs,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-green-800 font-medium",children:"Success"}),(0,Te.jsx)("p",{className:"text-green-700 text-sm",children:m})]}),(0,Te.jsx)("button",{onClick:()=>u(null),className:"ml-auto text-green-400 hover:text-green-600",children:(0,Te.jsx)(tt,{className:"h-4 w-4"})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{className:"lg:col-span-1",children:[(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Profile Picture"}),(0,Te.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,Te.jsxs)("div",{className:"relative",children:[w||e.profile_picture?(0,Te.jsx)("img",{src:w||e.profile_picture,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-slate-200"}):(0,Te.jsx)("div",{className:"w-24 h-24 rounded-full bg-slate-100 flex items-center justify-center border-2 border-slate-200",children:(0,Te.jsx)(St,{className:"h-8 w-8 text-slate-400"})}),s&&(0,Te.jsxs)("div",{className:"absolute -bottom-2 -right-2 flex space-x-1",children:[(0,Te.jsxs)("label",{className:"bg-blue-600 text-white p-1 rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[(0,Te.jsx)(Hd,{className:"h-4 w-4"}),(0,Te.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const s=e.target.files[0];if(console.log("File selected:",s),!s)return void console.log("No file selected");if(console.log("File details:",{name:s.name,type:s.type,size:s.size}),!s.type.startsWith("image/"))return void d("Please select an image file");if(s.size>5242880)return void d("File size must be less than 5MB");const a=new FileReader;a.onload=e=>{k(e.target.result)},a.readAsDataURL(s);try{o(!0);const e=localStorage.getItem("accessToken");if(!e)throw new Error("No authentication token found");console.log("Uploading file with token:",e?"Present":"Missing");const a=new FormData;a.append("file",s),console.log("FormData created with file");const n=await fetch("http://localhost:8000/api/profile/upload-avatar",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:a});if(console.log("Upload response status:",n.status),!n.ok){const e=await n.json();throw console.error("Upload error:",e),new Error(e.detail||"Failed to upload avatar")}const l=await n.json();console.log("Upload success, response data:",l),t(e=>Ue(Ue({},e),{},{profile_picture:l.profile_picture})),k(null),u("Avatar uploaded successfully"),d(null);const r=Ue(Ue({},JSON.parse(localStorage.getItem("userData")||"{}")),{},{profile_picture:l.profile_picture});localStorage.setItem("userData",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("profileUpdated"))}catch(n){console.error("Upload error:",n),d("Failed to upload avatar: "+n.message)}finally{o(!1)}},className:"hidden"})]}),w&&(0,Te.jsx)("button",{onClick:()=>{k(null)},className:"bg-yellow-600 text-white p-1 rounded-full hover:bg-yellow-700 transition-colors",title:"Cancel preview",children:(0,Te.jsx)(tt,{className:"h-4 w-4"})}),(e.profile_picture||w)&&(0,Te.jsx)("button",{onClick:async()=>{try{o(!0);const e=localStorage.getItem("accessToken");if(!(await fetch("http://localhost:8000/api/profile/avatar",{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok)throw new Error("Failed to delete avatar");t(e=>Ue(Ue({},e),{},{profile_picture:null})),k(null),u("Avatar deleted successfully"),d(null);const s=Ue(Ue({},JSON.parse(localStorage.getItem("userData")||"{}")),{},{profile_picture:null});localStorage.setItem("userData",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("profileUpdated"))}catch(e){d("Failed to delete avatar: "+e.message)}finally{o(!1)}},className:"bg-red-600 text-white p-1 rounded-full hover:bg-red-700 transition-colors",title:"Delete avatar",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsxs)("p",{className:"text-sm text-slate-600",children:[e.first_name," ",e.last_name]}),(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:e.email})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 mt-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Security"}),p?(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Current Password"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:S.current?"text":"password",value:_.current_password,onChange:e=>C(Ue(Ue({},_),{},{current_password:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.current_password?"border-red-300":"border-slate-300")}),(0,Te.jsx)("button",{type:"button",onClick:()=>A(Ue(Ue({},S),{},{current:!S.current})),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600",children:S.current?(0,Te.jsx)(ps,{className:"h-4 w-4"}):(0,Te.jsx)(es,{className:"h-4 w-4"})})]}),x.current_password&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.current_password})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"New Password"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:S.new?"text":"password",value:_.new_password,onChange:e=>C(Ue(Ue({},_),{},{new_password:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.new_password?"border-red-300":"border-slate-300")}),(0,Te.jsx)("button",{type:"button",onClick:()=>A(Ue(Ue({},S),{},{new:!S.new})),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600",children:S.new?(0,Te.jsx)(ps,{className:"h-4 w-4"}):(0,Te.jsx)(es,{className:"h-4 w-4"})})]}),x.new_password&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.new_password})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Confirm New Password"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)("input",{type:S.confirm?"text":"password",value:_.confirm_password,onChange:e=>C(Ue(Ue({},_),{},{confirm_password:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.confirm_password?"border-red-300":"border-slate-300")}),(0,Te.jsx)("button",{type:"button",onClick:()=>A(Ue(Ue({},S),{},{confirm:!S.confirm})),className:"absolute right-3 top-2.5 text-slate-400 hover:text-slate-600",children:S.confirm?(0,Te.jsx)(ps,{className:"h-4 w-4"}):(0,Te.jsx)(es,{className:"h-4 w-4"})})]}),x.confirm_password&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.confirm_password})]}),(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>{g(!1),C({current_password:"",new_password:"",confirm_password:""}),h({})},className:"flex-1 px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{if((()=>{const e={};return _.current_password||(e.current_password="Current password is required"),_.new_password?_.new_password.length<8&&(e.new_password="Password must be at least 8 characters"):e.new_password="New password is required",_.new_password!==_.confirm_password&&(e.confirm_password="Passwords do not match"),h(e),0===Object.keys(e).length})())try{o(!0);const e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:8000/api/profile/change-password",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({current_password:_.current_password,new_password:_.new_password})});if(!t.ok){const e=await t.json();throw new Error(e.detail||"Failed to change password")}u("Password changed successfully"),g(!1),C({current_password:"",new_password:"",confirm_password:""}),d(null)}catch(e){d("Failed to change password: "+e.message)}finally{o(!1)}},disabled:i,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:i?"Changing...":"Change Password"})]})]}):(0,Te.jsxs)("button",{onClick:()=>g(!0),className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 transition-colors",children:[(0,Te.jsx)(ot,{className:"h-4 w-4 mr-2"}),"Change Password"]})]})]}),(0,Te.jsx)("div",{className:"lg:col-span-2",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-6",children:"Profile Information"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"First Name *"}),(0,Te.jsx)("input",{type:"text",value:e.first_name,onChange:s=>t(Ue(Ue({},e),{},{first_name:s.target.value})),disabled:!s,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.first_name?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50")}),x.first_name&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.first_name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Last Name *"}),(0,Te.jsx)("input",{type:"text",value:e.last_name,onChange:s=>t(Ue(Ue({},e),{},{last_name:s.target.value})),disabled:!s,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.last_name?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50")}),x.last_name&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.last_name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address *"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(bt,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"email",value:e.email,onChange:s=>t(Ue(Ue({},e),{},{email:s.target.value})),disabled:!s,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.email?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50")})]}),x.email&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.email})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(ft,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"tel",value:e.phone_number,onChange:s=>t(Ue(Ue({},e),{},{phone_number:s.target.value})),disabled:!s,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.phone_number?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50")})]}),x.phone_number&&(0,Te.jsx)("p",{className:"text-red-500 text-xs mt-1",children:x.phone_number})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Organization"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Rs,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",value:e.organization,onChange:s=>t(Ue(Ue({},e),{},{organization:s.target.value})),disabled:!s,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.organization?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50")})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job Title"}),(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Es,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",value:e.job_title,onChange:s=>t(Ue(Ue({},e),{},{job_title:s.target.value})),disabled:!s,className:"w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.job_title?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50")})]})]})]}),(0,Te.jsxs)("div",{className:"mt-6",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Bio"}),(0,Te.jsx)("textarea",{value:e.bio,onChange:s=>t(Ue(Ue({},e),{},{bio:s.target.value})),disabled:!s,rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.bio?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50"),placeholder:"Tell us about yourself..."})]}),(0,Te.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-200",children:[(0,Te.jsx)("h4",{className:"text-md font-medium text-slate-900 mb-4",children:"Preferences"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Language"}),(0,Te.jsxs)("select",{value:e.language,onChange:s=>t(Ue(Ue({},e),{},{language:s.target.value})),disabled:!s,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.language?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50"),children:[(0,Te.jsx)("option",{value:"en",children:"English"}),(0,Te.jsx)("option",{value:"fr",children:"French"}),(0,Te.jsx)("option",{value:"es",children:"Spanish"}),(0,Te.jsx)("option",{value:"de",children:"German"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Timezone"}),(0,Te.jsxs)("select",{value:e.timezone,onChange:s=>t(Ue(Ue({},e),{},{timezone:s.target.value})),disabled:!s,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(x.timezone?"border-red-300":"border-slate-300"," ").concat(s?"":"bg-slate-50"),children:[(0,Te.jsx)("option",{value:"UTC",children:"UTC"}),(0,Te.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,Te.jsx)("option",{value:"America/Chicago",children:"Central Time"}),(0,Te.jsx)("option",{value:"America/Denver",children:"Mountain Time"}),(0,Te.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,Te.jsx)("option",{value:"Europe/London",children:"London"}),(0,Te.jsx)("option",{value:"Europe/Paris",children:"Paris"}),(0,Te.jsx)("option",{value:"Asia/Tokyo",children:"Tokyo"}),(0,Te.jsx)("option",{value:"Africa/Accra",children:"Accra"})]})]})]}),(0,Te.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"email_notifications",checked:e.email_notifications,onChange:s=>t(Ue(Ue({},e),{},{email_notifications:s.target.checked})),disabled:!s,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"email_notifications",className:"ml-2 block text-sm text-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Ke,{className:"h-4 w-4 mr-2"}),"Email notifications"]})})]}),(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",id:"sms_notifications",checked:e.sms_notifications,onChange:s=>t(Ue(Ue({},e),{},{sms_notifications:s.target.checked})),disabled:!s,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-slate-300 rounded"}),(0,Te.jsx)("label",{htmlFor:"sms_notifications",className:"ml-2 block text-sm text-slate-700",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(Vd,{className:"h-4 w-4 mr-2"}),"SMS notifications"]})})]})]})]})]})})]}),f&&(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"User Management"}),(0,Te.jsxs)("button",{onClick:B,disabled:I,className:"flex items-center px-4 py-2 text-sm font-medium text-slate-700 bg-slate-100 rounded-lg hover:bg-slate-200 disabled:opacity-50 transition-colors",children:[I?(0,Te.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-slate-600 mr-2"}):(0,Te.jsx)($t,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsx)("input",{type:"text",placeholder:"Search users...",value:R,onChange:e=>D(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),(0,Te.jsxs)("select",{value:O,onChange:e=>F(e.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"all",children:"All Status"}),(0,Te.jsx)("option",{value:"active",children:"Active"}),(0,Te.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Te.jsx)("option",{value:"pending",children:"Pending"}),(0,Te.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,Te.jsx)("div",{className:"overflow-x-auto",children:(0,Te.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,Te.jsx)("thead",{className:"bg-slate-50",children:(0,Te.jsxs)("tr",{children:[(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"User"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Email"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Role"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Status"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Created"}),(0,Te.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Te.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:U.map(e=>(0,Te.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:e.profile_picture?(0,Te.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.profile_picture,alt:e.first_name}):(0,Te.jsx)("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:(0,Te.jsx)(St,{className:"h-5 w-5 text-slate-400"})})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsxs)("div",{className:"text-sm font-medium text-slate-900",children:[e.first_name," ",e.last_name]}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:e.organization||"No organization"})]})]})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900",children:e.email}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"premium"===e.role?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.role})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Te.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"inactive"===e.status?"bg-red-100 text-red-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Te.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Te.jsxs)("div",{className:"flex space-x-2",children:[(0,Te.jsx)("button",{onClick:()=>(async e=>{try{o(!0);const t=localStorage.getItem("accessToken");if(!(await fetch("http://localhost:8000/api/profile/users/".concat(e.id,"/toggle-status"),{method:"POST",headers:{Authorization:"Bearer ".concat(t)}})).ok)throw new Error("Failed to update user status");u("User status updated successfully"),B(),d(null)}catch(t){d("Failed to update user status: "+t.message)}finally{o(!1)}})(e),className:"".concat("active"===e.status?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),title:"active"===e.status?"Deactivate":"Activate",children:"active"===e.status?(0,Te.jsx)(Wd,{className:"h-4 w-4"}):(0,Te.jsx)(cd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>(async e=>{N(e),v(!0)})(e),className:"text-red-600 hover:text-red-900",title:"Delete User",children:(0,Te.jsx)(Hs,{className:"h-4 w-4"})})]})})]},e.id))})]})}),0===U.length&&(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)(St,{className:"mx-auto h-12 w-12 text-slate-400"}),(0,Te.jsx)("h3",{className:"mt-2 text-sm font-medium text-slate-900",children:"No users found"}),(0,Te.jsx)("p",{className:"mt-1 text-sm text-slate-500",children:R?"Try adjusting your search criteria.":"No users have been created yet."})]})]}),j&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,Te.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Te.jsx)(Ye,{className:"h-6 w-6 text-red-500 mr-3"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"Delete User"})]}),(0,Te.jsxs)("p",{className:"text-slate-600 mb-6",children:["Are you sure you want to delete ",(0,Te.jsxs)("strong",{children:[null===y||void 0===y?void 0:y.first_name," ",null===y||void 0===y?void 0:y.last_name]}),"? This action cannot be undone and will permanently remove the user and all associated data."]}),(0,Te.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Te.jsx)("button",{onClick:()=>{v(!1),N(null)},className:"px-4 py-2 text-slate-600 bg-slate-100 rounded-lg hover:bg-slate-200",children:"Cancel"}),(0,Te.jsx)("button",{onClick:async()=>{if(y)try{o(!0);const e=localStorage.getItem("accessToken");if(!(await fetch("http://localhost:8000/api/profile/users/".concat(y.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok)throw new Error("Failed to delete user");u("User deleted successfully"),B(),v(!1),N(null),d(null)}catch(e){d("Failed to delete user: "+e.message)}finally{o(!1)}},disabled:i,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:i?"Deleting...":"Delete User"})]})]})})]}):(0,Te.jsx)("div",{className:"space-y-6",children:(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Authentication Required"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-6",children:"You need to be logged in to access profile management."}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("button",{onClick:H,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Login as Admin (Test)"}),(0,Te.jsxs)("div",{className:"text-sm text-slate-500",children:[(0,Te.jsx)("p",{children:"Test Credentials:"}),(0,Te.jsx)("p",{children:"Email: admin@test.com"}),(0,Te.jsx)("p",{children:"Password: admin123"})]})]})]})})})},qd=Ge("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),Yd=Ge("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),$d=["method","body","includeAuth"],Jd=()=>localStorage.getItem("accessToken"),Kd=function(){const e={"Content-Type":"application/json"};if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){const t=Jd();t&&(e.Authorization="Bearer ".concat(t))}return e},Qd=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat("http://localhost:8000").concat(e),{method:a="GET",body:n,includeAuth:l=!0}=t,r=He(t,$d),i=Ue({method:a,headers:Kd(l)},r);n&&(i.body=JSON.stringify(n));try{var o;const e=await fetch(s,i);if(null!==(o=e.headers.get("content-type"))&&void 0!==o&&o.includes("application/json")){const t=await e.json();return{response:e,data:t}}{const t=await e.text();return{response:e,data:t}}}catch(c){throw console.error("API request failed:",c),c}},Xd=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{response:s,data:a}=await Qd(e,Ue({method:"GET"},t));if(!s.ok)throw new Error("Request failed with status ".concat(s.status));return a},Zd=()=>{var e,t,s;const[a,l]=(0,n.useState)("access"),[r,i]=(0,n.useState)([]),[o,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)({}),[u,x]=(0,n.useState)({user_id:"",limit:100,offset:0,start_date:"",end_date:"",activity_type:"",severity:"",event_type:"",table_name:"",resolved:"",blocked:""}),[h,p]=(0,n.useState)(new Set),g=[{id:"access",name:"Access Logs",icon:es,color:"blue"},{id:"activity",name:"Activity Logs",icon:md,color:"green"},{id:"audit",name:"Audit Logs",icon:Je,color:"purple"},{id:"errors",name:"Error Logs",icon:js,color:"red"},{id:"security",name:"Security Logs",icon:ot,color:"orange"}];(0,n.useEffect)(()=>{f(),b()},[a,u]);const f=async()=>{c(!0);try{const e=new URLSearchParams;Object.entries(u).forEach(t=>{let[s,a]=t;a&&e.append(s,a)});const t=await Xd("/api/admin/logs/".concat(a,"?").concat(e));i(t.logs||[])}catch(e){console.error("Error loading logs:",e)}finally{c(!1)}},b=async()=>{try{const e=new URLSearchParams;u.start_date&&e.append("start_date",u.start_date),u.end_date&&e.append("end_date",u.end_date);const t=await Xd("/api/admin/logs/stats?".concat(e));m(t)}catch(e){console.error("Error loading stats:",e)}},j=(e,t)=>{x(s=>Ue(Ue({},s),{},{[e]:t,offset:0}))},v=e=>{p(t=>{const s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},y=e=>new Date(e).toLocaleString(),N=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"debug":default:return"text-gray-500";case"info":return"text-blue-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";case"critical":return"text-red-800"}},w=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"mobile":return(0,Te.jsx)(ks,{className:"h-4 w-4"});case"tablet":return(0,Te.jsx)(qd,{className:"h-4 w-4"});default:return(0,Te.jsx)(Yd,{className:"h-4 w-4"})}};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"System Logs"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Monitor system activity, errors, and security events"})]}),(0,Te.jsx)("div",{className:"flex items-center space-x-3",children:(0,Te.jsxs)("button",{onClick:f,disabled:o,className:"flex items-center space-x-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors disabled:opacity-50",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4 ".concat(o?"animate-spin":"")}),(0,Te.jsx)("span",{children:"Refresh"})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Te.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Total Requests"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:d.total_requests||0})]}),(0,Te.jsx)(es,{className:"h-8 w-8 text-blue-500"})]})}),(0,Te.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Unique Users"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:d.unique_users||0})]}),(0,Te.jsx)(St,{className:"h-8 w-8 text-green-500"})]})}),(0,Te.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Error Rate"}),(0,Te.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:[(null===(e=d.error_rate)||void 0===e?void 0:e.toFixed(1))||0,"%"]})]}),(0,Te.jsx)(js,{className:"h-8 w-8 text-red-500"})]})}),(0,Te.jsx)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:"Security Events"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:d.total_security_events||0})]}),(0,Te.jsx)(ot,{className:"h-8 w-8 text-orange-500"})]})})]}),(0,Te.jsx)("div",{className:"border-b border-slate-200",children:(0,Te.jsx)("nav",{className:"-mb-px flex space-x-8",children:g.map(e=>{const t=e.icon;return(0,Te.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ".concat(a===e.id?"border-".concat(e.color,"-500 text-").concat(e.color,"-600"):"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"),children:[(0,Te.jsx)(t,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:e.name})]},e.id)})})}),(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900",children:"Filters"}),(0,Te.jsx)("button",{onClick:()=>{x({user_id:"",limit:100,offset:0,start_date:"",end_date:"",activity_type:"",severity:"",event_type:"",table_name:"",resolved:"",blocked:""})},className:"text-sm text-slate-600 hover:text-slate-800",children:"Reset Filters"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"User ID"}),(0,Te.jsx)("input",{type:"number",value:u.user_id,onChange:e=>j("user_id",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500",placeholder:"Enter user ID"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),(0,Te.jsx)("input",{type:"datetime-local",value:u.start_date,onChange:e=>j("start_date",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),(0,Te.jsx)("input",{type:"datetime-local",value:u.end_date,onChange:e=>j("end_date",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Limit"}),(0,Te.jsxs)("select",{value:u.limit,onChange:e=>j("limit",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500",children:[(0,Te.jsx)("option",{value:50,children:"50"}),(0,Te.jsx)("option",{value:100,children:"100"}),(0,Te.jsx)("option",{value:200,children:"200"}),(0,Te.jsx)("option",{value:500,children:"500"})]})]}),"activity"===a&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Activity Type"}),(0,Te.jsxs)("select",{value:u.activity_type,onChange:e=>j("activity_type",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500",children:[(0,Te.jsx)("option",{value:"",children:"All Types"}),(0,Te.jsx)("option",{value:"LOGIN",children:"Login"}),(0,Te.jsx)("option",{value:"LOGOUT",children:"Logout"}),(0,Te.jsx)("option",{value:"CREATE",children:"Create"}),(0,Te.jsx)("option",{value:"UPDATE",children:"Update"}),(0,Te.jsx)("option",{value:"DELETE",children:"Delete"}),(0,Te.jsx)("option",{value:"VIEW",children:"View"}),(0,Te.jsx)("option",{value:"SEARCH",children:"Search"}),(0,Te.jsx)("option",{value:"NAVIGATION",children:"Navigation"}),(0,Te.jsx)("option",{value:"ADMIN_ACTION",children:"Admin Action"})]})]}),("errors"===a||"security"===a)&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Severity"}),(0,Te.jsxs)("select",{value:u.severity,onChange:e=>j("severity",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500",children:[(0,Te.jsx)("option",{value:"",children:"All Severities"}),(0,Te.jsx)("option",{value:"DEBUG",children:"Debug"}),(0,Te.jsx)("option",{value:"INFO",children:"Info"}),(0,Te.jsx)("option",{value:"WARNING",children:"Warning"}),(0,Te.jsx)("option",{value:"ERROR",children:"Error"}),(0,Te.jsx)("option",{value:"CRITICAL",children:"Critical"})]})]}),"security"===a&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Event Type"}),(0,Te.jsx)("input",{type:"text",value:u.event_type,onChange:e=>j("event_type",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500",placeholder:"e.g., failed_login"})]}),"audit"===a&&(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Table Name"}),(0,Te.jsx)("input",{type:"text",value:u.table_name,onChange:e=>j("table_name",e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500",placeholder:"e.g., users"})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg",children:[(0,Te.jsx)("div",{className:"p-4 border-b border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("h3",{className:"text-lg font-medium text-slate-900",children:[null===(t=g.find(e=>e.id===a))||void 0===t?void 0:t.name," (",r.length,")"]}),(0,Te.jsx)("div",{className:"flex items-center space-x-2",children:(0,Te.jsxs)("button",{onClick:()=>window.print(),className:"flex items-center space-x-2 px-3 py-2 text-slate-600 hover:text-slate-800",children:[(0,Te.jsx)($t,{className:"h-4 w-4"}),(0,Te.jsx)("span",{children:"Export"})]})})]})}),(0,Te.jsx)("div",{className:"p-4",children:o?(0,Te.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Te.jsx)(Ut,{className:"h-6 w-6 animate-spin text-slate-500"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-500",children:"Loading logs..."})]}):0===r.length?(0,Te.jsxs)("div",{className:"text-center py-8",children:[(0,Te.jsx)("div",{className:"text-slate-400 mb-2",children:(null===(s=g.find(e=>e.id===a))||void 0===s?void 0:s.icon)&&n.createElement(g.find(e=>e.id===a).icon,{className:"h-12 w-12 mx-auto"})}),(0,Te.jsx)("p",{className:"text-slate-500",children:"No logs found for the selected criteria"})]}):(()=>{switch(a){case"access":return(0,Te.jsx)("div",{className:"space-y-4",children:r.map(e=>{return(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("span",{className:"px-2 py-1 rounded text-sm font-medium ".concat((t=e.status_code,t>=200&&t<300?"text-green-600":t>=300&&t<400?"text-yellow-600":t>=400&&t<500?"text-orange-600":"text-red-600")),children:e.status_code}),(0,Te.jsx)("span",{className:"text-sm font-mono text-slate-600",children:e.method})]}),(0,Te.jsx)("div",{className:"text-sm text-slate-600 truncate max-w-md",children:e.endpoint})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[w(e.device_type),(0,Te.jsx)("span",{children:e.browser}),(0,Te.jsx)("span",{children:"\u2022"}),(0,Te.jsx)("span",{children:e.os})]}),(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:y(e.created_at)}),(0,Te.jsx)("button",{onClick:()=>v(e.id),className:"p-1 hover:bg-slate-100 rounded",children:h.has(e.id)?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})})]})]}),h.has(e.id)&&(0,Te.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-2",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"IP Address:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.ip_address})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"User ID:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.user_id||"Anonymous"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Response Time:"}),(0,Te.jsxs)("span",{className:"ml-2 text-slate-600",children:[e.response_time,"ms"]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Location:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.city&&e.country?"".concat(e.city,", ").concat(e.country):"Unknown"})]})]}),e.referer&&(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Referer:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600 break-all",children:e.referer})]}),(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"User Agent:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600 break-all",children:e.user_agent})]})]})]},e.id);var t})});case"activity":return(0,Te.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"px-2 py-1 rounded text-sm font-medium ".concat(N(e.severity)),children:e.activity_type}),(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.action}),e.resource_type&&(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:[e.resource_type,": ",e.resource_id]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:y(e.created_at)}),(0,Te.jsx)("button",{onClick:()=>v(e.id),className:"p-1 hover:bg-slate-100 rounded",children:h.has(e.id)?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})})]})]}),e.description&&(0,Te.jsx)("div",{className:"mt-2 text-sm text-slate-600",children:e.description}),h.has(e.id)&&(0,Te.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-2",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"User ID:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.user_id||"Anonymous"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"IP Address:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.ip_address})]})]}),e.old_values&&(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Old Values:"}),(0,Te.jsx)("pre",{className:"mt-1 p-2 bg-slate-50 rounded text-xs overflow-x-auto",children:JSON.stringify(e.old_values,null,2)})]}),e.new_values&&(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"New Values:"}),(0,Te.jsx)("pre",{className:"mt-1 p-2 bg-slate-50 rounded text-xs overflow-x-auto",children:JSON.stringify(e.new_values,null,2)})]})]})]},e.id))});case"audit":return(0,Te.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"px-2 py-1 rounded text-sm font-medium bg-purple-100 text-purple-700",children:e.action}),(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.table_name}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:["ID: ",e.record_id]}),e.field_name&&(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:["Field: ",e.field_name]})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:y(e.created_at)}),(0,Te.jsx)("button",{onClick:()=>v(e.id),className:"p-1 hover:bg-slate-100 rounded",children:h.has(e.id)?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})})]})]}),h.has(e.id)&&(0,Te.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-2",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"User ID:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.user_id||"Anonymous"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"IP Address:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.ip_address})]})]}),e.old_value&&(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Old Value:"}),(0,Te.jsx)("div",{className:"mt-1 p-2 bg-slate-50 rounded text-xs break-all",children:e.old_value})]}),e.new_value&&(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"New Value:"}),(0,Te.jsx)("div",{className:"mt-1 p-2 bg-slate-50 rounded text-xs break-all",children:e.new_value})]})]})]},e.id))});case"errors":return(0,Te.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"px-2 py-1 rounded text-sm font-medium ".concat(N(e.severity)),children:e.severity}),(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.error_type}),(0,Te.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat(e.resolved?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.resolved?"Resolved":"Unresolved"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:y(e.created_at)}),(0,Te.jsx)("button",{onClick:()=>v(e.id),className:"p-1 hover:bg-slate-100 rounded",children:h.has(e.id)?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})})]})]}),(0,Te.jsx)("div",{className:"mt-2 text-sm text-slate-600",children:e.error_message}),h.has(e.id)&&(0,Te.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-2",children:[(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"User ID:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.user_id||"Anonymous"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Status Code:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.status_code||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"URL:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600 break-all",children:e.url||"N/A"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Method:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.method||"N/A"})]})]}),e.stack_trace&&(0,Te.jsxs)("div",{className:"text-sm",children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Stack Trace:"}),(0,Te.jsx)("pre",{className:"mt-1 p-2 bg-slate-50 rounded text-xs overflow-x-auto",children:e.stack_trace})]})]})]},e.id))});case"security":return(0,Te.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,Te.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"px-2 py-1 rounded text-sm font-medium ".concat(N(e.severity)),children:e.severity}),(0,Te.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.event_type}),(0,Te.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat(e.blocked?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:e.blocked?"Blocked":"Allowed"})]}),(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("div",{className:"text-sm text-slate-500",children:y(e.created_at)}),(0,Te.jsx)("button",{onClick:()=>v(e.id),className:"p-1 hover:bg-slate-100 rounded",children:h.has(e.id)?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})})]})]}),(0,Te.jsx)("div",{className:"mt-2 text-sm text-slate-600",children:e.description}),h.has(e.id)&&(0,Te.jsx)("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-2",children:(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"User ID:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.user_id||"Anonymous"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"IP Address:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.ip_address})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Location:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.city&&e.country?"".concat(e.city,", ").concat(e.country):"Unknown"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("span",{className:"font-medium text-slate-700",children:"Session ID:"}),(0,Te.jsx)("span",{className:"ml-2 text-slate-600",children:e.session_id||"N/A"})]})]})})]},e.id))});default:return null}})()})]})]})};_o.register(jc,wc,Jo,tc,gc,Zo,Io,Ho,Bo);const em=e=>{var t,s,a,n;let{stats:l,onRefresh:r,isRefreshing:i}=e;const o=e=>{switch(e){case"success":return(0,Te.jsx)(qe,{className:"h-4 w-4 text-green-600"});case"warning":return(0,Te.jsx)(Ye,{className:"h-4 w-4 text-yellow-600"});case"error":return(0,Te.jsx)(tt,{className:"h-4 w-4 text-red-600"});default:return(0,Te.jsx)(md,{className:"h-4 w-4 text-blue-600"})}};return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Dashboard Overview"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Comprehensive analytics and system insights"})]}),(0,Te.jsxs)("button",{onClick:r,disabled:i,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4 ".concat(i?"animate-spin":"")}),(0,Te.jsx)("span",{children:i?"Refreshing...":"Refresh Data"})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-blue-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Revenue"}),(0,Te.jsxs)("p",{className:"text-3xl font-bold text-slate-900",children:["GHS ",(null===(t=l.totalRevenue)||void 0===t?void 0:t.toLocaleString())||"0"]}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(xd,{className:"h-4 w-4 text-green-600"}),(0,Te.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["+",l.monthlyGrowth,"%"]}),(0,Te.jsx)("span",{className:"text-sm text-slate-500 ml-1",children:"this month"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-blue-100 rounded-full",children:(0,Te.jsx)(Wt,{className:"h-8 w-8 text-blue-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-green-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Cases"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:l.totalCases}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(_s,{className:"h-4 w-4 text-green-600"}),(0,Te.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["+",l.trends.caseGrowth,"%"]}),(0,Te.jsx)("span",{className:"text-sm text-slate-500 ml-1",children:"vs last month"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-green-100 rounded-full",children:(0,Te.jsx)(xt,{className:"h-8 w-8 text-green-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-purple-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Users"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:l.totalUsers}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(ct,{className:"h-4 w-4 text-purple-600"}),(0,Te.jsxs)("span",{className:"text-sm text-purple-600 font-medium",children:["+",l.trends.userGrowth,"%"]}),(0,Te.jsx)("span",{className:"text-sm text-slate-500 ml-1",children:"growth"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-purple-100 rounded-full",children:(0,Te.jsx)(ct,{className:"h-8 w-8 text-purple-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-orange-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Risk Score"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:(null===(s=l.avgRiskScore)||void 0===s?void 0:s.toFixed(1))||"0.0"}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(ot,{className:"h-4 w-4 text-orange-600"}),(0,Te.jsx)("span",{className:"text-sm text-orange-600 font-medium",children:l.trends.riskTrend}),(0,Te.jsx)("span",{className:"text-sm text-slate-500 ml-1",children:"trend"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-orange-100 rounded-full",children:(0,Te.jsx)(ot,{className:"h-8 w-8 text-orange-600"})})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-cyan-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total People"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:l.totalPeople}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(cd,{className:"h-4 w-4 text-cyan-600"}),(0,Te.jsx)("span",{className:"text-sm text-cyan-600 font-medium",children:"Records"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-cyan-100 rounded-full",children:(0,Te.jsx)(cd,{className:"h-8 w-8 text-cyan-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-indigo-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Banks"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:l.totalBanks}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(wt,{className:"h-4 w-4 text-indigo-600"}),(0,Te.jsx)("span",{className:"text-sm text-indigo-600 font-medium",children:"Institutions"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-indigo-100 rounded-full",children:(0,Te.jsx)(wt,{className:"h-8 w-8 text-indigo-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-emerald-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Insurance"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:l.totalInsurance}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(ot,{className:"h-4 w-4 text-emerald-600"}),(0,Te.jsx)("span",{className:"text-sm text-emerald-600 font-medium",children:"Companies"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-emerald-100 rounded-full",children:(0,Te.jsx)(ot,{className:"h-8 w-8 text-emerald-600"})})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow border-l-4 border-violet-500",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Companies"}),(0,Te.jsx)("p",{className:"text-3xl font-bold text-slate-900",children:l.totalCompanies}),(0,Te.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Te.jsx)(dt,{className:"h-4 w-4 text-violet-600"}),(0,Te.jsx)("span",{className:"text-sm text-violet-600 font-medium",children:"Entities"})]})]}),(0,Te.jsx)("div",{className:"p-3 bg-violet-100 rounded-full",children:(0,Te.jsx)(dt,{className:"h-8 w-8 text-violet-600"})})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Risk Distribution"}),(0,Te.jsx)(hd,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsx)("div",{className:"h-64",children:(0,Te.jsx)(id,{data:{labels:Object.keys(l.riskDistribution).map(e=>e.charAt(0).toUpperCase()+e.slice(1)+" Risk"),datasets:[{data:Object.values(l.riskDistribution),backgroundColor:["#10B981","#F59E0B","#F97316","#EF4444"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}},tooltip:{callbacks:{label:function(e){const t=e.dataset.data.reduce((e,t)=>e+t,0),s=(e.parsed/t*100).toFixed(1);return"".concat(e.label,": ").concat(e.parsed," (").concat(s,"%)")}}}}}})})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Regional Distribution"}),(0,Te.jsx)(gt,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsx)("div",{className:"h-64",children:(0,Te.jsx)(rd,{data:{labels:Object.keys(l.regionDistribution),datasets:[{label:"Cases by Region (%)",data:Object.values(l.regionDistribution),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],borderRadius:4,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return"".concat(e.label,": ").concat(e.parsed.y,"%")}}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(e){return e+"%"}}}}}})})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Case Resolution Rate"}),(0,Te.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:[(null===(a=l.caseResolutionRate)||void 0===a?void 0:a.toFixed(1))||"0.0","%"]})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Te.jsx)(Wt,{className:"h-6 w-6 text-blue-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Avg Case Value"}),(0,Te.jsxs)("p",{className:"text-2xl font-bold text-slate-900",children:["GHS ",(null===(n=l.avgCaseValue)||void 0===n?void 0:n.toFixed(0))||"0"]})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Te.jsx)(wt,{className:"h-6 w-6 text-purple-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Total Branches"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:l.totalBranches})]})]})}),(0,Te.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,Te.jsx)(pt,{className:"h-6 w-6 text-yellow-600"})}),(0,Te.jsxs)("div",{className:"ml-4",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-600",children:"Pending Payments"}),(0,Te.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:l.pendingPayments})]})]})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"System Health"}),(0,Te.jsx)(md,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Uptime"}),(0,Te.jsx)("span",{className:"text-sm font-bold text-green-600",children:l.systemMetrics.uptime})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Response Time"}),(0,Te.jsx)("span",{className:"text-sm font-bold text-blue-600",children:l.systemMetrics.responseTime})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Error Rate"}),(0,Te.jsx)("span",{className:"text-sm font-bold text-green-600",children:l.systemMetrics.errorRate})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"CPU Usage"}),(0,Te.jsx)("span",{className:"text-sm font-bold text-orange-600",children:l.systemMetrics.cpuUsage})]}),(0,Te.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Te.jsx)("span",{className:"text-sm text-slate-600",children:"Memory Usage"}),(0,Te.jsx)("span",{className:"text-sm font-bold text-yellow-600",children:l.systemMetrics.memoryUsage})]})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Recent Activity"}),(0,Te.jsx)(Qe,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsx)("div",{className:"space-y-3",children:l.recentActivity.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-center space-x-3",children:[o(e.status),(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:e.message}),(0,Te.jsx)("span",{className:"text-xs text-slate-400",children:e.time})]})]},t))})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Court Types"}),(0,Te.jsx)(Ht,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsx)("div",{className:"h-48",children:(0,Te.jsx)(rd,{data:{labels:Object.keys(l.courtTypeDistribution),datasets:[{label:"Cases by Court Type (%)",data:Object.values(l.courtTypeDistribution),backgroundColor:["#6366F1","#8B5CF6","#EC4899","#F59E0B"],borderRadius:6,borderSkipped:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return"".concat(e.label,": ").concat(e.parsed.y,"%")}}}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(e){return e+"%"}}}}}})})]})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Growth Trends (6 Months)"}),(0,Te.jsx)(_s,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsx)("div",{className:"h-64",children:(0,Te.jsx)(ld,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Users",data:[120,135,148,162,175,l.totalUsers],borderColor:"#8B5CF6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:3,fill:!1,tension:.4,pointBackgroundColor:"#8B5CF6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Cases",data:[450,520,580,650,720,l.totalCases],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:3,fill:!1,tension:.4,pointBackgroundColor:"#10B981",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20}},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}})})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Revenue Trend (6 Months)"}),(0,Te.jsx)(pd,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsx)("div",{className:"h-64",children:(0,Te.jsx)(ld,{data:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Revenue (GHS)",data:[.8*l.monthlyRevenue,.9*l.monthlyRevenue,1.1*l.monthlyRevenue,.95*l.monthlyRevenue,1.05*l.monthlyRevenue,l.monthlyRevenue],borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"#3B82F6",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:6,pointHoverRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(e){return"Revenue: GHS ".concat(e.parsed.y.toLocaleString())}}}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return"GHS "+e.toLocaleString()}},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})}),(0,Te.jsx)("div",{className:"mt-4 text-center",children:(0,Te.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Te.jsx)(xd,{className:"h-4 w-4 text-green-600"}),(0,Te.jsxs)("span",{className:"text-sm text-green-600 font-medium ml-1",children:["+",l.monthlyGrowth,"%"]}),(0,Te.jsx)("span",{className:"text-sm text-slate-500 ml-1",children:"vs last month"})]})})]}),(0,Te.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Quick Actions"}),(0,Te.jsx)(vt,{className:"h-5 w-5 text-slate-400"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Te.jsxs)("button",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:[(0,Te.jsx)(es,{className:"h-4 w-4 mx-auto mb-1"}),"View Reports"]}),(0,Te.jsxs)("button",{className:"p-3 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors text-sm font-medium",children:[(0,Te.jsx)(gd,{className:"h-4 w-4 mx-auto mb-1"}),"Generate Analytics"]}),(0,Te.jsxs)("button",{className:"p-3 bg-purple-50 text-purple-600 rounded-lg hover:bg-purple-100 transition-colors text-sm font-medium",children:[(0,Te.jsx)(ys,{className:"h-4 w-4 mx-auto mb-1"}),"Export Data"]}),(0,Te.jsxs)("button",{onClick:r,disabled:i,className:"p-3 bg-orange-50 text-orange-600 rounded-lg hover:bg-orange-100 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Te.jsx)(Ut,{className:"h-4 w-4 mx-auto mb-1 ".concat(i?"animate-spin":"")}),i?"Refreshing...":"Refresh All"]})]})]})]})]})},tm=()=>{var e,t,s;const a=se(),[l,r]=(0,n.useState)("overview"),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1),[p,g]=(0,n.useState)(null),[f,b]=(0,n.useState)({totalUsers:0,totalCases:0,totalPeople:0,totalBanks:0,totalInsurance:0,totalCompanies:0,totalPayments:0,activeSubscriptions:0,totalRevenue:0,avgRiskScore:0,highRiskCount:0,verifiedCount:0,totalBranches:0,totalEmployees:0,avgRating:0,pendingPayments:0,systemHealth:"healthy",monthlyRevenue:0,monthlyGrowth:0,caseResolutionRate:0,avgCaseValue:0,riskDistribution:{low:0,medium:0,high:0,critical:0},regionDistribution:{},courtTypeDistribution:{},recentActivity:[],systemMetrics:{uptime:"99.9%",responseTime:"120ms",errorRate:"0.1%",cpuUsage:"45%",memoryUsage:"67%"},trends:{userGrowth:0,caseGrowth:0,revenueGrowth:0,riskTrend:"stable"}}),[j,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("isAuthenticated"),t=localStorage.getItem("userData"),s="true"===e;if(u(s),s&&t)try{const e=JSON.parse(t);g(e);const s="admin"===e.role||!0===e.is_admin;h(s)}catch(a){console.error("Error parsing user data:",a)}};e();const t=()=>{e()};return window.addEventListener("authStateChanged",t),window.addEventListener("storage",t),()=>{window.removeEventListener("authStateChanged",t),window.removeEventListener("storage",t)}},[]),(0,n.useEffect)(()=>{x&&y()},[x]);const y=async()=>{try{const[e,t,s,a,n,l,r,i]=await Promise.all([Xd("/api/admin/stats"),Xd("/api/admin/users/stats"),Xd("/api/admin/cases/stats"),Xd("/api/admin/people/stats"),Xd("/api/admin/banks/stats"),Xd("/api/admin/insurance/stats"),Xd("/api/admin/companies/stats"),Xd("/api/admin/payments/stats")]),o=i.total_revenue||0,c=.08*o,d=12.5,m=s.resolved_cases?s.resolved_cases/s.total_cases*100:0,u=o/(s.total_cases||1);b({totalUsers:e.total_users||0,totalCases:e.total_cases||0,totalPeople:e.total_people||0,totalBanks:e.total_banks||0,totalInsurance:e.total_insurance||0,totalCompanies:e.total_companies||0,totalPayments:e.total_payments||0,activeSubscriptions:e.active_subscriptions||0,totalRevenue:o,avgRiskScore:a.avg_risk_score||0,highRiskCount:a.high_risk_count||0,verifiedCount:a.verified_count||0,totalBranches:(n.total_branches||0)+(l.total_branches||0),totalEmployees:r.total_employees||0,avgRating:((n.avg_rating||0)+(l.avg_rating||0)+(r.avg_rating||0))/3,pendingPayments:i.pending_payments||0,systemHealth:"healthy",monthlyRevenue:c,monthlyGrowth:d,caseResolutionRate:m,avgCaseValue:u,riskDistribution:{low:Math.floor(.6*(a.total_people||0)),medium:Math.floor(.25*(a.total_people||0)),high:Math.floor(.12*(a.total_people||0)),critical:Math.floor(.03*(a.total_people||0))},regionDistribution:s.region_distribution||{"Greater Accra":45,Ashanti:25,Western:15,Eastern:10,Others:5},courtTypeDistribution:s.court_type_distribution||{"High Court":40,"Supreme Court":25,"Court of Appeal":20,"District Court":15},recentActivity:[{type:"user",message:"New user registered",time:"2 minutes ago",status:"success"},{type:"case",message:"New case added",time:"5 minutes ago",status:"info"},{type:"payment",message:"Payment processed",time:"10 minutes ago",status:"success"},{type:"api",message:"API key generated",time:"15 minutes ago",status:"info"},{type:"risk",message:"High risk person flagged",time:"20 minutes ago",status:"warning"}],systemMetrics:{uptime:"99.9%",responseTime:"120ms",errorRate:"0.1%",cpuUsage:"45%",memoryUsage:"67%"},trends:{userGrowth:8.5,caseGrowth:15.2,revenueGrowth:12.5,riskTrend:"stable"}})}catch(e){console.error("Error loading dashboard stats:",e)}},N=async()=>{v(!0);try{await y()}catch(e){console.error("Error refreshing dashboard:",e)}finally{v(!1)}};if(!m)return(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Ye,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Authentication Required"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:"Please log in to access the admin dashboard."}),(0,Te.jsx)("button",{onClick:()=>a("/login"),className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Go to Login"})]})});if(!x)return(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(ot,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,Te.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Denied"}),(0,Te.jsx)("p",{className:"text-slate-600 mb-4",children:"You don't have admin privileges to access this dashboard."}),(0,Te.jsx)("button",{onClick:()=>a("/"),className:"bg-sky-600 text-white px-4 py-2 rounded-lg hover:bg-sky-700 transition-colors",children:"Go to Home"})]})});const w=[{id:"overview",name:"Overview",icon:od},{id:"profile",name:"Profile",icon:ct},{id:"users",name:"Users",icon:cd},{id:"api-keys",name:"API Keys",icon:dd},{id:"cases",name:"Cases",icon:xt},{id:"people",name:"People",icon:cd},{id:"banks",name:"Banks",icon:wt},{id:"insurance",name:"Insurance",icon:ot},{id:"companies",name:"Companies",icon:dt},{id:"payments",name:"Payments",icon:pt},{id:"subscription-requests",name:"Subscription Requests",icon:Qe},{id:"tenants",name:"Organizations",icon:ys},{id:"courts",name:"Courts",icon:gt},{id:"logs",name:"System Logs",icon:md},{id:"roles",name:"Roles & Permissions",icon:ot},{id:"settings",name:"Settings",icon:Ze}];return(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[i&&(0,Te.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)}),(0,Te.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 bg-white shadow-lg transform transition-all duration-300 ease-in-out lg:translate-x-0 ".concat(i?"translate-x-0":"-translate-x-full"," ").concat(c?"w-16":"w-64"),children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("div",{className:"h-8 w-8 rounded-full bg-sky-500 flex items-center justify-center",children:(0,Te.jsx)(Ze,{className:"h-4 w-4 text-white"})}),!c&&(0,Te.jsx)("span",{className:"font-semibold text-slate-900",children:"Admin Panel"})]}),(0,Te.jsx)("button",{onClick:()=>o(!1),className:"lg:hidden p-2 rounded-md hover:bg-slate-100",children:(0,Te.jsx)(tt,{className:"h-5 w-5"})})]}),(0,Te.jsx)("nav",{className:"mt-4 px-2",children:w.map(e=>{const t=e.icon;return(0,Te.jsxs)("button",{onClick:()=>{r(e.id),o(!1)},className:"w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg mb-1 transition-colors ".concat(l===e.id?"bg-sky-100 text-sky-700":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),title:c?e.name:"",children:[(0,Te.jsx)(t,{className:"h-5 w-5 ".concat(c?"":"mr-3")}),!c&&e.name]},e.id)})}),(0,Te.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-slate-200",children:[(0,Te.jsxs)("div",{className:"flex items-center ".concat(c?"justify-center":"space-x-3"," mb-3"),children:[(0,Te.jsx)("div",{className:"h-8 w-8 rounded-full bg-slate-200 flex items-center justify-center",children:(0,Te.jsx)("span",{className:"text-sm font-medium text-slate-600",children:(null===p||void 0===p||null===(e=p.name)||void 0===e?void 0:e.charAt(0))||(null===p||void 0===p||null===(t=p.email)||void 0===t?void 0:t.charAt(0))||"A"})}),!c&&(0,Te.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Te.jsx)("p",{className:"text-sm font-medium text-slate-900 truncate",children:(null===p||void 0===p?void 0:p.name)||(null===p||void 0===p?void 0:p.email)||"Admin User"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500",children:"Administrator"})]})]}),(0,Te.jsxs)("button",{onClick:()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userPicture"),localStorage.removeItem("authProvider"),localStorage.removeItem("accessToken"),localStorage.removeItem("userData"),window.dispatchEvent(new CustomEvent("authStateChanged")),a("/")},className:"w-full flex items-center px-3 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100 rounded-lg transition-colors ".concat(c?"justify-center":""),title:c?"Logout":"",children:[(0,Te.jsx)(et,{className:"h-4 w-4 ".concat(c?"":"mr-3")}),!c&&"Logout"]})]})]}),(0,Te.jsxs)("div",{className:"transition-all duration-300 ease-in-out ".concat(c?"lg:ml-16":"lg:ml-64"),children:[(0,Te.jsx)("div",{className:"bg-white shadow-sm border-b border-slate-200",children:(0,Te.jsxs)("div",{className:"flex items-center justify-between h-16 px-4",children:[(0,Te.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Te.jsx)("button",{onClick:()=>o(!0),className:"lg:hidden p-2 rounded-md hover:bg-slate-100",children:(0,Te.jsx)(st,{className:"h-5 w-5"})}),(0,Te.jsx)("button",{onClick:()=>{d(!c)},className:"hidden lg:block p-2 rounded-md hover:bg-slate-100 transition-colors",title:c?"Expand Sidebar":"Collapse Sidebar",children:(0,Te.jsx)(st,{className:"h-5 w-5"})}),(0,Te.jsx)("h1",{className:"text-xl font-semibold text-slate-900",children:(null===(s=w.find(e=>e.id===l))||void 0===s?void 0:s.name)||"Admin Dashboard"})]}),(0,Te.jsx)("div",{className:"flex items-center space-x-4",children:(0,Te.jsxs)("button",{onClick:()=>a("/"),className:"flex items-center space-x-2 text-slate-600 hover:text-slate-900 transition-colors",children:[(0,Te.jsx)(ud,{className:"h-4 w-4"}),(0,Te.jsx)("span",{className:"text-sm",children:"Back to Site"})]})})]})}),(0,Te.jsx)("div",{className:"p-6",children:(()=>{switch(l){case"overview":default:return(0,Te.jsx)(em,{stats:f,onRefresh:N,isRefreshing:j});case"profile":return(0,Te.jsx)(Gd,{});case"users":return(0,Te.jsx)(bd,{});case"api-keys":return(0,Te.jsx)(jd,{});case"cases":return(0,Te.jsx)(wd,{});case"people":return(0,Te.jsx)(_d,{});case"banks":return(0,Te.jsx)(Sd,{});case"insurance":return(0,Te.jsx)(Ed,{});case"companies":return(0,Te.jsx)(Id,{});case"payments":return(0,Te.jsx)(Ld,{});case"subscription-requests":return(0,Te.jsx)(Od,{});case"tenants":return(0,Te.jsx)(zd,{});case"courts":return(0,Te.jsx)(Ud,{});case"logs":return(0,Te.jsx)(Zd,{});case"roles":return(0,Te.jsx)(Dd,{});case"settings":return(0,Te.jsx)(Rd,{})}})()})]})]})},sm=Ge("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),am=e=>{let{onSelectPlan:t,currentPlan:s,isLoading:a=!1}=e;const[l,r]=(0,n.useState)([]),[i,o]=(0,n.useState)(!0),[c,d]=(0,n.useState)("monthly");(0,n.useEffect)(()=>{m()},[]);const m=async()=>{try{console.log("Fetching plans from API...");const e=await fetch("http://localhost:8000/api/tenant/plans?is_active=true");console.log("API response status:",e.status);const t=await e.json();console.log("API response data:",t),console.log("Plans array:",t.plans),r(t.plans||[])}catch(e){console.error("Error fetching plans:",e)}finally{o(!1)}},u=e=>{switch(e){case"trial":return(0,Te.jsx)(Qe,{className:"h-8 w-8"});case"starter":return(0,Te.jsx)(vt,{className:"h-8 w-8"});case"professional":return(0,Te.jsx)(Bt,{className:"h-8 w-8"});case"enterprise":return(0,Te.jsx)(Ds,{className:"h-8 w-8"});default:return(0,Te.jsx)(xs,{className:"h-8 w-8"})}},x=e=>{switch(e){case"trial":return"from-slate-500 to-slate-600";case"starter":return"from-blue-500 to-blue-600";case"professional":return"from-purple-500 to-purple-600";case"enterprise":return"from-emerald-500 to-emerald-600";default:return"from-gray-500 to-gray-600"}};return i?(0,Te.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Te.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,Te.jsxs)("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-12",children:[(0,Te.jsx)("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"Choose Your Perfect Plan"}),(0,Te.jsx)("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto",children:"Select the ideal subscription plan for your organization's legal research needs"})]}),(0,Te.jsx)("div",{className:"flex justify-center mb-12",children:(0,Te.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-800 rounded-lg p-1 flex",children:[(0,Te.jsx)("button",{onClick:()=>d("monthly"),className:"px-6 py-3 rounded-md font-medium transition-all duration-200 ".concat("monthly"===c?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"),children:"Monthly"}),(0,Te.jsxs)("button",{onClick:()=>d("yearly"),className:"px-6 py-3 rounded-md font-medium transition-all duration-200 relative ".concat("yearly"===c?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"),children:["Yearly",(0,Te.jsx)("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Save 20%"})]})]})}),(0,Te.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:l.map(e=>{const n="monthly"===c?e.price_monthly:e.price_yearly,l=s&&s.id===e.id,r=e.is_popular,i=(e=>{switch(e){case"trial":return{text:"Free Trial",color:"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"};case"professional":return{text:"Most Popular",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"};case"enterprise":return{text:"Enterprise",color:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200"};default:return null}})(e.slug),o="yearly"===c&&e.price_monthly>0?Math.round((12*e.price_monthly-e.price_yearly)/(12*e.price_monthly)*100):0;return(0,Te.jsxs)("div",{className:"relative bg-white dark:bg-slate-800 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 ".concat(r?"ring-2 ring-purple-500 dark:ring-purple-400 scale-105":"ring-1 ring-slate-200 dark:ring-slate-700"," ").concat(l?"opacity-75":""),children:[i&&(0,Te.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2 px-4 py-1 rounded-full text-sm font-medium ".concat(i.color),children:i.text}),(0,Te.jsxs)("div",{className:"p-8 rounded-t-2xl bg-gradient-to-r ".concat(x(e.slug)," text-white"),children:[(0,Te.jsx)("div",{className:"flex items-center justify-center mb-4",children:u(e.slug)}),(0,Te.jsx)("h3",{className:"text-2xl font-bold text-center mb-2",children:e.name}),(0,Te.jsx)("p",{className:"text-center text-white/80 text-sm",children:e.description})]}),(0,Te.jsxs)("div",{className:"p-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-6",children:[(0,Te.jsxs)("div",{className:"flex items-baseline justify-center",children:[(0,Te.jsxs)("span",{className:"text-5xl font-bold text-slate-900 dark:text-white",children:["GHS"===e.currency?"\u20b5":"$",n]}),(0,Te.jsxs)("span",{className:"text-lg text-slate-600 dark:text-slate-400 ml-2",children:["/","monthly"===c?"month":"year"]})]}),o>0&&(0,Te.jsxs)("p",{className:"text-sm text-green-600 dark:text-green-400 mt-2 font-medium",children:["Save ",o,"% with yearly billing"]})]}),(0,Te.jsx)("div",{className:"space-y-4 mb-8",children:e.features&&e.features.map((e,t)=>(0,Te.jsxs)("div",{className:"flex items-start",children:[(0,Te.jsx)(xs,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),(0,Te.jsx)("span",{className:"text-slate-700 dark:text-slate-300 text-sm",children:e})]},t))}),(0,Te.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-4 mb-6",children:[(0,Te.jsx)("h4",{className:"font-semibold text-slate-900 dark:text-white mb-3 text-sm",children:"Plan Limits"}),(0,Te.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Users:"}),(0,Te.jsx)("span",{className:"font-medium text-slate-900 dark:text-white",children:e.max_users})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Cases/month:"}),(0,Te.jsx)("span",{className:"font-medium text-slate-900 dark:text-white",children:e.max_cases_per_month.toLocaleString()})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Storage:"}),(0,Te.jsxs)("span",{className:"font-medium text-slate-900 dark:text-white",children:[e.max_storage_gb," GB"]})]})]})]}),(0,Te.jsx)("button",{onClick:()=>{console.log("Plan selected:",e),console.log("Plan ID:",e.id),t(e)},disabled:l||a,className:"w-full py-4 px-6 rounded-xl font-semibold transition-all duration-200 flex items-center justify-center ".concat(l?"bg-slate-100 dark:bg-slate-600 text-slate-500 dark:text-slate-400 cursor-not-allowed":r?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg hover:shadow-xl":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl"),children:l?"Current Plan":a?(0,Te.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}):(0,Te.jsxs)(Te.Fragment,{children:["Select Plan",(0,Te.jsx)(kt,{className:"ml-2 h-5 w-5"})]})})]})]},e.id)})}),(0,Te.jsxs)("div",{className:"text-center space-y-4",children:[(0,Te.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 max-w-2xl mx-auto",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"\ud83c\udf89 14-Day Free Trial"}),(0,Te.jsx)("p",{className:"text-blue-700 dark:text-blue-300",children:"Start with any plan risk-free. Cancel anytime during your trial period."})]}),(0,Te.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[(0,Te.jsx)("p",{children:"Need a custom plan for your organization?"}),(0,Te.jsx)("a",{href:"/contact",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium hover:underline ml-1",children:"Contact our sales team"})]})]})]})},nm=e=>{let{onComplete:t,isLoading:s=!1}=e;const[a,l]=(0,n.useState)(1),[r,i]=(0,n.useState)({name:"",slug:"",description:"",website:"",email:"",phone:"",address_line_1:"",address_line_2:"",city:"",state:"",country:"",postal_code:"",contact_person_name:"",contact_person_email:"",contact_person_phone:"",app_name:"Legal Search Engine",app_tagline:"Advanced Legal Research Platform",primary_color:"#3B82F6",secondary_color:"#1E40AF",accent_color:"#F59E0B",font_family:"Inter",logo_file:null,favicon_file:null,selected_plan_id:null}),[o,c]=(0,n.useState)({}),[d,m]=(0,n.useState)(null),[u,x]=(0,n.useState)(null),h=[{id:1,title:"Organization Info",icon:wt},{id:2,title:"Contact Details",icon:Ze},{id:3,title:"Branding",icon:sm},{id:4,title:"Subscription",icon:xs}],p=(e,t)=>{i(s=>Ue(Ue({},s),{},{[e]:t})),o[e]&&c(t=>Ue(Ue({},t),{},{[e]:null}))},g=(e,t)=>{if(t){i(s=>Ue(Ue({},s),{},{[e]:t}));const s=new FileReader;s.onload=t=>{"logo_file"===e?m(t.target.result):"favicon_file"===e&&x(t.target.result)},s.readAsDataURL(t)}},f=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),b=e=>{const t={};switch(e){case 1:r.name.trim()||(t.name="Organization name is required"),r.email.trim()||(t.email="Email is required"),r.contact_person_name.trim()||(t.contact_person_name="Contact person name is required"),r.contact_person_email.trim()||(t.contact_person_email="Contact person email is required");break;case 2:r.address_line_1.trim()||(t.address_line_1="Address is required"),r.city.trim()||(t.city="City is required"),r.country.trim()||(t.country="Country is required");break;case 3:r.app_name.trim()||(t.app_name="App name is required");break;case 4:console.log("Validating step 4 - selected_plan_id:",r.selected_plan_id),r.selected_plan_id||(console.log("No plan selected, adding error"),t.selected_plan_id="Please select a subscription plan")}return c(t),0===Object.keys(t).length},j=async()=>{b(4)&&(r.slug||(r.slug=f(r.name)),t(r))},v=()=>(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Organization Information"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"Tell us about your organization and how we can contact you."})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Organization Name *"}),(0,Te.jsx)("input",{type:"text",value:r.name,onChange:e=>{p("name",e.target.value),r.slug||p("slug",f(e.target.value))},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.name?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"Your Organization Name"}),o.name&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Organization Slug"}),(0,Te.jsx)("input",{type:"text",value:r.slug,onChange:e=>p("slug",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"organization-slug"}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Used in URLs. Only lowercase letters, numbers, and hyphens."})]}),(0,Te.jsxs)("div",{className:"md:col-span-2",children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),(0,Te.jsx)("textarea",{value:r.description,onChange:e=>p("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"Brief description of your organization"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Organization Email *"}),(0,Te.jsx)("input",{type:"email",value:r.email,onChange:e=>p("email",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.email?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"admin@organization.com"}),o.email&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.email})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Phone Number"}),(0,Te.jsx)("input",{type:"tel",value:r.phone,onChange:e=>p("phone",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"+1-555-0123"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Website"}),(0,Te.jsx)("input",{type:"url",value:r.website,onChange:e=>p("website",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"https://your-organization.com"})]})]}),(0,Te.jsxs)("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6",children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 dark:text-white mb-4",children:"Primary Contact Person"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Contact Person Name *"}),(0,Te.jsx)("input",{type:"text",value:r.contact_person_name,onChange:e=>p("contact_person_name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.contact_person_name?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"John Doe"}),o.contact_person_name&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.contact_person_name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Contact Person Email *"}),(0,Te.jsx)("input",{type:"email",value:r.contact_person_email,onChange:e=>p("contact_person_email",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.contact_person_email?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"john@organization.com"}),o.contact_person_email&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.contact_person_email})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Contact Person Phone"}),(0,Te.jsx)("input",{type:"tel",value:r.contact_person_phone,onChange:e=>p("contact_person_phone",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"+1-555-0123"})]})]})]})]});return(0,Te.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Te.jsx)("div",{className:"mb-8",children:(0,Te.jsx)("div",{className:"flex items-center justify-between",children:h.map((e,t)=>{const s=e.icon,n=a===e.id,l=a>e.id;return(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 ".concat(l?"bg-green-500 border-green-500 text-white":n?"bg-blue-500 border-blue-500 text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 text-slate-500 dark:text-slate-400"),children:l?(0,Te.jsx)(xs,{className:"h-5 w-5"}):(0,Te.jsx)(s,{className:"h-5 w-5"})}),(0,Te.jsx)("div",{className:"ml-3 hidden sm:block",children:(0,Te.jsx)("p",{className:"text-sm font-medium ".concat(n?"text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400"),children:e.title})})]}),t<h.length-1&&(0,Te.jsx)("div",{className:"hidden sm:block w-16 h-0.5 mx-4 ".concat(l?"bg-green-500":"bg-slate-300 dark:bg-slate-600")})]},e.id)})})}),(0,Te.jsx)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-8",children:(()=>{switch(a){case 1:default:return v();case 2:return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Organization Address"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"Provide your organization's physical address."})]}),(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address Line 1 *"}),(0,Te.jsx)("input",{type:"text",value:r.address_line_1,onChange:e=>p("address_line_1",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.address_line_1?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"123 Main Street"}),o.address_line_1&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.address_line_1})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Address Line 2"}),(0,Te.jsx)("input",{type:"text",value:r.address_line_2,onChange:e=>p("address_line_2",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"Suite 100"})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"City *"}),(0,Te.jsx)("input",{type:"text",value:r.city,onChange:e=>p("city",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.city?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"New York"}),o.city&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.city})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"State/Province"}),(0,Te.jsx)("input",{type:"text",value:r.state,onChange:e=>p("state",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"NY"})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Country *"}),(0,Te.jsx)("input",{type:"text",value:r.country,onChange:e=>p("country",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.country?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"United States"}),o.country&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.country})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Postal Code"}),(0,Te.jsx)("input",{type:"text",value:r.postal_code,onChange:e=>p("postal_code",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"10001"})]})]})]});case 3:return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Customize Your App"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"Personalize the appearance and branding of your legal search platform."})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"App Name *"}),(0,Te.jsx)("input",{type:"text",value:r.app_name,onChange:e=>p("app_name",e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(o.app_name?"border-red-500":"border-slate-300 dark:border-slate-600"," bg-white dark:bg-slate-800 text-slate-900 dark:text-white"),placeholder:"Your Legal Search Engine"}),o.app_name&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-1",children:o.app_name})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"App Tagline"}),(0,Te.jsx)("input",{type:"text",value:r.app_tagline,onChange:e=>p("app_tagline",e.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"Advanced Legal Research Platform"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 dark:text-white mb-4",children:"Color Scheme"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Primary Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"color",value:r.primary_color,onChange:e=>p("primary_color",e.target.value),className:"w-12 h-10 border border-slate-300 dark:border-slate-600 rounded-lg cursor-pointer"}),(0,Te.jsx)("input",{type:"text",value:r.primary_color,onChange:e=>p("primary_color",e.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"#3B82F6"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Secondary Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"color",value:r.secondary_color,onChange:e=>p("secondary_color",e.target.value),className:"w-12 h-10 border border-slate-300 dark:border-slate-600 rounded-lg cursor-pointer"}),(0,Te.jsx)("input",{type:"text",value:r.secondary_color,onChange:e=>p("secondary_color",e.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"#1E40AF"})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Accent Color"}),(0,Te.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Te.jsx)("input",{type:"color",value:r.accent_color,onChange:e=>p("accent_color",e.target.value),className:"w-12 h-10 border border-slate-300 dark:border-slate-600 rounded-lg cursor-pointer"}),(0,Te.jsx)("input",{type:"text",value:r.accent_color,onChange:e=>p("accent_color",e.target.value),className:"flex-1 px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-slate-800 text-slate-900 dark:text-white",placeholder:"#F59E0B"})]})]})]})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"text-md font-semibold text-slate-900 dark:text-white mb-4",children:"Branding Assets"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Organization Logo"}),(0,Te.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-slate-400 dark:hover:border-slate-500 transition-colors",children:(0,Te.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Te.jsx)(vd,{className:"mx-auto h-12 w-12 text-slate-400"}),(0,Te.jsxs)("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[(0,Te.jsxs)("label",{className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,Te.jsx)("span",{children:"Upload logo"}),(0,Te.jsx)("input",{type:"file",className:"sr-only",accept:"image/*",onChange:e=>g("logo_file",e.target.files[0])})]}),(0,Te.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"PNG, JPG up to 2MB"})]})}),d&&(0,Te.jsx)("div",{className:"mt-2",children:(0,Te.jsx)("img",{src:d,alt:"Logo preview",className:"h-16 w-auto mx-auto"})})]}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Favicon"}),(0,Te.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg hover:border-slate-400 dark:hover:border-slate-500 transition-colors",children:(0,Te.jsxs)("div",{className:"space-y-1 text-center",children:[(0,Te.jsx)(vd,{className:"mx-auto h-12 w-12 text-slate-400"}),(0,Te.jsxs)("div",{className:"flex text-sm text-slate-600 dark:text-slate-400",children:[(0,Te.jsxs)("label",{className:"relative cursor-pointer bg-white dark:bg-slate-800 rounded-md font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[(0,Te.jsx)("span",{children:"Upload favicon"}),(0,Te.jsx)("input",{type:"file",className:"sr-only",accept:"image/*",onChange:e=>g("favicon_file",e.target.files[0])})]}),(0,Te.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"ICO, PNG up to 1MB"})]})}),u&&(0,Te.jsx)("div",{className:"mt-2",children:(0,Te.jsx)("img",{src:u,alt:"Favicon preview",className:"h-8 w-8 mx-auto"})})]})]})]})]});case 4:return(0,Te.jsxs)("div",{className:"space-y-6",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4",children:"Choose Your Subscription Plan"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"Select the plan that best fits your organization's needs. You can upgrade or downgrade at any time."})]}),(0,Te.jsx)(am,{onSelectPlan:e=>{console.log("Plan received in TenantSetup:",e),console.log("Plan ID:",e.id),p("selected_plan_id",e.id),console.log("Updated formData.selected_plan_id:",e.id)},currentPlan:r.selected_plan_id?{id:r.selected_plan_id}:null,isLoading:s}),o.selected_plan_id&&(0,Te.jsx)("p",{className:"text-red-500 text-sm mt-2",children:o.selected_plan_id}),(0,Te.jsx)("div",{className:"mt-4 p-3 bg-slate-100 dark:bg-slate-700 rounded-lg",children:(0,Te.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Debug: Selected Plan ID: ",r.selected_plan_id||"None"]})})]})}})()}),(0,Te.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,Te.jsx)("button",{onClick:()=>{a>1&&l(a-1)},disabled:1===a,className:"px-6 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,Te.jsx)("button",{onClick:()=>{b(a)&&(a<h.length?l(a+1):j())},disabled:s,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a===h.length?s?"Creating...":"Create Organization":"Next"})]})]})},lm=()=>{const[e,t]=(0,n.useState)(1),[s,a]=(0,n.useState)(!1),[l,r]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)("monthly"),m=se(),u=[{id:1,title:"Organization Setup",description:"Tell us about your organization"},{id:2,title:"Choose Plan",description:"Select your subscription plan"},{id:3,title:"Request Submitted",description:"Awaiting admin approval"}],x=async e=>{try{a(!0);const s=await fetch("http://localhost:8000/api/tenant/tenants",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to create tenant");const n=await s.json();r(n),t(2)}catch(s){console.error("Error creating tenant:",s),alert("Failed to create organization. Please try again.")}finally{a(!1)}},h=async e=>{if(l)try{a(!0);const s={tenant_id:l.id,plan_id:e.id,billing_cycle:c||"monthly",notes:"Subscription request for ".concat(l.name)},n=await fetch("http://localhost:8000/api/tenant/subscription-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!n.ok)throw new Error("Failed to create subscription request");const r=await n.json();o(r),t(3)}catch(s){console.error("Error creating subscription request:",s);const e=s.message||"Failed to submit subscription request. Please try again.";alert(e)}finally{a(!1)}},p=()=>(0,Te.jsxs)("div",{className:"space-y-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 dark:bg-blue-900/30 mb-4",children:(0,Te.jsx)(wt,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Set Up Your Organization"}),(0,Te.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Create your organization account and customize your legal search platform. This process takes just a few minutes."})]}),(0,Te.jsx)(nm,{onComplete:x,isLoading:s})]});return(0,Te.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-700 py-12",children:(0,Te.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Te.jsxs)("div",{className:"text-center mb-16",children:[(0,Te.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-6",children:(0,Te.jsx)(wt,{className:"h-8 w-8 text-white"})}),(0,Te.jsx)("h1",{className:"text-5xl font-bold text-slate-900 dark:text-white mb-6",children:"Subscribe to Legal Search"}),(0,Te.jsx)("p",{className:"text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto leading-relaxed",children:"Get access to our comprehensive legal database and advanced search capabilities. Start your free trial today and experience the power of AI-driven legal research."})]}),(0,Te.jsx)("div",{className:"mb-16",children:(0,Te.jsx)("div",{className:"flex items-center justify-center",children:(0,Te.jsx)("div",{className:"flex items-center space-x-8",children:u.map((t,s)=>{const a=e===t.id,n=e>t.id;return(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Te.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 ".concat(n?"bg-green-500 border-green-500 text-white":a?"bg-blue-500 border-blue-500 text-white":"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-600 text-slate-500 dark:text-slate-400"),children:n?(0,Te.jsx)(qe,{className:"h-5 w-5"}):(0,Te.jsx)("span",{className:"text-sm font-semibold",children:t.id})}),(0,Te.jsxs)("div",{className:"mt-2 text-center",children:[(0,Te.jsx)("p",{className:"text-sm font-medium ".concat(a?"text-blue-600 dark:text-blue-400":"text-slate-500 dark:text-slate-400"),children:t.title}),(0,Te.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:t.description})]})]}),s<u.length-1&&(0,Te.jsx)("div",{className:"hidden sm:block w-16 h-0.5 mx-4 ".concat(n?"bg-green-500":"bg-slate-300 dark:bg-slate-600")})]},t.id)})})})}),(()=>{switch(e){case 1:default:return p();case 2:return(0,Te.jsxs)("div",{className:"space-y-8",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:(0,Te.jsx)(qe,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Choose Your Plan"}),(0,Te.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto",children:"Select the subscription plan that best fits your organization's needs. You can upgrade or downgrade at any time."})]}),(0,Te.jsx)(am,{onSelectPlan:h,isLoading:s}),(0,Te.jsx)("div",{className:"flex justify-center",children:(0,Te.jsxs)("button",{onClick:()=>t(1),className:"flex items-center gap-2 px-6 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[(0,Te.jsx)(zt,{className:"h-4 w-4"}),"Back to Organization Setup"]})})]});case 3:return(0,Te.jsxs)("div",{className:"text-center space-y-8",children:[(0,Te.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30",children:(0,Te.jsx)(qe,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-4",children:"Request Submitted Successfully!"}),(0,Te.jsx)("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto mb-6",children:"Your subscription request has been submitted and is awaiting admin approval. You'll receive an email notification once your request is reviewed."})]}),(0,Te.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-8 max-w-2xl mx-auto",children:[(0,Te.jsx)("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white mb-4",children:"Request Details"}),(0,Te.jsxs)("div",{className:"space-y-3 text-left",children:[(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Organization:"}),(0,Te.jsx)("span",{className:"font-medium text-slate-900 dark:text-white",children:null===l||void 0===l?void 0:l.name})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Plan:"}),(0,Te.jsx)("span",{className:"font-medium text-slate-900 dark:text-white",children:null===i||void 0===i?void 0:i.plan_name})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Billing:"}),(0,Te.jsx)("span",{className:"font-medium text-slate-900 dark:text-white capitalize",children:null===i||void 0===i?void 0:i.billing_cycle})]}),(0,Te.jsxs)("div",{className:"flex justify-between",children:[(0,Te.jsx)("span",{className:"text-slate-600 dark:text-slate-400",children:"Status:"}),(0,Te.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300",children:"Pending Approval"})]})]})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsx)("p",{className:"text-slate-600 dark:text-slate-300",children:"What happens next?"}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"mx-auto flex items-center justify-center h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 mb-3",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:"1"})}),(0,Te.jsx)("h4",{className:"font-medium text-slate-900 dark:text-white mb-2",children:"Review"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Our admin team will review your request within 24 hours"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"mx-auto flex items-center justify-center h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 mb-3",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:"2"})}),(0,Te.jsx)("h4",{className:"font-medium text-slate-900 dark:text-white mb-2",children:"Approval"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"You'll receive an email notification when approved"})]}),(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)("div",{className:"mx-auto flex items-center justify-center h-10 w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 mb-3",children:(0,Te.jsx)("span",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:"3"})}),(0,Te.jsx)("h4",{className:"font-medium text-slate-900 dark:text-white mb-2",children:"Access"}),(0,Te.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Start using your customized legal search platform"})]})]})]}),(0,Te.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Te.jsx)("button",{onClick:()=>m("/"),className:"px-6 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:"Return to Home"}),(0,Te.jsx)("button",{onClick:()=>{t(1),r(null),o(null)},className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Create Another Organization"})]})]})}})()]})})},rm=Ge("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),im=()=>{const[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)([]),[l,r]=(0,n.useState)(!0),[i,o]=(0,n.useState)(""),[c,d]=(0,n.useState)(null),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)("list"),[p,g]=(0,n.useState)(null),[f,b]=(0,n.useState)([]),[j,v]=(0,n.useState)(!1),y=(0,n.useRef)(null),[N,w]=(0,n.useState)({courtType:"",region:"",city:"",hasLocation:!0}),[k,_]=(0,n.useState)([]),[C,S]=(0,n.useState)([]),[A,E]=(0,n.useState)([]),M=(0,n.useCallback)(async()=>{try{r(!0);const e=new URLSearchParams(Ue(Ue(Ue(Ue({},N.courtType&&{court_type:N.courtType}),N.region&&{region:N.region}),N.city&&{city:N.city}),{},{is_active:"true"})),s=await fetch("http://localhost:8000/api/courts/?".concat(e));if(s.ok){const e=await s.json();t(e.courts),a(e.courts);const n=e.courts.filter(e=>e.latitude&&e.longitude);n.length>0&&P(n)}}catch(e){console.error("Error loading courts:",e)}finally{r(!1)}},[N.courtType,N.region,N.city]),I=async()=>{try{const[e,t,s]=await Promise.all([fetch("http://localhost:8000/api/courts/regions"),fetch("http://localhost:8000/api/courts/cities"),fetch("http://localhost:8000/api/courts/types")]);if(e.ok){const t=await e.json();_(t)}if(t.ok){const e=await t.json();S(e)}if(s.ok){const e=await s.json();E(e)}}catch(e){console.error("Error loading filter options:",e)}},P=function(e){if(console.log("initializeMap called with:",{mapRefExists:!!y.current,googleLoaded:!!window.google,googleMapsLoaded:!(!window.google||!window.google.maps),courtsDataLength:null===e||void 0===e?void 0:e.length}),!y.current||!window.google||!window.google.maps)return void console.log("Map initialization skipped - missing mapRef or Google Maps API");let t,s={lat:5.6037,lng:-.187},a=10;if(e.length>0){const t=e.filter(e=>e.latitude&&e.longitude);if(t.length>0){const e=t.map(e=>e.latitude),n=t.map(e=>e.longitude),l={north:Math.max(...e),south:Math.min(...e),east:Math.max(...n),west:Math.min(...n)};s={lat:l.north-(l.north-l.south)/2,lng:l.west+(l.east-l.west)/2};const r=l.north-l.south,i=l.east-l.west,o=Math.max(r,i);a=o>1?8:o>.5?9:o>.1?11:12}}console.log("Creating map with center:",s,"zoom:",a);try{t=new window.google.maps.Map(y.current,{center:s,zoom:a,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),console.log("Map instance created:",t),g(t)}catch(l){return void console.error("Error creating Google Map:",l)}const n=e.map(e=>{if(!e.latitude||!e.longitude)return null;const s=new window.google.maps.Marker({position:{lat:e.latitude,lng:e.longitude},map:t,title:e.name,icon:{url:"data:image/svg+xml;charset=UTF-8,".concat(encodeURIComponent('\n            <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n              <circle cx="16" cy="16" r="12" fill="#3B82F6" stroke="#ffffff" stroke-width="2"/>\n              <path d="M16 8l-4 8h8l-4-8z" fill="#ffffff"/>\n            </svg>\n          ')),scaledSize:new window.google.maps.Size(32,32),anchor:new window.google.maps.Point(16,16)}});return s.addListener("click",()=>{d(e)}),s}).filter(Boolean);if(b(n),n.length>0){const e=new window.google.maps.LatLngBounds;n.forEach(t=>e.extend(t.getPosition())),t.fitBounds(e)}};(0,n.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:8000/api/admin/google-maps-api-key");if(!e.ok)throw new Error("Failed to fetch Google Maps API key");const t=(await e.json()).api_key;if(console.log("Google Maps API Key:",t?"Present":"Missing"),!t)return console.warn("Google Maps API key not configured. Map functionality will be limited."),v(!1),M(),void I();const s=()=>{window.google?(console.log("Google Maps API already loaded"),v(!0),M(),I()):(console.log("Loading Google Maps API..."),fetch("https://maps.googleapis.com/maps/api/geocode/json?address=Accra,Ghana&key=".concat(t)).then(e=>e.json()).then(e=>{if("OK"===e.status){console.log("Google Maps API key is valid");const e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=".concat(t,"&libraries=places"),e.async=!0,e.defer=!0,e.onload=()=>{console.log("Google Maps API script loaded successfully"),setTimeout(()=>{window.google&&window.google.maps?(console.log("Google Maps API is fully available"),v(!0),M(),I()):(console.error("Google Maps API script loaded but window.google.maps is not available"),v(!1),M(),I())},500)},e.onerror=e=>{console.error("Failed to load Google Maps API script:",e),v(!1),M(),I()},document.head.appendChild(e)}else console.error("Google Maps API key is invalid:",e.status,e.error_message),v(!1),M(),I()}).catch(e=>{console.error("Error testing Google Maps API key:",e),v(!1),M(),I()}))};s();const a=setTimeout(()=>{window.google&&window.google.maps||(console.log("Fallback: Retrying Google Maps API load..."),s())},2e3);return()=>{clearTimeout(a)}}catch(e){console.error("Error loading Google Maps API:",e),v(!1),M(),I()}})()},[]),(0,n.useEffect)(()=>{let t=e;i&&(t=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.location.toLowerCase().includes(i.toLowerCase())||e.region.toLowerCase().includes(i.toLowerCase())||e.address&&e.address.toLowerCase().includes(i.toLowerCase()))),N.courtType&&(t=t.filter(e=>e.court_type===N.courtType)),N.region&&(t=t.filter(e=>e.region===N.region)),N.city&&(t=t.filter(e=>e.city===N.city)),N.hasLocation&&(t=t.filter(e=>e.latitude&&e.longitude)),a(t),p&&f.length>0&&f.forEach(e=>{const s=t.find(t=>t.latitude===e.getPosition().lat()&&t.longitude===e.getPosition().lng());e.setVisible(!!s)})},[i,N,e,p,f]),(0,n.useEffect)(()=>{M(),I()},[]),(0,n.useEffect)(()=>{if(console.log("Map initialization check:",{viewMode:x,mapsAvailable:j,googleLoaded:!!window.google,googleMapsLoaded:!(!window.google||!window.google.maps),courtsCount:e.length}),"map"===x&&j&&e.length>0){const t=e.filter(e=>e.latitude&&e.longitude);console.log("Courts with coordinates:",t.length),t.length>0&&(window.google&&window.google.maps?(console.log("Initializing map with courts data"),P(t)):(console.log("Google Maps not ready, retrying in 500ms..."),setTimeout(()=>{window.google&&window.google.maps?(console.log("Retry: Initializing map with courts data"),P(t)):console.error("Google Maps still not available after retry")},500)))}},[x,j,e]);const L=e=>{if(e.latitude&&e.longitude){const t="https://www.google.com/maps/dir/?api=1&destination=".concat(e.latitude,",").concat(e.longitude);window.open(t,"_blank")}},T=e=>({"Supreme Court":"bg-purple-100 text-purple-800","High Court":"bg-blue-100 text-blue-800","Circuit Court":"bg-green-100 text-green-800","District Court":"bg-yellow-100 text-yellow-800","Commercial Court":"bg-indigo-100 text-indigo-800","Family Court":"bg-pink-100 text-pink-800","Labour Court":"bg-orange-100 text-orange-800"}[e]||"bg-gray-100 text-gray-800");return(0,Te.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,Te.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:[(0,Te.jsxs)("div",{className:"mb-8",children:[(0,Te.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Courts"}),(0,Te.jsx)("p",{className:"text-slate-600",children:"Find courts and legal institutions across Ghana"})]}),!j&&(0,Te.jsx)("div",{className:"mb-6 bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,Te.jsxs)("div",{className:"flex items-start",children:[(0,Te.jsx)("div",{className:"flex-shrink-0",children:(0,Te.jsx)(Ye,{className:"h-5 w-5 text-amber-400"})}),(0,Te.jsxs)("div",{className:"ml-3",children:[(0,Te.jsx)("h3",{className:"text-sm font-medium text-amber-800",children:"Map functionality limited"}),(0,Te.jsx)("div",{className:"mt-2 text-sm text-amber-700",children:(0,Te.jsxs)("p",{children:["Google Maps API key is not configured. Map view is disabled, but you can still browse courts in list view.",(0,Te.jsx)("a",{href:"/JUSTICE_LOCATOR_SETUP.md",target:"_blank",rel:"noopener noreferrer",className:"ml-1 font-medium underline hover:text-amber-600",children:"View setup instructions"})]})})]})]})}),(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 mb-6",children:[(0,Te.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Te.jsx)("div",{className:"flex-1",children:(0,Te.jsxs)("div",{className:"relative",children:[(0,Te.jsx)(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,Te.jsx)("input",{type:"text",placeholder:"Search courts by name, location, or region...",value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,Te.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Te.jsxs)("button",{onClick:()=>u(!m),className:"flex items-center gap-2 px-4 py-2 text-slate-600 hover:text-slate-900 hover:bg-slate-100 rounded-lg",children:[(0,Te.jsx)(Ct,{className:"h-4 w-4"}),"Filters",m?(0,Te.jsx)(Pt,{className:"h-4 w-4"}):(0,Te.jsx)(Xe,{className:"h-4 w-4"})]}),(0,Te.jsxs)("div",{className:"flex items-center bg-slate-100 rounded-lg p-1",style:{pointerEvents:"auto"},children:[(0,Te.jsx)("button",{onClick:()=>h("list"),className:"p-2 rounded-md transition-colors cursor-pointer ".concat("list"===x?"bg-white shadow-sm":"hover:bg-slate-200"),style:{pointerEvents:"auto"},title:"List view",children:(0,Te.jsx)(It,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>{console.log("Map button clicked, mapsAvailable:",j),h("map")},disabled:!j,className:"p-2 rounded-md transition-colors ".concat("map"===x?"bg-white shadow-sm":"hover:bg-slate-200"," ").concat(j?"cursor-pointer":"opacity-50 cursor-not-allowed"),title:j?"Interactive Map view":"Google Maps API key not configured",style:{pointerEvents:j?"auto":"none"},children:(0,Te.jsx)(Bd,{className:"h-4 w-4"})}),(0,Te.jsx)("button",{onClick:()=>h("iframe"),className:"p-2 rounded-md transition-colors cursor-pointer ".concat("iframe"===x?"bg-white shadow-sm":"hover:bg-slate-200"),style:{pointerEvents:"auto"},title:"Google Maps Locator Plus",children:(0,Te.jsx)(gt,{className:"h-4 w-4"})})]})]})]}),m&&(0,Te.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Te.jsxs)("select",{value:N.courtType,onChange:e=>w(Ue(Ue({},N),{},{courtType:e.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Court Types"}),A.map(e=>(0,Te.jsx)("option",{value:e,children:e},e))]}),(0,Te.jsxs)("select",{value:N.region,onChange:e=>w(Ue(Ue({},N),{},{region:e.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Regions"}),k.map(e=>(0,Te.jsx)("option",{value:e,children:e},e))]}),(0,Te.jsxs)("select",{value:N.city,onChange:e=>w(Ue(Ue({},N),{},{city:e.target.value})),className:"px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,Te.jsx)("option",{value:"",children:"All Cities"}),C.map(e=>(0,Te.jsx)("option",{value:e,children:e},e))]}),(0,Te.jsxs)("label",{className:"flex items-center",children:[(0,Te.jsx)("input",{type:"checkbox",checked:N.hasLocation,onChange:e=>w(Ue(Ue({},N),{},{hasLocation:e.target.checked})),className:"rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),(0,Te.jsx)("span",{className:"ml-2 text-sm text-slate-700",children:"With Map Location"})]})]})]}),(0,Te.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Te.jsx)("div",{className:"".concat("map"===x||"iframe"===x?"lg:col-span-2":"lg:col-span-3"),children:"map"===x?(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:j?(0,Te.jsx)("div",{className:"h-96 w-full",ref:y}):(0,Te.jsx)("div",{className:"h-96 w-full flex items-center justify-center bg-slate-50",children:(0,Te.jsxs)("div",{className:"text-center",children:[(0,Te.jsx)(Bd,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"Map View Unavailable"}),(0,Te.jsx)("p",{className:"text-slate-500 mb-4",children:"Google Maps API key is not configured. Please set up your API key to enable map functionality."}),(0,Te.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left max-w-md",children:[(0,Te.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"To enable map functionality:"}),(0,Te.jsxs)("ol",{className:"text-sm text-blue-800 space-y-1",children:[(0,Te.jsx)("li",{children:"1. Get a Google Maps API key from Google Cloud Console"}),(0,Te.jsxs)("li",{children:["2. Create a ",(0,Te.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:".env"})," file in the project root"]}),(0,Te.jsxs)("li",{children:["3. Add: ",(0,Te.jsx)("code",{className:"bg-blue-100 px-1 rounded",children:"REACT_APP_GOOGLE_MAPS_API_KEY=your_api_key_here"})]}),(0,Te.jsx)("li",{children:"4. Restart the development server"})]})]})]})})}):"iframe"===x?(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:(0,Te.jsx)("div",{className:"h-96 w-full",children:(0,Te.jsx)("iframe",{src:"https://storage.googleapis.com/maps-solutions-youqs5ej1f/locator-plus/fxor/locator-plus.html",width:"100%",height:"100%",style:{border:0},loading:"lazy",title:"Google Maps Locator Plus"})})}):(0,Te.jsx)("div",{className:"space-y-4",children:l?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,Te.jsx)("p",{className:"mt-2 text-slate-500",children:"Loading courts..."})]}):0===s.length?(0,Te.jsxs)("div",{className:"text-center py-12",children:[(0,Te.jsx)(wt,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),(0,Te.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No courts found"}),(0,Te.jsx)("p",{className:"text-slate-500",children:"Try adjusting your search criteria or filters"})]}):s.map(e=>(0,Te.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>d(e),children:(0,Te.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Te.jsxs)("div",{className:"flex-1",children:[(0,Te.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:e.name}),(0,Te.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(T(e.court_type)),children:e.court_type})]}),e.registry_name&&(0,Te.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:e.registry_name}),(0,Te.jsxs)("div",{className:"flex items-center text-slate-600 mb-2",children:[(0,Te.jsx)(gt,{className:"h-4 w-4 mr-1"}),(0,Te.jsxs)("span",{children:[e.location,", ",e.region]})]}),e.address&&(0,Te.jsx)("p",{className:"text-sm text-slate-500 mb-3",children:e.address}),(0,Te.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[e.contact_phone&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(ft,{className:"h-3 w-3 mr-1"}),e.contact_phone]}),e.contact_email&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(bt,{className:"h-3 w-3 mr-1"}),e.contact_email]}),e.website&&(0,Te.jsxs)("div",{className:"flex items-center",children:[(0,Te.jsx)(ys,{className:"h-3 w-3 mr-1"}),"Website"]})]})]}),e.latitude&&e.longitude&&(0,Te.jsxs)("button",{onClick:t=>{t.stopPropagation(),L(e)},className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg",children:[(0,Te.jsx)(rm,{className:"h-3 w-3"}),"Directions"]})]})},e.id))})}),c&&(0,Te.jsx)("div",{className:"lg:col-span-1",children:(0,Te.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 p-6 sticky top-6",children:[(0,Te.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Te.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Court Details"}),(0,Te.jsx)("button",{onClick:()=>d(null),className:"text-slate-400 hover:text-slate-600",children:(0,Te.jsx)(tt,{className:"h-5 w-5"})})]}),(0,Te.jsxs)("div",{className:"space-y-4",children:[(0,Te.jsxs)("div",{children:[(0,Te.jsx)("h4",{className:"font-medium text-slate-900",children:c.name}),c.registry_name&&(0,Te.jsx)("p",{className:"text-sm text-slate-600",children:c.registry_name}),(0,Te.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium mt-2 ".concat(T(c.court_type)),children:c.court_type})]}),(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsxs)("div",{className:"flex items-center text-sm text-slate-600",children:[(0,Te.jsx)(gt,{className:"h-4 w-4 mr-2"}),(0,Te.jsxs)("span",{children:[c.location,", ",c.region]})]}),c.address&&(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:[(0,Te.jsx)("strong",{children:"Address:"})," ",c.address]}),c.area_coverage&&(0,Te.jsxs)("div",{className:"text-sm text-slate-600",children:[(0,Te.jsx)("strong",{children:"Jurisdiction:"})," ",c.area_coverage]})]}),(c.contact_phone||c.contact_email||c.website)&&(0,Te.jsxs)("div",{className:"space-y-2",children:[(0,Te.jsx)("h5",{className:"font-medium text-slate-900",children:"Contact Information"}),c.contact_phone&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-slate-600",children:[(0,Te.jsx)(ft,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("a",{href:"tel:".concat(c.contact_phone),className:"hover:text-blue-600",children:c.contact_phone})]}),c.contact_email&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-slate-600",children:[(0,Te.jsx)(bt,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("a",{href:"mailto:".concat(c.contact_email),className:"hover:text-blue-600",children:c.contact_email})]}),c.website&&(0,Te.jsxs)("div",{className:"flex items-center text-sm text-slate-600",children:[(0,Te.jsx)(ys,{className:"h-4 w-4 mr-2"}),(0,Te.jsx)("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600",children:"Visit Website"})]})]}),c.latitude&&c.longitude&&(0,Te.jsx)("div",{className:"pt-4 border-t border-slate-200",children:(0,Te.jsxs)("button",{onClick:()=>L(c),className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,Te.jsx)(rm,{className:"h-4 w-4"}),"Get Directions"]})})]})]})})]}),(0,Te.jsxs)("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Showing ",s.length," of ",e.length," courts"]})]})})};const om=function(){return(0,Te.jsx)(De,{children:(0,Te.jsx)(Se,{children:(0,Te.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-200",children:[(0,Te.jsx)(rt,{}),(0,Te.jsx)("main",{children:(0,Te.jsxs)(ve,{children:[(0,Te.jsx)(be,{path:"/",element:(0,Te.jsx)(mt,{})}),(0,Te.jsx)(be,{path:"/about",element:(0,Te.jsx)(jt,{})}),(0,Te.jsx)(be,{path:"/services",element:(0,Te.jsx)(_t,{})}),(0,Te.jsx)(be,{path:"/contact",element:(0,Te.jsx)(Nt,{})}),(0,Te.jsx)(be,{path:"/people-results",element:(0,Te.jsx)(ms,{})}),(0,Te.jsx)(be,{path:"/people",element:(0,Te.jsx)(Ft,{})}),(0,Te.jsx)(be,{path:"/person-profile/:id",element:(0,Te.jsx)(qt,{})}),(0,Te.jsx)(be,{path:"/case-detail",element:(0,Te.jsx)(Jt,{})}),(0,Te.jsx)(be,{path:"/case-details/:caseId",element:(0,Te.jsx)(os,{})}),(0,Te.jsx)(be,{path:"/case-search",element:(0,Te.jsx)(cs,{})}),(0,Te.jsx)(be,{path:"/enhanced-search",element:(0,Te.jsx)(Gs,{})}),(0,Te.jsx)(be,{path:"/results",element:(0,Te.jsx)(ds,{})}),(0,Te.jsx)(be,{path:"/signup",element:(0,Te.jsx)(hs,{})}),(0,Te.jsx)(be,{path:"/login",element:(0,Te.jsx)(gs,{})}),(0,Te.jsx)(be,{path:"/forgot-password",element:(0,Te.jsx)(fs,{})}),(0,Te.jsx)(be,{path:"/reset-password",element:(0,Te.jsx)(bs,{})}),(0,Te.jsx)(be,{path:"/banks",element:(0,Te.jsx)(vs,{})}),(0,Te.jsx)(be,{path:"/bank-detail/:id",element:(0,Te.jsx)(Ns,{})}),(0,Te.jsx)(be,{path:"/insurance",element:(0,Te.jsx)(ws,{})}),(0,Te.jsx)(be,{path:"/insurance-detail",element:(0,Te.jsx)(Cs,{})}),(0,Te.jsx)(be,{path:"/insurance-profile/:id",element:(0,Te.jsx)(Ss,{})}),(0,Te.jsx)(be,{path:"/companies",element:(0,Te.jsx)(As,{})}),(0,Te.jsx)(be,{path:"/company-details/:id",element:(0,Te.jsx)(Is,{})}),(0,Te.jsx)(be,{path:"/company-profile/:id",element:(0,Te.jsx)(Ps,{})}),(0,Te.jsx)(be,{path:"/settings",element:(0,Te.jsx)(Us,{})}),(0,Te.jsx)(be,{path:"/notifications",element:(0,Te.jsx)(Vs,{})}),(0,Te.jsx)(be,{path:"/admin",element:(0,Te.jsx)(tm,{})}),(0,Te.jsx)(be,{path:"/subscribe",element:(0,Te.jsx)(lm,{})}),(0,Te.jsx)(be,{path:"/justice-locator",element:(0,Te.jsx)(im,{})})]})}),(0,Te.jsx)(it,{})]})})})};r.createRoot(document.getElementById("root")).render((0,Te.jsx)(n.StrictMode,{children:(0,Te.jsx)(om,{})}))})();
//# sourceMappingURL=main.33849382.js.map